{"config":{"lang":["en","fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"LibreStock Inventory System","text":"<p>Welcome to the LibreStock Inventory documentation. This system helps manage yacht provisioning inventory with features for product management, order tracking, and audit logging.</p> <p>Built with NestJS (backend), TanStack Start with React 19 (frontend), PostgreSQL, Better Auth, and TypeORM.</p>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li> <p>:material-rocket-launch: Getting Started</p> <p>Get up and running with LibreStock Inventory in minutes.</p> <p>:octicons-arrow-right-24: Installation</p> </li> <li> <p>:material-book-open-variant: User Guide</p> <p>Learn how to use all features of the application.</p> <p>:octicons-arrow-right-24: User Guide</p> </li> <li> <p>:material-code-braces: Development</p> <p>Set up your development environment and contribute.</p> <p>:octicons-arrow-right-24: Development</p> </li> <li> <p>:material-map: Roadmap</p> <p>See what's planned for future releases.</p> <p>:octicons-arrow-right-24: Roadmap</p> </li> </ul>"},{"location":"#features","title":"Features","text":"<ul> <li>Product Management - Create and organize products with SKUs, pricing, and categories</li> <li>Category Hierarchy - Multi-level categorization with unlimited nesting</li> <li>Location Tracking - Manage warehouses, suppliers, clients, and in-transit locations</li> <li>Area Management - Define zones, shelves, and bins within locations</li> <li>Inventory Control - Track stock quantities across locations with batch and expiry tracking</li> <li>Stock Movements - Track and record stock movements between locations</li> <li>Order Processing - Track yacht provisioning orders through complete lifecycle (DRAFT, CONFIRMED, SOURCING, PICKING, PACKED, SHIPPED, DELIVERED, CANCELLED, ON_HOLD)</li> <li>Clients Module - Manage client information and relationships</li> <li>Suppliers Module - Manage supplier information and relationships</li> <li>Audit Trail - Complete change history with user tracking</li> <li>Authentication - Better Auth authentication system</li> <li>Roles &amp; Permissions - Role-based access control with PermissionGuard and @RequirePermission</li> <li>Users Management - Admin user management</li> <li>Photos Management - Product and inventory photo management</li> <li>Branding/Customization - Customizable branding options</li> <li>Multi-language - English, French, and German support</li> <li>HATEOAS REST API - Hypermedia-driven API design</li> <li>E2E Testing - End-to-end testing with Playwright</li> <li>Docker Support - Docker Compose for containerized deployment</li> <li>CI/CD - Per-repo GitHub Actions pipelines</li> <li>Documentation - MkDocs site with GitHub Pages</li> <li>QR Scanning - Barcode scanning for quick product lookup</li> </ul>"},{"location":"roadmap/","title":"Roadmap","text":"<p>This roadmap outlines planned features and improvements for LibreStock Inventory. Items are tracked as GitHub Issues.</p> <p>Contributing</p> <p>Interested in contributing? Check our contribution guidelines and pick an issue to work on!</p>"},{"location":"roadmap/#in-progress","title":"In Progress","text":""},{"location":"roadmap/#search-analytics","title":"Search &amp; Analytics","text":"Description Priority Implement advanced search and filtering API High Build advanced search UI with filters High Create dashboard with inventory analytics Medium Implement inventory reporting and export features Medium"},{"location":"roadmap/#advanced-inventory","title":"Advanced Inventory","text":"Description Priority Add low stock alerts and notifications High Add bulk operations for inventory management Medium"},{"location":"roadmap/#user-experience","title":"User Experience","text":"Description Priority Add barcode/QR code scanning support Medium Create getting started guide and seed data Medium"},{"location":"roadmap/#infrastructure-operations","title":"Infrastructure &amp; Operations","text":"Description Priority Add logging and monitoring infrastructure High Set up database backup and recovery strategy High"},{"location":"roadmap/#completed","title":"Completed","text":"<p>These features have been implemented:</p>"},{"location":"roadmap/#core-modules","title":"Core Modules","text":"Description Status Products CRUD :white_check_mark: Done Categories CRUD :white_check_mark: Done Locations CRUD :white_check_mark: Done Areas CRUD :white_check_mark: Done Inventory management :white_check_mark: Done Stock Movements :white_check_mark: Done Orders management (DRAFT, CONFIRMED, SOURCING, PICKING, PACKED, SHIPPED, DELIVERED, CANCELLED, ON_HOLD) :white_check_mark: Done Clients module :white_check_mark: Done Suppliers module :white_check_mark: Done Audit logging :white_check_mark: Done Photos management :white_check_mark: Done"},{"location":"roadmap/#authentication-authorization","title":"Authentication &amp; Authorization","text":"Description Status Better Auth authentication :white_check_mark: Done Roles/Permissions system (PermissionGuard + @RequirePermission) :white_check_mark: Done Users management (admin) :white_check_mark: Done"},{"location":"roadmap/#frontend-api","title":"Frontend &amp; API","text":"Description Status HATEOAS REST API :white_check_mark: Done TanStack Start frontend (React 19) :white_check_mark: Done Branding/customization :white_check_mark: Done i18n (English, French, German) :white_check_mark: Done"},{"location":"roadmap/#infrastructure-quality","title":"Infrastructure &amp; Quality","text":"Description Status Docker support (docker-compose) :white_check_mark: Done CI/CD (per-repo GitHub Actions) :white_check_mark: Done E2E testing (Playwright) :white_check_mark: Done Documentation site (MkDocs, GitHub Pages) :white_check_mark: Done Code quality tools and linting :white_check_mark: Done"},{"location":"roadmap/#future-considerations","title":"Future Considerations","text":"<p>Features under consideration for future releases:</p> <ul> <li>PWA - Progressive Web App with offline support</li> <li>Multi-yacht support - Manage inventory across multiple vessels</li> <li>Supplier integration - Direct ordering from suppliers</li> <li>AI-powered predictions - Automatic reorder suggestions</li> <li>Mobile native apps - iOS and Android applications</li> <li>Offline-first sync - Full offline capability with sync</li> </ul>"},{"location":"roadmap/#repositories","title":"Repositories","text":"Repository Description Link meta Workspace orchestration and scripts GitHub backend NestJS API server GitHub frontend TanStack Start web application GitHub packages Shared types and utilities GitHub documentation MkDocs documentation site GitHub remote-desktop Remote desktop tooling GitHub landing Landing page GitHub <p>Last updated: February 2026</p>"},{"location":"contributing/","title":"Contributing","text":"<p>Thank you for your interest in contributing to LibreStock Inventory! This section covers how to contribute to the project.</p>"},{"location":"contributing/#ways-to-contribute","title":"Ways to Contribute","text":"<ul> <li>Report bugs - Found an issue? Open an issue</li> <li>Suggest features - Have an idea? Share it with us</li> <li>Submit code - Fix bugs or add features</li> <li>Improve documentation - Help others understand the project</li> </ul>"},{"location":"contributing/#getting-started","title":"Getting Started","text":"<ol> <li>Read the guidelines - Review our contribution guidelines</li> <li>Set up your environment - Follow the development setup</li> <li>Find an issue - Look for <code>good first issue</code> labels</li> <li>Submit a PR - Follow our pull request process</li> </ol>"},{"location":"contributing/#code-of-conduct","title":"Code of Conduct","text":"<p>We are committed to providing a welcoming and inclusive environment. Please be respectful and constructive in all interactions.</p>"},{"location":"contributing/#questions","title":"Questions?","text":"<p>If you have questions about contributing:</p> <ul> <li>Check existing issues</li> <li>Review the documentation</li> <li>Ask in discussions</li> </ul>"},{"location":"contributing/guidelines/","title":"Contribution Guidelines","text":"<p>This document outlines the guidelines for contributing to LibreStock Inventory.</p>"},{"location":"contributing/guidelines/#development-workflow","title":"Development Workflow","text":""},{"location":"contributing/guidelines/#1-fork-and-clone","title":"1. Fork and Clone","text":"<pre><code># Fork the repository on GitHub, then:\ngit clone https://github.com/YOUR-USERNAME/meta.git\ncd meta\n</code></pre>"},{"location":"contributing/guidelines/#2-bootstrap-the-workspace","title":"2. Bootstrap the Workspace","text":"<pre><code># Install dependencies and set up all repos\n./meta/scripts/bootstrap\n</code></pre>"},{"location":"contributing/guidelines/#3-create-a-branch","title":"3. Create a Branch","text":"<pre><code>git checkout -b feature/your-feature-name\n# or\ngit checkout -b fix/issue-description\n</code></pre>"},{"location":"contributing/guidelines/#4-make-changes","title":"4. Make Changes","text":"<ul> <li>Follow the code style guide</li> <li>Write tests for new functionality</li> <li>Update documentation as needed</li> </ul>"},{"location":"contributing/guidelines/#5-test-your-changes","title":"5. Test Your Changes","text":"<pre><code># Run backend linting\npnpm --filter @librestock/api lint\n\n# Run frontend linting\npnpm --filter @librestock/web lint\n\n# Run backend tests\npnpm --filter @librestock/api test\n\n# Run frontend E2E tests\npnpm --filter @librestock/web test:e2e\n\n# Build backend to check for type errors\npnpm --filter @librestock/api build\n\n# Build frontend to check for type errors\npnpm --filter @librestock/web build\n</code></pre>"},{"location":"contributing/guidelines/#6-commit-your-changes","title":"6. Commit Your Changes","text":"<p>Use clear, descriptive commit messages:</p> <pre><code>git commit -m \"feat: add product search functionality\"\ngit commit -m \"fix: resolve category deletion error\"\ngit commit -m \"docs: update API development guide\"\n</code></pre> <p>Follow Conventional Commits format:</p> <ul> <li><code>feat:</code> - New feature</li> <li><code>fix:</code> - Bug fix</li> <li><code>docs:</code> - Documentation changes</li> <li><code>style:</code> - Code style changes (formatting, etc.)</li> <li><code>refactor:</code> - Code refactoring</li> <li><code>test:</code> - Adding or updating tests</li> <li><code>chore:</code> - Maintenance tasks</li> </ul>"},{"location":"contributing/guidelines/#7-push-and-create-pr","title":"7. Push and Create PR","text":"<pre><code>git push origin feature/your-feature-name\n</code></pre> <p>Then create a pull request on GitHub.</p>"},{"location":"contributing/guidelines/#code-standards","title":"Code Standards","text":""},{"location":"contributing/guidelines/#typescript","title":"TypeScript","text":"<ul> <li>Use strict TypeScript</li> <li>Provide types for all function parameters and return values</li> <li>Avoid <code>any</code> type</li> </ul>"},{"location":"contributing/guidelines/#api-development","title":"API Development","text":"<ul> <li>Follow the API development guide</li> <li>Add Swagger decorators for new endpoints</li> <li>Include validation decorators on DTOs</li> </ul>"},{"location":"contributing/guidelines/#frontend-development","title":"Frontend Development","text":"<ul> <li>Follow the frontend development guide</li> <li>Prefer server components when possible</li> <li>Use generated API hooks</li> </ul>"},{"location":"contributing/guidelines/#testing","title":"Testing","text":"<ul> <li>Write unit tests for new functionality</li> <li>Follow the testing guide</li> <li>Aim for meaningful test coverage</li> </ul>"},{"location":"contributing/guidelines/#documentation","title":"Documentation","text":"<p>When contributing:</p> <ul> <li>Update relevant documentation</li> <li>Add JSDoc comments for public APIs</li> <li>Include examples for complex functionality</li> </ul>"},{"location":"contributing/guidelines/#review-process","title":"Review Process","text":"<ol> <li>Automated checks - CI must pass</li> <li>Code review - At least one approval required</li> <li>Documentation review - For significant changes</li> <li>Merge - Squash and merge to main</li> </ol>"},{"location":"contributing/guidelines/#getting-help","title":"Getting Help","text":"<ul> <li>Check existing issues and documentation</li> <li>Ask questions in your PR</li> <li>Reach out to maintainers</li> </ul>"},{"location":"contributing/pull-requests/","title":"Pull Request Process","text":"<p>This guide explains how to create and manage pull requests for LibreStock Inventory.</p>"},{"location":"contributing/pull-requests/#creating-a-pull-request","title":"Creating a Pull Request","text":""},{"location":"contributing/pull-requests/#prerequisites","title":"Prerequisites","text":"<p>Before creating a PR:</p> <ol> <li> <p>Tests pass locally <pre><code>pnpm --filter @librestock/api test\npnpm --filter @librestock/web test:e2e\n</code></pre></p> </li> <li> <p>Linting passes <pre><code>pnpm --filter @librestock/api lint\npnpm --filter @librestock/web lint\n</code></pre></p> </li> <li> <p>Build succeeds <pre><code>pnpm --filter @librestock/api build\npnpm --filter @librestock/web build\n</code></pre></p> </li> <li> <p>Branch is up to date <pre><code>git fetch origin\ngit rebase origin/main\n</code></pre></p> </li> </ol>"},{"location":"contributing/pull-requests/#pr-template","title":"PR Template","text":"<p>When creating a PR, include:</p> <pre><code>## Summary\n\nBrief description of the changes.\n\n## Changes\n\n- Added X feature\n- Fixed Y bug\n- Updated Z documentation\n\n## Test Plan\n\n- [ ] Unit tests added/updated\n- [ ] Manual testing performed\n- [ ] Documentation updated\n\n## Screenshots (if applicable)\n\n[Add screenshots for UI changes]\n</code></pre>"},{"location":"contributing/pull-requests/#review-process","title":"Review Process","text":""},{"location":"contributing/pull-requests/#1-automated-checks","title":"1. Automated Checks","text":"<p>When you open a PR, the following checks run automatically:</p> <ul> <li>Linting - Code style validation</li> <li>Type checking - TypeScript compilation</li> <li>Tests - Unit and integration tests</li> <li>Build - Ensure all packages build</li> </ul> <p>All checks must pass before merging.</p>"},{"location":"contributing/pull-requests/#2-code-review","title":"2. Code Review","text":"<ul> <li>At least one approval is required</li> <li>Reviewers will check:<ul> <li>Code quality and style</li> <li>Test coverage</li> <li>Documentation updates</li> <li>Security considerations</li> </ul> </li> </ul>"},{"location":"contributing/pull-requests/#3-addressing-feedback","title":"3. Addressing Feedback","text":"<ul> <li>Respond to all comments</li> <li>Push additional commits to address feedback</li> <li>Request re-review after changes</li> </ul>"},{"location":"contributing/pull-requests/#merging","title":"Merging","text":"<p>Once approved:</p> <ol> <li>Squash and merge - Default merge strategy</li> <li>Delete branch - Clean up after merge</li> <li>CI runs on main - Verify the merge</li> </ol>"},{"location":"contributing/pull-requests/#best-practices","title":"Best Practices","text":""},{"location":"contributing/pull-requests/#keep-prs-small","title":"Keep PRs Small","text":"<ul> <li>Easier to review</li> <li>Faster to merge</li> <li>Less risk of conflicts</li> </ul>"},{"location":"contributing/pull-requests/#write-clear-descriptions","title":"Write Clear Descriptions","text":"<ul> <li>Explain the \"why\", not just the \"what\"</li> <li>Link to related issues</li> <li>Include context for reviewers</li> </ul>"},{"location":"contributing/pull-requests/#respond-promptly","title":"Respond Promptly","text":"<ul> <li>Address feedback quickly</li> <li>Keep the conversation moving</li> <li>Ask questions if unclear</li> </ul>"},{"location":"contributing/pull-requests/#update-documentation","title":"Update Documentation","text":"<ul> <li>README changes if needed</li> <li>API documentation for new endpoints</li> <li>User guide for new features</li> </ul>"},{"location":"contributing/pull-requests/#handling-merge-conflicts","title":"Handling Merge Conflicts","text":"<p>If conflicts arise:</p> <pre><code># Update your branch\ngit fetch origin\ngit rebase origin/main\n\n# Resolve conflicts\n# Edit conflicting files\ngit add &lt;resolved-files&gt;\ngit rebase --continue\n\n# Force push (only for PR branches)\ngit push --force-with-lease\n</code></pre>"},{"location":"contributing/pull-requests/#after-merging","title":"After Merging","text":"<ul> <li>Delete your feature branch</li> <li>Verify CI passes on main</li> <li>Check the deployment (if applicable)</li> </ul>"},{"location":"development/","title":"Development","text":"<p>This section covers everything you need to contribute to the LibreStock Inventory codebase.</p>"},{"location":"development/#overview","title":"Overview","text":"<p>LibreStock Inventory is a multi-repo workspace containing:</p> <ul> <li>backend/ - NestJS backend</li> <li>frontend/ - TanStack Start frontend</li> <li>packages/ - Shared types, configs</li> <li>meta/ - Orchestration scripts, Docker Compose</li> </ul>"},{"location":"development/#quick-links","title":"Quick Links","text":"<ul> <li>Architecture - System design and tech stack</li> <li>Setup - Development environment configuration</li> <li>Code Style - ESLint, Prettier, and conventions</li> <li>Testing - Jest test patterns</li> <li>API Development - NestJS patterns</li> <li>Frontend Development - TanStack Start patterns</li> <li>CI/CD - GitHub Actions workflows</li> </ul>"},{"location":"development/#development-workflow","title":"Development Workflow","text":"<ol> <li> <p>Start the environment</p> <pre><code># Start services (PostgreSQL, etc.)\ncd meta &amp;&amp; docker compose up -d\n\n# Enter dev shell (per-repo Nix flakes)\ncd backend &amp;&amp; nix develop\ncd frontend &amp;&amp; nix develop\n</code></pre> </li> <li> <p>Make changes to the codebase</p> </li> <li> <p>Update shared types (if DTO shapes changed)</p> <pre><code>pnpm --filter @librestock/types build\n</code></pre> </li> <li> <p>Run tests and lint</p> <pre><code>pnpm test\npnpm lint\n</code></pre> </li> <li> <p>Submit a pull request</p> </li> </ol>"},{"location":"development/api-development/","title":"API Development","text":"<p>This guide covers NestJS development patterns for the LibreStock Inventory backend.</p>"},{"location":"development/api-development/#module-structure","title":"Module Structure","text":"<p>Each feature follows this structure:</p> <pre><code>routes/&lt;feature&gt;/\n\u251c\u2500\u2500 &lt;feature&gt;.module.ts\n\u251c\u2500\u2500 &lt;feature&gt;.controller.ts\n\u251c\u2500\u2500 &lt;feature&gt;.service.ts\n\u251c\u2500\u2500 &lt;feature&gt;.repository.ts\n\u251c\u2500\u2500 &lt;feature&gt;.hateoas.ts\n\u251c\u2500\u2500 entities/\n\u2502   \u2514\u2500\u2500 &lt;feature&gt;.entity.ts\n\u2514\u2500\u2500 dto/\n    \u251c\u2500\u2500 create-&lt;feature&gt;.dto.ts\n    \u251c\u2500\u2500 update-&lt;feature&gt;.dto.ts\n    \u251c\u2500\u2500 &lt;feature&gt;-response.dto.ts\n    \u251c\u2500\u2500 &lt;feature&gt;-query.dto.ts\n    \u2514\u2500\u2500 index.ts\n</code></pre>"},{"location":"development/api-development/#creating-a-new-entity","title":"Creating a New Entity","text":""},{"location":"development/api-development/#1-entity-definition","title":"1. Entity Definition","text":"<pre><code>// routes/products/entities/product.entity.ts\nimport { Entity, Column, ManyToOne, JoinColumn } from 'typeorm';\nimport { BaseAuditEntity } from 'src/common/entities/base-audit.entity';\nimport { Category } from '../../categories/entities/category.entity';\n\n@Entity('products')\nexport class Product extends BaseAuditEntity {\n  @Column({ length: 50, unique: true })\n  sku: string;\n\n  @Column({ length: 200 })\n  name: string;\n\n  @Column({ type: 'uuid', nullable: true })\n  category_id: string | null;\n\n  @ManyToOne(() =&gt; Category, { onDelete: 'RESTRICT' })\n  @JoinColumn({ name: 'category_id' })\n  category: Category | null;\n}\n</code></pre>"},{"location":"development/api-development/#base-entities","title":"Base Entities","text":"<ul> <li><code>BaseEntity</code>: <code>created_at</code>, <code>updated_at</code></li> <li><code>BaseAuditEntity</code>: Adds <code>deleted_at</code>, <code>created_by</code>, <code>updated_by</code>, <code>deleted_by</code></li> </ul>"},{"location":"development/api-development/#2-dtos","title":"2. DTOs","text":"<pre><code>// dto/create-product.dto.ts\nimport { ApiProperty } from '@nestjs/swagger';\nimport { IsString, IsUUID, IsOptional, MaxLength } from 'class-validator';\n\nexport class CreateProductDto {\n  @ApiProperty({ example: 'PROD-001' })\n  @IsString()\n  @MaxLength(50)\n  sku: string;\n\n  @ApiProperty({ example: 'Luxury Towel' })\n  @IsString()\n  @MaxLength(200)\n  name: string;\n\n  @ApiProperty({ required: false })\n  @IsOptional()\n  @IsUUID()\n  category_id?: string;\n}\n</code></pre>"},{"location":"development/api-development/#3-repository","title":"3. Repository","text":"<pre><code>// product.repository.ts\n@Injectable()\nexport class ProductRepository {\n  constructor(\n    @InjectRepository(Product)\n    private readonly repository: Repository&lt;Product&gt;,\n  ) {}\n\n  async findById(id: string): Promise&lt;Product | null&gt; {\n    return this.repository.findOne({\n      where: { id, deleted_at: IsNull() },\n      relations: ['category'],\n    });\n  }\n\n  async create(data: Partial&lt;Product&gt;): Promise&lt;Product&gt; {\n    const product = this.repository.create(data);\n    return this.repository.save(product);\n  }\n}\n</code></pre>"},{"location":"development/api-development/#4-service","title":"4. Service","text":"<pre><code>// products.service.ts\n@Injectable()\nexport class ProductsService {\n  constructor(\n    private readonly productRepository: ProductRepository,\n    private readonly categoryRepository: CategoryRepository,\n  ) {}\n\n  async create(dto: CreateProductDto, userId: string): Promise&lt;Product&gt; {\n    // Validate category exists\n    if (dto.category_id) {\n      const exists = await this.categoryRepository.existsById(dto.category_id);\n      if (!exists) {\n        throw new NotFoundException('Category not found');\n      }\n    }\n\n    // Check SKU uniqueness\n    const existing = await this.productRepository.findBySku(dto.sku);\n    if (existing) {\n      throw new BadRequestException('SKU already exists');\n    }\n\n    return this.productRepository.create({\n      ...dto,\n      created_by: userId,\n      updated_by: userId,\n    });\n  }\n}\n</code></pre>"},{"location":"development/api-development/#5-controller","title":"5. Controller","text":"<p>Controllers use <code>@Controller()</code> with an empty string. Routing is done via <code>RouterModule</code> in <code>app.routes.ts</code>.</p> <pre><code>// products.controller.ts\n@Controller()\n@ApiTags('Products')\nexport class ProductsController {\n  constructor(private readonly productsService: ProductsService) {}\n\n  @Post()\n  @Auditable()\n  @RequirePermission('products', 'create')\n  @StandardThrottle()\n  @UseInterceptors(HateoasInterceptor)\n  @ProductHateoas()\n  @ApiOperation({ summary: 'Create product' })\n  @ApiResponse({ status: 201, type: ProductResponseDto })\n  async create(\n    @Body() dto: CreateProductDto,\n    @CurrentUser('userId') userId: string,\n  ): Promise&lt;Product&gt; {\n    return this.productsService.create(dto, userId);\n  }\n}\n</code></pre> <p>Controller routing</p> <p>Controllers use <code>@Controller()</code> with an empty string. The actual route paths (e.g., <code>/products</code>) are configured via <code>RouterModule</code> in <code>app.routes.ts</code>. The global prefix <code>/api/v1</code> is applied automatically.</p>"},{"location":"development/api-development/#key-decorators","title":"Key Decorators","text":"Decorator Purpose Example <code>@Auditable()</code> Records action in audit log <code>@Auditable()</code> <code>@RequirePermission(resource, permission)</code> Enforces permission check <code>@RequirePermission('products', 'create')</code> <code>@StandardThrottle()</code> Rate limiting (100 req/min) <code>@StandardThrottle()</code> <code>@Transactional()</code> Wraps method in DB transaction <code>@Transactional()</code>"},{"location":"development/api-development/#6-hateoas-links","title":"6. HATEOAS Links","text":"<p>HATEOAS links use relative paths. The <code>HateoasInterceptor</code> auto-prepends the global prefix (<code>/api/v1</code>).</p> <pre><code>// products.hateoas.ts\nexport const PRODUCT_HATEOAS_LINKS: LinkDefinition[] = [\n  { rel: 'self', href: (data) =&gt; `/products/${data.id}`, method: 'GET' },\n  { rel: 'update', href: (data) =&gt; `/products/${data.id}`, method: 'PUT' },\n  { rel: 'delete', href: (data) =&gt; `/products/${data.id}`, method: 'DELETE' },\n];\n\nexport const ProductHateoas = () =&gt; HateoasLinks(...PRODUCT_HATEOAS_LINKS);\n</code></pre>"},{"location":"development/api-development/#7-module-registration","title":"7. Module Registration","text":"<pre><code>// products.module.ts\n@Module({\n  imports: [TypeOrmModule.forFeature([Product])],\n  controllers: [ProductsController],\n  providers: [ProductsService, ProductRepository],\n  exports: [ProductsService],\n})\nexport class ProductsModule {}\n</code></pre> <p>Export only the Service</p> <p>Modules export only their Service, never the Repository. Cross-module access goes through the Service layer.</p>"},{"location":"development/api-development/#8-update-shared-types","title":"8. Update Shared Types","text":"<pre><code>pnpm --filter @librestock/types barrels\npnpm --filter @librestock/types build\n</code></pre>"},{"location":"development/api-development/#authentication","title":"Authentication","text":""},{"location":"development/api-development/#using-guards","title":"Using Guards","text":"<p>Authentication is handled by Better Auth via <code>AuthGuard</code>:</p> <pre><code>// AuthGuard is applied globally -- no need to add it per controller\n// Use @RequirePermission for authorization\n@Controller()\nexport class ProductsController {\n  @RequirePermission('products', 'read')\n  @Get()\n  async findAll() { ... }\n}\n</code></pre>"},{"location":"development/api-development/#accessing-user","title":"Accessing User","text":"<pre><code>// Get user ID\n@CurrentUser('userId') userId: string\n\n// Get full auth object\n@CurrentUser() auth: { userId: string; sessionId: string }\n</code></pre>"},{"location":"development/api-development/#authorization","title":"Authorization","text":"<p>Use <code>@RequirePermission</code> to enforce permission-based access control:</p> <pre><code>@Controller()\nexport class ProductsController {\n  @RequirePermission('products', 'read')\n  @Get()\n  async findAll() { ... }\n\n  @RequirePermission('products', 'create')\n  @Post()\n  async create() { ... }\n\n  @RequirePermission('products', 'update')\n  @Put(':id')\n  async update() { ... }\n\n  @RequirePermission('products', 'delete')\n  @Delete(':id')\n  async remove() { ... }\n}\n</code></pre> <p>The <code>PermissionGuard</code> checks the user's role permissions against the required permission declared by <code>@RequirePermission</code>.</p>"},{"location":"development/api-development/#error-handling","title":"Error Handling","text":"<p>Use NestJS built-in exceptions:</p> <pre><code>throw new NotFoundException('Product not found');\nthrow new BadRequestException('Invalid SKU format');\nthrow new UnauthorizedException('Token expired');\nthrow new ForbiddenException('Insufficient permissions');\n</code></pre>"},{"location":"development/api-development/#soft-delete","title":"Soft Delete","text":"<p>Products use soft delete:</p> <pre><code>// Repository - exclude deleted by default\nasync findAll(): Promise&lt;Product[]&gt; {\n  return this.repository.find({\n    where: { deleted_at: IsNull() },\n  });\n}\n\n// Include deleted\nasync findAllWithDeleted(): Promise&lt;Product[]&gt; {\n  return this.repository.find();\n}\n\n// Soft delete\nasync softDelete(id: string, userId: string): Promise&lt;void&gt; {\n  await this.repository.update(id, {\n    deleted_at: new Date(),\n    deleted_by: userId,\n  });\n}\n</code></pre>"},{"location":"development/api-development/#response-formats","title":"Response Formats","text":""},{"location":"development/api-development/#single-entity","title":"Single Entity","text":"<pre><code>{\n  \"id\": \"uuid\",\n  \"name\": \"Product Name\",\n  \"_links\": {\n    \"self\": { \"href\": \"/api/v1/products/uuid\", \"method\": \"GET\" }\n  }\n}\n</code></pre>"},{"location":"development/api-development/#paginated-list","title":"Paginated List","text":"<pre><code>{\n  \"data\": [...],\n  \"meta\": {\n    \"page\": 1,\n    \"limit\": 20,\n    \"total\": 100,\n    \"total_pages\": 5,\n    \"has_next\": true,\n    \"has_previous\": false\n  }\n}\n</code></pre>"},{"location":"development/api-development/#bulk-operation","title":"Bulk Operation","text":"<pre><code>{\n  \"success_count\": 8,\n  \"failure_count\": 2,\n  \"succeeded\": [\"id1\", \"id2\"],\n  \"failures\": [\n    { \"id\": \"id3\", \"error\": \"Not found\" }\n  ]\n}\n</code></pre>"},{"location":"development/api-development/#rate-limiting","title":"Rate Limiting","text":"<p>The API uses <code>@nestjs/throttler</code> for IP-based rate limiting.</p>"},{"location":"development/api-development/#throttle-decorators","title":"Throttle Decorators","text":"<p>Apply to controllers or individual endpoints:</p> <pre><code>import { StandardThrottle, BulkThrottle, AuthThrottle } from 'src/common/decorators/throttle.decorator';\n\n@StandardThrottle() // 100 req/min\n@Controller()\nexport class ProductsController {\n\n  @BulkThrottle() // Override with 20 req/min\n  @Post('bulk')\n  async bulkCreate() { ... }\n}\n\n@AuthThrottle() // 10 req/min for auth endpoints\n@Controller()\nexport class AuthController { ... }\n</code></pre>"},{"location":"development/api-development/#available-throttle-levels","title":"Available Throttle Levels","text":"<ul> <li><code>@StandardThrottle()</code> - 100 requests/minute (default for most endpoints)</li> <li><code>@BulkThrottle()</code> - 20 requests/minute (bulk operations)</li> <li><code>@AuthThrottle()</code> - 10 requests/minute (prevents brute force)</li> <li><code>@SkipThrottle()</code> - No rate limiting (health checks)</li> </ul>"},{"location":"development/api-development/#429-response","title":"429 Response","text":"<p>When rate limited:</p> <pre><code>{\n  \"statusCode\": 429,\n  \"error\": \"Too Many Requests\",\n  \"message\": \"Rate limit exceeded. Please slow down your requests and try again later.\",\n  \"path\": \"/api/v1/products\",\n  \"timestamp\": \"2026-01-18T20:00:00.000Z\",\n  \"hint\": \"Consider implementing exponential backoff or waiting before retrying.\"\n}\n</code></pre>"},{"location":"development/api-development/#transaction-management","title":"Transaction Management","text":"<p>Use the <code>@Transactional()</code> decorator for atomic operations.</p>"},{"location":"development/api-development/#basic-usage","title":"Basic Usage","text":"<pre><code>import { Transactional } from 'src/common/decorators/transactional.decorator';\n\n@Injectable()\nexport class ProductsService {\n  @Transactional()\n  async bulkCreate(dto: BulkCreateProductsDto) {\n    // All database operations here run in a transaction\n    // If any operation fails, all changes are rolled back automatically\n\n    for (const product of dto.products) {\n      await this.productRepository.create(product);\n    }\n\n    return result;\n  }\n}\n</code></pre>"},{"location":"development/api-development/#when-to-use-transactions","title":"When to Use Transactions","text":"<p>Use <code>@Transactional()</code> for operations that:</p> <ol> <li>Modify multiple records - Ensure all-or-nothing semantics</li> <li>Have dependencies - Prevent partial completion (e.g., inventory creation)</li> <li>Update hierarchies - Protect parent-child relationships</li> <li>Adjust quantities - Prevent race conditions</li> <li>Bulk operations - Prevent partial batch inserts</li> </ol>"},{"location":"development/api-development/#examples","title":"Examples","text":"<pre><code>// Bulk insert - prevents partial batches\n@Transactional()\nasync bulkCreate(products: CreateProductDto[]) {\n  const created = [];\n  for (const dto of products) {\n    created.push(await this.repository.create(dto));\n  }\n  return created;\n}\n\n// Inventory creation - prevents TOCTOU races\n@Transactional()\nasync create(dto: CreateInventoryDto) {\n  // Check if inventory exists\n  const existing = await this.repository.findByProductAndLocation(\n    dto.product_id,\n    dto.location_id\n  );\n  if (existing) throw new ConflictException();\n\n  // Create inventory\n  return this.repository.create(dto);\n}\n\n// Quantity adjustment - atomic updates\n@Transactional()\nasync adjustQuantity(id: string, adjustment: number) {\n  const inventory = await this.repository.findById(id);\n  const newQuantity = inventory.quantity + adjustment;\n\n  if (newQuantity &lt; 0) {\n    throw new BadRequestException('Insufficient quantity');\n  }\n\n  await this.repository.update(id, { quantity: newQuantity });\n  return this.repository.findById(id);\n}\n\n// Circular reference check - atomic validation\n@Transactional()\nasync update(id: string, dto: UpdateCategoryDto) {\n  if (dto.parent_id) {\n    await this.validateNoCircularReference(id, dto.parent_id);\n  }\n  return this.repository.update(id, dto);\n}\n</code></pre>"},{"location":"development/api-development/#transaction-behavior","title":"Transaction Behavior","text":"<ul> <li>Success: All changes committed to database</li> <li>Error: All changes rolled back automatically</li> <li>Logging: Start and completion/rollback logged automatically</li> <li>Nesting: Transactions can be nested (uses savepoints)</li> <li>Performance: ~5-10ms overhead per transaction</li> </ul>"},{"location":"development/api-development/#audit-logging","title":"Audit Logging","text":"<p>Use the <code>@Auditable()</code> decorator to automatically record entity changes:</p> <pre><code>@Post()\n@Auditable()\n@RequirePermission('products', 'create')\nasync create(@Body() dto: CreateProductDto) {\n  return this.productsService.create(dto);\n}\n</code></pre> <p>The audit log captures the action, user, entity, and timestamp.</p>"},{"location":"development/api-development/#health-checks","title":"Health Checks","text":"<p>The API provides three health check endpoints using <code>@nestjs/terminus</code>.</p>"},{"location":"development/api-development/#endpoints","title":"Endpoints","text":""},{"location":"development/api-development/#full-health-check","title":"Full Health Check","text":"<p><code>GET /health-check</code></p> <p>Checks database connectivity and auth configuration:</p> <pre><code>{\n  \"status\": \"ok\",\n  \"info\": {\n    \"database\": { \"status\": \"up\" },\n    \"auth\": {\n      \"status\": \"up\",\n      \"message\": \"Better Auth is properly configured\"\n    }\n  }\n}\n</code></pre> <p>Returns <code>503</code> if any check fails.</p>"},{"location":"development/api-development/#liveness-probe","title":"Liveness Probe","text":"<p><code>GET /health-check/live</code></p> <p>Kubernetes liveness probe - always returns <code>200</code> if app is running:</p> <pre><code>{\n  \"status\": \"ok\"\n}\n</code></pre>"},{"location":"development/api-development/#readiness-probe","title":"Readiness Probe","text":"<p><code>GET /health-check/ready</code></p> <p>Kubernetes readiness probe - checks database only:</p> <pre><code>{\n  \"status\": \"ok\",\n  \"info\": {\n    \"database\": { \"status\": \"up\" }\n  }\n}\n</code></pre> <p>Returns <code>503</code> if database is unreachable.</p>"},{"location":"development/api-development/#kubernetes-configuration","title":"Kubernetes Configuration","text":"<pre><code>livenessProbe:\n  httpGet:\n    path: /health-check/live\n    port: 8080\n  initialDelaySeconds: 30\n  periodSeconds: 10\n\nreadinessProbe:\n  httpGet:\n    path: /health-check/ready\n    port: 8080\n  initialDelaySeconds: 5\n  periodSeconds: 5\n</code></pre>"},{"location":"development/architecture/","title":"Architecture","text":""},{"location":"development/architecture/#system-overview","title":"System Overview","text":"<pre><code>graph TB\n    subgraph \"Frontend\"\n        A[TanStack Start] --&gt; B[React 19]\n        A --&gt; E[TanStack Router]\n        B --&gt; C[TanStack Query]\n        B --&gt; D[TanStack Form]\n    end\n\n    subgraph \"Backend\"\n        F[NestJS 11] --&gt; G[TypeORM]\n        G --&gt; H[(PostgreSQL 16)]\n    end\n\n    subgraph \"Auth\"\n        I[Better Auth]\n    end\n\n    A --&gt;|REST API| F\n    A --&gt; I\n    F --&gt; I</code></pre>"},{"location":"development/architecture/#tech-stack","title":"Tech Stack","text":"Layer Technology Frontend TanStack Start, React 19, TanStack Router, TanStack Query/Form, Tailwind CSS 4, Radix UI Backend NestJS 11, TypeORM, PostgreSQL 16 Auth Better Auth API Docs Swagger UI Tooling pnpm workspaces, Nix flakes, TypeScript, Docker Compose i18n i18next (en, de, fr)"},{"location":"development/architecture/#repository-structure","title":"Repository Structure","text":"<pre><code>librestock/\n\u251c\u2500\u2500 backend/                # NestJS backend\n\u2502   \u251c\u2500\u2500 src/\n\u2502   \u2502   \u251c\u2500\u2500 routes/         # Feature modules\n\u2502   \u2502   \u2514\u2500\u2500 common/         # Shared utilities\n\u2502   \u2514\u2500\u2500 flake.nix           # Nix dev environment\n\u251c\u2500\u2500 frontend/               # TanStack Start frontend\n\u2502   \u251c\u2500\u2500 src/\n\u2502   \u2502   \u251c\u2500\u2500 routes/         # File-based routes\n\u2502   \u2502   \u251c\u2500\u2500 components/     # React components\n\u2502   \u2502   \u2514\u2500\u2500 lib/            # Utilities and data hooks\n\u2502   \u2514\u2500\u2500 flake.nix           # Nix dev environment\n\u251c\u2500\u2500 packages/\n\u2502   \u251c\u2500\u2500 tsconfig/           # Shared TS configs\n\u2502   \u251c\u2500\u2500 eslint-config/      # Shared ESLint config\n\u2502   \u2514\u2500\u2500 types/              # Shared DTO interfaces/enums\n\u251c\u2500\u2500 documentation/          # MkDocs documentation\n\u2514\u2500\u2500 meta/                   # Orchestration scripts, Docker Compose\n</code></pre>"},{"location":"development/architecture/#data-flow","title":"Data Flow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           TanStack Start Frontend       \u2502\n\u2502  React Query + handwritten clients       \u2502\n\u2502  Shared DTOs from @librestock/types      \u2502\n\u2502  Better Auth                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u25bc HTTP/REST\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            NestJS Backend               \u2502\n\u2502  Controller \u2192 Service \u2192 Repository      \u2502\n\u2502  AuthGuard \u00b7 PermissionGuard \u00b7 TypeORM  \u2502\n\u2502  HateoasInterceptor \u00b7 Swagger UI        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502             PostgreSQL                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"development/architecture/#authentication-flow","title":"Authentication Flow","text":"<pre><code>User \u2192 Better Auth \u2192 JWT Token\n                       \u2193\nFrontend: Authorization: Bearer {token}\n                       \u2193\nBackend: AuthGuard \u2192 verify \u2192 req.auth.userId\n</code></pre>"},{"location":"development/architecture/#backend-route-modules","title":"Backend Route Modules","text":"<p>The backend has the following route modules in <code>backend/src/routes/</code>:</p> Module Purpose areas Zones within locations (shelves, bins, etc.) audit-logs Audit trail for all entity changes auth Authentication endpoints (Better Auth) branding Branding/customization settings categories Hierarchical product categorization clients Client/customer management health Health check endpoints (liveness, readiness) inventory Stock quantities at locations/areas locations Physical locations (warehouses, etc.) orders Order management photos Photo/image management for products products Product catalog (SKU, name, category) roles Role and permission management stock-movements Stock movement tracking (transfers, adjustments) suppliers Supplier management users User management"},{"location":"development/architecture/#backend-common-directories","title":"Backend Common Directories","text":"<p>Shared utilities in <code>backend/src/common/</code>:</p> Directory Purpose auth Authentication utilities decorators <code>@Auditable</code>, <code>@RequirePermission</code>, <code>@StandardThrottle</code>, <code>@Transactional</code> dto Base/shared DTOs entities <code>BaseEntity</code>, <code>BaseAuditEntity</code> enums Shared enumerations filters Exception filters guards <code>PermissionGuard</code> hateoas HATEOAS link system, <code>HateoasInterceptor</code> interceptors Response interceptors middleware HTTP middleware utils General utilities"},{"location":"development/architecture/#shared-types-workflow","title":"Shared-Types Workflow","text":"<p>Shared DTO interfaces/enums are the contract between frontend and backend:</p> <pre><code># 1. Generate barrel exports\npnpm --filter @librestock/types barrels\n\n# 2. Build shared types\npnpm --filter @librestock/types build\n</code></pre> <p>Keep shared types aligned</p> <p>Ensure backend DTOs and frontend hooks match <code>packages/types</code>.</p>"},{"location":"development/architecture/#domain-model","title":"Domain Model","text":"<pre><code>classDiagram\n    class Product {\n        +uuid id\n        +string sku\n        +string name\n        +uuid category_id\n        +int reorder_point\n    }\n\n    class Location {\n        +uuid id\n        +string name\n        +LocationType type\n    }\n\n    class Area {\n        +uuid id\n        +uuid location_id\n        +uuid parent_id\n        +string name\n        +string code\n    }\n\n    class Inventory {\n        +uuid id\n        +uuid product_id\n        +uuid location_id\n        +uuid area_id\n        +int quantity\n    }\n\n    class Category {\n        +uuid id\n        +string name\n        +uuid parent_id\n    }\n\n    class Client {\n        +uuid id\n        +string name\n    }\n\n    class Supplier {\n        +uuid id\n        +string name\n    }\n\n    class Order {\n        +uuid id\n        +uuid client_id\n        +OrderStatus status\n    }\n\n    class StockMovement {\n        +uuid id\n        +uuid product_id\n        +uuid from_location_id\n        +uuid to_location_id\n        +int quantity\n    }\n\n    class Role {\n        +uuid id\n        +string name\n        +Permission[] permissions\n    }\n\n    class User {\n        +uuid id\n        +string email\n        +uuid role_id\n    }\n\n    Product --&gt; Category : belongs to\n    Product --&gt; Inventory : tracked in\n    Location --&gt; Inventory : stores\n    Location --&gt; Area : contains\n    Area --&gt; Area : parent/children\n    Area --&gt; Inventory : specifies placement\n    Order --&gt; Client : placed by\n    Supplier --&gt; Product : supplies\n    StockMovement --&gt; Product : moves\n    StockMovement --&gt; Location : from/to\n    User --&gt; Role : has</code></pre>"},{"location":"development/architecture/#core-entities","title":"Core Entities","text":"Entity Purpose Product Catalog item (what) - SKU, name, category, reorder point Category Hierarchical product organization Location Physical place (where) - warehouse, supplier, client, in-transit Area Zone within a location (where exactly) - shelf, bin, cold storage Inventory Stock quantity (how many) of a product at a location/area Client Customer who places orders Supplier External supplier providing products Order Customer order for products StockMovement Record of stock transfers, adjustments, and movements Role Named set of permissions for authorization User System user with assigned role Photo Image associated with a product AuditLog Record of entity changes for audit trail"},{"location":"development/architecture/#design-decisions","title":"Design Decisions","text":"<ol> <li>Product vs Inventory separation - Products define what an item is. Inventory tracks quantities at locations.</li> <li>Location types - <code>WAREHOUSE</code>, <code>SUPPLIER</code>, <code>IN_TRANSIT</code>, <code>CLIENT</code> describe the category of place.</li> <li>Areas are optional - Inventory can reference just a Location, or optionally an Area for precise tracking.</li> <li>Area hierarchy - Areas support parent-child relationships (Zone A -&gt; Shelf A1 -&gt; Bin A1-1).</li> <li>Unique constraint - One inventory record per (product, location, area) combination.</li> <li>Permission-based auth - Roles contain granular permissions; <code>@RequirePermission</code> enforces access per endpoint.</li> </ol>"},{"location":"development/architecture/#key-patterns","title":"Key Patterns","text":"Pattern Location Purpose Repository <code>backend/src/routes/*/</code> Data access layer Service <code>backend/src/routes/*/</code> Business logic BaseAuditEntity <code>backend/src/common/entities/</code> Soft delete + audit fields AuthGuard <code>backend/src/common/auth/</code> JWT verification (Better Auth) PermissionGuard <code>backend/src/common/guards/</code> Permission-based authorization @RequirePermission <code>backend/src/common/decorators/</code> Declare required permission on endpoint @Auditable <code>backend/src/common/decorators/</code> Audit logging decorator @Transactional <code>backend/src/common/decorators/</code> Database transaction wrapper HATEOAS <code>backend/src/common/hateoas/</code> REST hypermedia links Shared DTOs <code>packages/types/src/</code> Backend/Frontend contracts"},{"location":"development/ci-cd/","title":"CI/CD","text":"<p>This guide covers the GitHub Actions workflows and deployment processes for LibreStock Inventory.</p>"},{"location":"development/ci-cd/#workflows","title":"Workflows","text":"<p>CI workflows are per-repo, not at the workspace root level.</p>"},{"location":"development/ci-cd/#backend-ci-pipeline","title":"Backend CI Pipeline","text":"<p>File: <code>backend/.github/workflows/ci.yml</code></p> <p>Runs on every pull request and push to main:</p> <ul> <li>Lint</li> <li>Type check</li> <li>Run unit tests</li> <li>Run E2E tests</li> <li>Build</li> </ul>"},{"location":"development/ci-cd/#frontend-ci-pipeline","title":"Frontend CI Pipeline","text":"<p>File: <code>frontend/.github/workflows/ci.yml</code></p> <p>Runs on every pull request and push to main:</p> <ul> <li>Lint</li> <li>Type check</li> <li>Build</li> </ul>"},{"location":"development/ci-cd/#docker-publish","title":"Docker Publish","text":"<p>Each repo has its own Docker publish workflow:</p> <ul> <li>Backend: <code>backend/.github/workflows/docker-publish.yml</code></li> <li>Frontend: <code>frontend/.github/workflows/docker-publish.yml</code></li> </ul>"},{"location":"development/ci-cd/#documentation-deployment","title":"Documentation Deployment","text":"<p>File: <code>documentation/.github/workflows/deploy-docs.yml</code></p> <p>Deploys documentation via GitHub Pages on push to main.</p>"},{"location":"development/ci-cd/#github-actions-secrets","title":"GitHub Actions Secrets","text":""},{"location":"development/ci-cd/#required-secrets","title":"Required Secrets","text":"Secret Description <code>BETTER_AUTH_SECRET</code> Better Auth secret (backend CI only) <p>Auth secrets</p> <p><code>BETTER_AUTH_SECRET</code> is only needed in the backend CI. The frontend does not require any auth secrets.</p>"},{"location":"development/ci-cd/#pull-request-workflow","title":"Pull Request Workflow","text":"<ol> <li>Create branch from <code>main</code></li> <li>Make changes and commit</li> <li>Open PR - CI runs automatically (per-repo)</li> <li>Review - Wait for approval</li> <li>Merge - Squash and merge to main</li> </ol>"},{"location":"development/ci-cd/#pr-template","title":"PR Template","text":"<p>PRs should include:</p> <ul> <li>Summary of changes</li> <li>Test plan</li> <li>Checklist items</li> </ul>"},{"location":"development/ci-cd/#local-ci-checks","title":"Local CI Checks","text":"<p>Run the same checks locally before pushing:</p> <pre><code># Backend\ncd backend\npnpm install\npnpm lint\npnpm build\npnpm test\n\n# Frontend\ncd frontend\npnpm install\npnpm lint\npnpm build\n</code></pre>"},{"location":"development/ci-cd/#deployment","title":"Deployment","text":""},{"location":"development/ci-cd/#documentation","title":"Documentation","text":"<p>Documentation is automatically deployed via GitHub Pages when changes are pushed to main.</p> <p>Trigger paths:</p> <ul> <li><code>docs/**</code></li> <li><code>mkdocs.yml</code></li> <li><code>.github/workflows/deploy-docs.yml</code></li> </ul>"},{"location":"development/ci-cd/#application","title":"Application","text":"<p>Docker images are published via <code>docker-publish.yml</code> workflows in each repo.</p>"},{"location":"development/ci-cd/#troubleshooting","title":"Troubleshooting","text":""},{"location":"development/ci-cd/#ci-failures","title":"CI Failures","text":"<p>Lint errors:</p> <pre><code>pnpm lint --fix\n</code></pre> <p>Type errors:</p> <pre><code># Backend\ncd backend &amp;&amp; pnpm build\n\n# Frontend\ncd frontend &amp;&amp; pnpm build\n</code></pre> <p>Test failures:</p> <pre><code>cd backend &amp;&amp; pnpm test -- --verbose\n</code></pre>"},{"location":"development/ci-cd/#cache-issues","title":"Cache Issues","text":"<p>Clear GitHub Actions cache:</p> <ol> <li>Go to Actions tab</li> <li>Click \"Caches\" in sidebar</li> <li>Delete relevant caches</li> </ol>"},{"location":"development/ci-cd/#best-practices","title":"Best Practices","text":"<ol> <li>Keep PRs small - Easier to review</li> <li>Run checks locally - Before pushing</li> <li>Fix CI immediately - Don't let failures accumulate</li> <li>Update tests - When changing functionality</li> </ol>"},{"location":"development/code-style/","title":"Code Style","text":"<p>This guide covers the coding standards and conventions used in LibreStock Inventory.</p>"},{"location":"development/code-style/#tools","title":"Tools","text":"Tool Purpose ESLint Linting Prettier Formatting TypeScript Type checking"},{"location":"development/code-style/#running-checks","title":"Running Checks","text":"<pre><code># Lint all packages\npnpm lint\n\n# Fix auto-fixable issues\npnpm --filter @librestock/api lint --fix\npnpm --filter @librestock/web lint:fix\n\n# Type check\npnpm --filter @librestock/api build  # Includes type check\n</code></pre>"},{"location":"development/code-style/#eslint-configuration","title":"ESLint Configuration","text":"<p>Both repos use ESLint. Configuration is shared via <code>packages/eslint-config/</code>.</p>"},{"location":"development/code-style/#key-rules","title":"Key Rules","text":"<p>Import Order (enforced):</p> <pre><code>// 1. External dependencies\nimport { Injectable } from '@nestjs/common';\nimport { InjectRepository } from '@nestjs/typeorm';\n\n// 2. Internal modules\nimport { Product } from './entities/product.entity';\nimport { CreateProductDto } from './dto';\n</code></pre> <p>Type Imports:</p> <pre><code>// Use inline type imports\nimport { type ProductResponseDto } from '~/lib/data/products';\n</code></pre> <p>Unused Variables:</p> <pre><code>// Prefix with underscore to ignore\nconst { data, error: _error } = useQuery();\n</code></pre>"},{"location":"development/code-style/#prettier-configuration","title":"Prettier Configuration","text":""},{"location":"development/code-style/#backend","title":"Backend","text":"<p>The backend uses a <code>.prettierrc</code> with the following settings:</p> <pre><code>{\n  \"singleQuote\": true,\n  \"trailingComma\": \"all\"\n}\n</code></pre> <p>All other values use Prettier defaults (printWidth: 80, semi: true, tabWidth: 2).</p>"},{"location":"development/code-style/#frontend","title":"Frontend","text":"<p>The frontend uses <code>prettier-plugin-tailwindcss</code> for automatic Tailwind class sorting but has no custom <code>.prettierrc</code> -- it uses Prettier defaults (double quotes, printWidth: 80, semi: true, trailingComma: \"all\").</p>"},{"location":"development/code-style/#typescript","title":"TypeScript","text":""},{"location":"development/code-style/#strict-mode","title":"Strict Mode","text":"<p>All modules use strict TypeScript:</p> <pre><code>{\n  \"compilerOptions\": {\n    \"strict\": true,\n    \"noImplicitAny\": true,\n    \"strictNullChecks\": true\n  }\n}\n</code></pre>"},{"location":"development/code-style/#path-aliases","title":"Path Aliases","text":"Module Alias Maps to Frontend <code>~/*</code> <code>./src/*</code> Backend <code>src/*</code> <code>./src/*</code>"},{"location":"development/code-style/#naming-conventions","title":"Naming Conventions","text":""},{"location":"development/code-style/#files","title":"Files","text":"Type Convention Example Backend Module kebab-case <code>products.module.ts</code> Backend Entity singular <code>product.entity.ts</code> Backend DTO kebab-case <code>create-product.dto.ts</code> Frontend Component PascalCase <code>ProductForm.tsx</code> Frontend UI kebab-case <code>button.tsx</code>"},{"location":"development/code-style/#code","title":"Code","text":"Type Convention Example Class PascalCase <code>ProductsService</code> Interface PascalCase (no I prefix) <code>ProductResponse</code> Function camelCase <code>findAllProducts</code> Constant UPPER_SNAKE <code>MAX_PAGE_SIZE</code> Enum Member UPPER_SNAKE <code>AuditAction.CREATE</code>"},{"location":"development/code-style/#backend-module-structure","title":"Backend Module Structure","text":"<pre><code>routes/&lt;feature&gt;/\n\u251c\u2500\u2500 &lt;feature&gt;.module.ts      # ProductsModule\n\u251c\u2500\u2500 &lt;feature&gt;.controller.ts  # ProductsController\n\u251c\u2500\u2500 &lt;feature&gt;.service.ts     # ProductsService\n\u251c\u2500\u2500 &lt;entity&gt;.repository.ts   # ProductRepository (singular)\n\u251c\u2500\u2500 entities/\n\u2502   \u2514\u2500\u2500 &lt;entity&gt;.entity.ts   # Product (singular)\n\u2514\u2500\u2500 dto/\n    \u251c\u2500\u2500 create-&lt;entity&gt;.dto.ts\n    \u251c\u2500\u2500 update-&lt;entity&gt;.dto.ts\n    \u251c\u2500\u2500 &lt;entity&gt;-response.dto.ts\n    \u2514\u2500\u2500 index.ts             # Barrel export\n</code></pre>"},{"location":"development/code-style/#frontend-component-structure","title":"Frontend Component Structure","text":"<pre><code>components/\n\u251c\u2500\u2500 ui/                     # Base components (kebab-case)\n\u2502   \u251c\u2500\u2500 button.tsx\n\u2502   \u2514\u2500\u2500 input.tsx\n\u251c\u2500\u2500 products/               # Feature components (PascalCase)\n\u2502   \u251c\u2500\u2500 ProductForm.tsx\n\u2502   \u2514\u2500\u2500 ProductList.tsx\n\u2514\u2500\u2500 common/                 # Shared components\n    \u2514\u2500\u2500 Header.tsx\n</code></pre>"},{"location":"development/code-style/#best-practices","title":"Best Practices","text":""},{"location":"development/code-style/#general","title":"General","text":"<ul> <li>Use <code>const</code> by default, <code>let</code> only when reassignment is needed</li> <li>Prefer named exports over default exports (only use default exports when required by tooling)</li> <li>Always use braces for control statements</li> <li>Use early returns to reduce nesting</li> </ul>"},{"location":"development/code-style/#typescript_1","title":"TypeScript","text":"<pre><code>// Prefer interfaces for object shapes\ninterface ProductFormProps {\n  product?: Product;\n  onSubmit: (data: CreateProductDto) =&gt; void;\n}\n\n// Use type for unions/intersections\ntype ButtonVariant = 'primary' | 'secondary' | 'danger';\n</code></pre>"},{"location":"development/code-style/#react","title":"React","text":"<pre><code>// Named function components\nexport function ProductCard({ product }: ProductCardProps) {\n  return &lt;div&gt;...&lt;/div&gt;;\n}\n\n// Destructure props\nfunction Button({ variant = 'primary', children, ...props }: ButtonProps) {\n  return &lt;button {...props}&gt;{children}&lt;/button&gt;;\n}\n</code></pre>"},{"location":"development/code-style/#nestjs","title":"NestJS","text":"<pre><code>// Use dependency injection\n@Injectable()\nexport class ProductsService {\n  constructor(\n    private readonly productRepository: ProductRepository,\n    private readonly categoryRepository: CategoryRepository,\n  ) {}\n}\n\n// Use decorators for validation\n@Post()\nasync create(@Body() createDto: CreateProductDto) {\n  return this.productsService.create(createDto);\n}\n</code></pre>"},{"location":"development/code-style/#comments","title":"Comments","text":"<ul> <li>Avoid obvious comments</li> <li>Document complex business logic</li> <li>Use JSDoc for public APIs</li> </ul> <pre><code>/**\n * Builds a hierarchical tree from a flat list of categories.\n * Categories without a parent become root nodes.\n */\nprivate buildTree(categories: Category[]): CategoryTreeNode[] {\n  // Implementation\n}\n</code></pre>"},{"location":"development/frontend-development/","title":"Frontend Development","text":"<p>This guide covers TanStack Start development patterns for the LibreStock Inventory frontend.</p>"},{"location":"development/frontend-development/#tech-stack","title":"Tech Stack","text":"<ul> <li>TanStack Start (TanStack Router + Vite)</li> <li>React 19</li> <li>TanStack Query (server state)</li> <li>TanStack Form (form management)</li> <li>Tailwind CSS 4</li> <li>Radix UI / shadcn components</li> <li>Better Auth</li> <li>i18next (en, de, fr)</li> </ul>"},{"location":"development/frontend-development/#project-structure","title":"Project Structure","text":"<pre><code>frontend/src/\n\u251c\u2500\u2500 routes/                      # File-based routes (TanStack Router)\n\u2502   \u251c\u2500\u2500 __root.tsx               # Root layout + providers\n\u2502   \u251c\u2500\u2500 index.tsx                # Home (/)\n\u2502   \u251c\u2500\u2500 products.tsx             # Products (/products)\n\u2502   \u251c\u2500\u2500 products.$id.tsx         # Product detail (/products/:id)\n\u2502   \u251c\u2500\u2500 locations.tsx            # Locations (/locations)\n\u2502   \u251c\u2500\u2500 locations.$id.tsx        # Location detail (/locations/:id)\n\u2502   \u251c\u2500\u2500 inventory.tsx            # Inventory (/inventory)\n\u2502   \u251c\u2500\u2500 stock.tsx                # Stock (/stock)\n\u2502   \u251c\u2500\u2500 stock-movements.tsx      # Stock Movements (/stock-movements)\n\u2502   \u251c\u2500\u2500 orders.tsx               # Orders (/orders)\n\u2502   \u251c\u2500\u2500 clients.tsx              # Clients (/clients)\n\u2502   \u251c\u2500\u2500 suppliers.tsx            # Suppliers (/suppliers)\n\u2502   \u251c\u2500\u2500 audit-logs.tsx           # Audit logs (/audit-logs)\n\u2502   \u251c\u2500\u2500 users.tsx                # Users (/users)\n\u2502   \u251c\u2500\u2500 roles.tsx                # Roles (/roles)\n\u2502   \u251c\u2500\u2500 settings.tsx             # Settings (/settings)\n\u2502   \u251c\u2500\u2500 login.tsx                # Login\n\u2502   \u2514\u2500\u2500 signup.tsx               # Signup\n\u251c\u2500\u2500 components/\n\u2502   \u251c\u2500\u2500 ui/                      # Base components (Radix/shadcn)\n\u2502   \u251c\u2500\u2500 areas/                   # Area features\n\u2502   \u251c\u2500\u2500 audit-logs/              # Audit log features\n\u2502   \u251c\u2500\u2500 category/                # Category features\n\u2502   \u251c\u2500\u2500 clients/                 # Client features\n\u2502   \u251c\u2500\u2500 common/                  # Header, dialogs, etc.\n\u2502   \u251c\u2500\u2500 inventory/               # Inventory features\n\u2502   \u251c\u2500\u2500 items/                   # Item features\n\u2502   \u251c\u2500\u2500 locations/               # Location features\n\u2502   \u251c\u2500\u2500 orders/                  # Order features\n\u2502   \u251c\u2500\u2500 products/                # Product features\n\u2502   \u251c\u2500\u2500 roles/                   # Role features\n\u2502   \u251c\u2500\u2500 settings/                # Settings features\n\u2502   \u251c\u2500\u2500 stock-movements/         # Stock movement features\n\u2502   \u251c\u2500\u2500 suppliers/               # Supplier features\n\u2502   \u251c\u2500\u2500 users/                   # User features\n\u2502   \u251c\u2500\u2500 DefaultCatchBoundary.tsx # Error boundary\n\u2502   \u2514\u2500\u2500 NotFound.tsx             # 404 component\n\u251c\u2500\u2500 hooks/providers/             # React context\n\u251c\u2500\u2500 lib/\n\u2502   \u251c\u2500\u2500 data/\n\u2502   \u2502   \u251c\u2500\u2500 areas.ts             # Area API hooks\n\u2502   \u2502   \u251c\u2500\u2500 audit-logs.ts        # Audit log API hooks\n\u2502   \u2502   \u251c\u2500\u2500 auth.ts              # Auth API hooks\n\u2502   \u2502   \u251c\u2500\u2500 axios-client.ts      # API client\n\u2502   \u2502   \u251c\u2500\u2500 branding.ts          # Branding API hooks\n\u2502   \u2502   \u251c\u2500\u2500 categories.ts        # Category API hooks\n\u2502   \u2502   \u251c\u2500\u2500 clients.ts           # Client API hooks\n\u2502   \u2502   \u251c\u2500\u2500 inventory.ts         # Inventory API hooks\n\u2502   \u2502   \u251c\u2500\u2500 locations.ts         # Location API hooks\n\u2502   \u2502   \u251c\u2500\u2500 make-crud-hooks.ts   # CRUD hook factory\n\u2502   \u2502   \u251c\u2500\u2500 orders.ts            # Order API hooks\n\u2502   \u2502   \u251c\u2500\u2500 photos.ts            # Photo API hooks\n\u2502   \u2502   \u251c\u2500\u2500 products.ts          # Product API hooks\n\u2502   \u2502   \u251c\u2500\u2500 query-cache.ts       # Query cache utilities\n\u2502   \u2502   \u251c\u2500\u2500 roles.ts             # Role API hooks\n\u2502   \u2502   \u251c\u2500\u2500 stock-movements.ts   # Stock movement API hooks\n\u2502   \u2502   \u251c\u2500\u2500 suppliers.ts         # Supplier API hooks\n\u2502   \u2502   \u2514\u2500\u2500 users.ts             # User API hooks\n\u2502   \u2514\u2500\u2500 utils.ts                 # Utilities\n\u251c\u2500\u2500 locales/                     # i18n (en, de, fr)\n\u251c\u2500\u2500 router.tsx                   # Router setup\n\u2514\u2500\u2500 routeTree.gen.ts             # Generated routes\n</code></pre>"},{"location":"development/frontend-development/#api-integration","title":"API Integration","text":""},{"location":"development/frontend-development/#handwritten-client-shared-types","title":"Handwritten Client + Shared Types","text":"<p>API hooks live in <code>src/lib/data/*.ts</code> and use DTO interfaces/enums from <code>@librestock/types</code>. The <code>make-crud-hooks.ts</code> factory generates standard CRUD hooks for resources.</p>"},{"location":"development/frontend-development/#using-queries","title":"Using Queries","text":"<pre><code>import { useListProducts } from '~/lib/data/products';\n\nfunction ProductList() {\n  const { data, isLoading, error } = useListProducts({\n    category_id: selectedCategory,\n    page: 1,\n    limit: 20,\n  });\n\n  if (isLoading) return &lt;Spinner /&gt;;\n  if (error) return &lt;ErrorState error={error} /&gt;;\n  if (!data?.data?.length) return &lt;EmptyState /&gt;;\n\n  return (\n    &lt;div&gt;\n      {data.data.map(product =&gt; (\n        &lt;ProductCard key={product.id} product={product} /&gt;\n      ))}\n    &lt;/div&gt;\n  );\n}\n</code></pre>"},{"location":"development/frontend-development/#using-mutations","title":"Using Mutations","text":"<pre><code>import { useCreateProduct, getListProductsQueryKey } from '~/lib/data/products';\nimport { useQueryClient } from '@tanstack/react-query';\nimport { toast } from 'sonner';\n\nfunction CreateProductForm() {\n  const queryClient = useQueryClient();\n\n  const mutation = useCreateProduct({\n    onSuccess: () =&gt; {\n      queryClient.invalidateQueries({ queryKey: getListProductsQueryKey() });\n      toast.success('Product created');\n    },\n    onError: () =&gt; {\n      toast.error('Failed to create product');\n    },\n  });\n\n  const handleSubmit = async (data: CreateProductDto) =&gt; {\n    await mutation.mutateAsync(data);\n  };\n}\n</code></pre>"},{"location":"development/frontend-development/#forms","title":"Forms","text":""},{"location":"development/frontend-development/#tanstack-form-zod","title":"TanStack Form + Zod","text":"<pre><code>import { useForm } from '@tanstack/react-form';\nimport { z } from 'zod';\n\nconst schema = z.object({\n  name: z.string().min(1, 'Required').max(100),\n  sku: z.string().min(1, 'Required').max(50),\n  category_id: z.string().uuid().optional(),\n});\n\nfunction ProductForm() {\n  const form = useForm({\n    defaultValues: { name: '', sku: '', category_id: '' },\n    validators: { onSubmit: schema },\n    onSubmit: async ({ value }) =&gt; {\n      await mutation.mutateAsync(value);\n    },\n  });\n\n  return (\n    &lt;form onSubmit={(e) =&gt; { e.preventDefault(); form.handleSubmit(); }}&gt;\n      &lt;form.Field name=\"name\"&gt;\n        {(field) =&gt; (\n          &lt;Field&gt;\n            &lt;FieldLabel&gt;Name&lt;/FieldLabel&gt;\n            &lt;Input\n              value={field.state.value}\n              onChange={(e) =&gt; field.handleChange(e.target.value)}\n            /&gt;\n            &lt;FieldError errors={field.state.meta.errors} /&gt;\n          &lt;/Field&gt;\n        )}\n      &lt;/form.Field&gt;\n\n      &lt;Button type=\"submit\" disabled={form.state.isSubmitting}&gt;\n        Save\n      &lt;/Button&gt;\n    &lt;/form&gt;\n  );\n}\n</code></pre>"},{"location":"development/frontend-development/#routing","title":"Routing","text":"<p>Routes are defined with <code>createFileRoute</code> in <code>src/routes/</code>:</p> <pre><code>import { createFileRoute } from '@tanstack/react-router';\nimport { ProductFilters } from '~/components/products/ProductFilters';\nimport { ProductGrid } from '~/components/products/ProductGrid';\n\nexport const Route = createFileRoute('/products')({\n  component: ProductsPage,\n});\n\nfunction ProductsPage() {\n  return (\n    &lt;div className=\"page-container\"&gt;\n      &lt;h1&gt;Products&lt;/h1&gt;\n      &lt;ProductFilters /&gt;\n      &lt;ProductGrid /&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>"},{"location":"development/frontend-development/#route-list","title":"Route List","text":"File Route <code>__root.tsx</code> Root layout <code>index.tsx</code> <code>/</code> (Home) <code>products.tsx</code> <code>/products</code> <code>products.$id.tsx</code> <code>/products/:id</code> <code>locations.tsx</code> <code>/locations</code> <code>locations.$id.tsx</code> <code>/locations/:id</code> <code>inventory.tsx</code> <code>/inventory</code> <code>stock.tsx</code> <code>/stock</code> <code>stock-movements.tsx</code> <code>/stock-movements</code> <code>orders.tsx</code> <code>/orders</code> <code>clients.tsx</code> <code>/clients</code> <code>suppliers.tsx</code> <code>/suppliers</code> <code>audit-logs.tsx</code> <code>/audit-logs</code> <code>users.tsx</code> <code>/users</code> <code>roles.tsx</code> <code>/roles</code> <code>settings.tsx</code> <code>/settings</code> <code>login.tsx</code> <code>/login</code> <code>signup.tsx</code> <code>/signup</code>"},{"location":"development/frontend-development/#ssr-safety","title":"SSR Safety","text":"<p>TanStack Start renders on the server for the initial HTML. Avoid browser-only APIs at module scope; use <code>useEffect</code> or guard with <code>typeof window !== 'undefined'</code> when needed.</p>"},{"location":"development/frontend-development/#components","title":"Components","text":""},{"location":"development/frontend-development/#component-template","title":"Component Template","text":"<pre><code>import { useTranslation } from 'react-i18next';\nimport { cn } from '~/lib/utils';\nimport { type ProductResponseDto } from '~/lib/data/products';\n\ninterface ProductCardProps {\n  product: ProductResponseDto;\n  className?: string;\n}\n\nexport function ProductCard({ product, className }: ProductCardProps) {\n  const { t } = useTranslation();\n\n  return (\n    &lt;div className={cn('p-4 border rounded', className)}&gt;\n      &lt;h3&gt;{product.name}&lt;/h3&gt;\n      &lt;p&gt;{product.sku}&lt;/p&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>"},{"location":"development/frontend-development/#styling","title":"Styling","text":""},{"location":"development/frontend-development/#tailwind-css","title":"Tailwind CSS","text":"<p>Use the <code>cn()</code> utility for conditional classes:</p> <pre><code>import { cn } from '~/lib/utils';\n\n&lt;div className={cn('p-4', isActive &amp;&amp; 'bg-primary', className)} /&gt;\n</code></pre>"},{"location":"development/frontend-development/#css-variables","title":"CSS Variables","text":"<p>Theme colors are defined in <code>globals.css</code>:</p> <pre><code>:root {\n  --primary: 220 90% 56%;\n  --background: 0 0% 100%;\n}\n\n.dark {\n  --primary: 220 90% 60%;\n  --background: 0 0% 10%;\n}\n</code></pre>"},{"location":"development/frontend-development/#internationalization","title":"Internationalization","text":""},{"location":"development/frontend-development/#adding-translations","title":"Adding Translations","text":"<pre><code>// locales/en/common.json\n{\n  \"navigation\": {\n    \"products\": \"Products\",\n    \"categories\": \"Categories\"\n  }\n}\n\n// locales/fr/common.json\n{\n  \"navigation\": {\n    \"products\": \"Produits\",\n    \"categories\": \"Cat\u00e9gories\"\n  }\n}\n</code></pre>"},{"location":"development/frontend-development/#using-translations","title":"Using Translations","text":"<pre><code>import { useTranslation } from 'react-i18next';\n\nfunction Header() {\n  const { t, i18n } = useTranslation();\n\n  return (\n    &lt;nav&gt;\n      &lt;a href=\"/products\"&gt;{t('navigation.products')}&lt;/a&gt;\n      &lt;button onClick={() =&gt; i18n.changeLanguage('fr')}&gt;FR&lt;/button&gt;\n    &lt;/nav&gt;\n  );\n}\n</code></pre>"},{"location":"development/frontend-development/#path-alias","title":"Path Alias","text":"<p>The frontend uses <code>~/*</code> as a path alias mapping to <code>src/*</code>:</p> <pre><code>// Instead of relative paths:\nimport { Button } from '../../../components/ui/button';\n\n// Use the alias:\nimport { Button } from '~/components/ui/button';\n</code></pre>"},{"location":"development/frontend-development/#common-patterns","title":"Common Patterns","text":""},{"location":"development/frontend-development/#loading-states","title":"Loading States","text":"<pre><code>if (isLoading) return &lt;Spinner /&gt;;\nif (error) return &lt;ErrorState error={error} /&gt;;\nif (!data?.length) return &lt;EmptyState /&gt;;\n</code></pre>"},{"location":"development/frontend-development/#query-invalidation","title":"Query Invalidation","text":"<pre><code>queryClient.invalidateQueries({ queryKey: getListProductsQueryKey() });\n</code></pre>"},{"location":"development/frontend-development/#conditional-fetching","title":"Conditional Fetching","text":"<pre><code>const query = useListProducts(params, { enabled: !!categoryId });\n</code></pre>"},{"location":"development/frontend-development/#best-practices","title":"Best Practices","text":"<ol> <li>Colocate data fetching - Fetch where data is used</li> <li>Use route pending UI - Set <code>pendingComponent</code> or suspense boundaries</li> <li>Lazy load heavy components - Use <code>React.lazy</code> or route-level code splitting</li> <li>Keep bundles small - Don't import heavy libraries unnecessarily</li> </ol>"},{"location":"development/frontend-development/#common-mistakes-to-avoid","title":"Common Mistakes to Avoid","text":"<ul> <li>Using browser-only APIs at module scope during SSR</li> <li>Over-invalidation of queries instead of scoped keys</li> <li>Putting all state at page level and prop-drilling</li> <li>Fetching without memoized query keys or stable params</li> </ul>"},{"location":"development/setup/","title":"Development Setup","text":"<p>This guide covers setting up the development environment for contributing to LibreStock Inventory.</p>"},{"location":"development/setup/#prerequisites","title":"Prerequisites","text":"<ul> <li>Node.js &gt;= 20.0.0</li> <li>pnpm &gt;= 10.0.0</li> <li>PostgreSQL 16</li> <li>Nix with flakes enabled (recommended)</li> <li>Git</li> <li>1Password CLI (for env setup)</li> <li>just command runner (for env setup)</li> </ul>"},{"location":"development/setup/#using-nix-flakes-recommended","title":"Using Nix Flakes (Recommended)","text":"<p>Each repo has its own Nix flake for reproducible development shells.</p>"},{"location":"development/setup/#enter-development-shell","title":"Enter Development Shell","text":"<pre><code>git clone https://github.com/librestock/meta.git\ncd meta &amp;&amp; ./scripts/bootstrap &amp;&amp; cd ..\n\n# Backend dev shell\ncd backend &amp;&amp; nix develop\n\n# Frontend dev shell\ncd frontend &amp;&amp; nix develop\n</code></pre> <p>This provides:</p> <ul> <li>Node.js 20+ and pnpm 10</li> <li>Python 3.12 with MkDocs</li> <li>All environment variables configured</li> </ul>"},{"location":"development/setup/#install-dependencies","title":"Install Dependencies","text":"<pre><code>pnpm install\n</code></pre>"},{"location":"development/setup/#start-services","title":"Start Services","text":"<p>Use Docker Compose in <code>meta/</code> for services:</p> <pre><code>cd meta &amp;&amp; docker compose up -d\n</code></pre> <p>Then start the application servers:</p> <pre><code># Terminal 1 - Backend\ncd backend\npnpm start:dev\n\n# Terminal 2 - Frontend\ncd frontend\npnpm dev\n</code></pre> <p>Services started:</p> Service URL Description PostgreSQL localhost:5432 Database NestJS API http://localhost:8080 Backend TanStack Start http://localhost:3000 Frontend MkDocs http://localhost:8000 Documentation"},{"location":"development/setup/#common-commands","title":"Common Commands","text":""},{"location":"development/setup/#meta-level","title":"Meta Level","text":"<pre><code>cd meta\npnpm sync              # Sync all repos\npnpm bootstrap         # Bootstrap all repos\npnpm dev               # Start all services for development\n</code></pre>"},{"location":"development/setup/#backend","title":"Backend","text":"<pre><code>cd backend\npnpm start:dev         # Development server\npnpm build             # Build\npnpm test              # Run tests\npnpm test:e2e          # E2E tests\n</code></pre>"},{"location":"development/setup/#frontend","title":"Frontend","text":"<pre><code>cd frontend\npnpm dev               # Development server\npnpm build             # Production build\npnpm lint              # Lint\n</code></pre>"},{"location":"development/setup/#shared-types","title":"Shared Types","text":"<pre><code>pnpm --filter @librestock/types barrels   # Generate barrel exports\npnpm --filter @librestock/types build     # Build shared types\n</code></pre>"},{"location":"development/setup/#database-setup","title":"Database Setup","text":""},{"location":"development/setup/#with-docker-compose","title":"With Docker Compose","text":"<p>The database is automatically created and configured via Docker Compose in <code>meta/</code>.</p>"},{"location":"development/setup/#manual-setup","title":"Manual Setup","text":"<pre><code>createdb librestock_inventory\n</code></pre>"},{"location":"development/setup/#seed-data","title":"Seed Data","text":"<p>Populate with sample data:</p> <pre><code>cd backend\npnpm seed\n</code></pre>"},{"location":"development/setup/#environment-variables","title":"Environment Variables","text":""},{"location":"development/setup/#backend-env","title":"Backend (.env)","text":"<pre><code>DATABASE_URL=postgresql://user@localhost:5432/librestock_inventory\nBETTER_AUTH_SECRET=your-secret-here\nPORT=8080\nNODE_ENV=development\n</code></pre>"},{"location":"development/setup/#frontend-envlocal","title":"Frontend (.env.local)","text":"<pre><code>VITE_API_BASE_URL=http://localhost:8080/api/v1\n</code></pre> <p>Better Auth secret</p> <p><code>BETTER_AUTH_SECRET</code> lives only in the backend <code>.env</code> -- never in the frontend.</p>"},{"location":"development/setup/#environment-setup-with-1password","title":"Environment Setup with 1Password","text":"<p>Use the <code>just</code> command runner and 1Password CLI for managing env variables:</p> <pre><code>just env-setup\n</code></pre>"},{"location":"development/setup/#ide-setup","title":"IDE Setup","text":""},{"location":"development/setup/#vs-code","title":"VS Code","text":"<p>Recommended extensions:</p> <ul> <li>ESLint</li> <li>Prettier</li> <li>Tailwind CSS IntelliSense</li> <li>TypeScript Importer</li> <li>Nix IDE</li> </ul>"},{"location":"development/setup/#settings","title":"Settings","text":"<p>The project includes workspace settings in <code>.vscode/settings.json</code>.</p>"},{"location":"development/setup/#troubleshooting","title":"Troubleshooting","text":""},{"location":"development/setup/#port-already-in-use","title":"Port Already in Use","text":"<pre><code># Find process using port\nlsof -i :8080\nlsof -i :3000\n\n# Kill process\nkill -9 &lt;PID&gt;\n</code></pre>"},{"location":"development/setup/#database-connection-issues","title":"Database Connection Issues","text":"<p>Check PostgreSQL is running:</p> <pre><code>pg_isready -h localhost -p 5432\n</code></pre>"},{"location":"development/setup/#node-modules-issues","title":"Node Modules Issues","text":"<p>Clean install:</p> <pre><code>rm -rf node_modules\nrm -rf backend/node_modules\nrm -rf frontend/node_modules\npnpm install\n</code></pre>"},{"location":"development/testing/","title":"Testing","text":"<p>The LibreStock Inventory system uses Jest for backend testing. This guide covers test patterns and best practices.</p>"},{"location":"development/testing/#overview","title":"Overview","text":"Module Framework Status Backend Jest 30 + ts-jest Active Frontend - Planned"},{"location":"development/testing/#running-tests","title":"Running Tests","text":""},{"location":"development/testing/#backend-tests","title":"Backend Tests","text":"<pre><code># Run all unit tests\npnpm --filter @librestock/api test\n\n# Run tests in watch mode\npnpm --filter @librestock/api test:watch\n\n# Run tests with coverage\npnpm --filter @librestock/api test:cov\n\n# Run end-to-end tests\npnpm --filter @librestock/api test:e2e\n\n# Run a specific test file (Jest 30 uses --testPathPatterns, plural)\npnpm --filter @librestock/api test -- --testPathPatterns products\n</code></pre> <p>Jest 30 flag</p> <p>Jest 30 uses <code>--testPathPatterns</code> (plural), not <code>--testPathPattern</code>. Using the singular form will silently fail.</p>"},{"location":"development/testing/#test-structure","title":"Test Structure","text":""},{"location":"development/testing/#unit-tests","title":"Unit Tests","text":"<p>Located alongside source files as <code>*.spec.ts</code>:</p> <pre><code>backend/src/routes/products/\n\u251c\u2500\u2500 products.service.ts\n\u251c\u2500\u2500 products.service.spec.ts    # Unit tests\n\u251c\u2500\u2500 products.controller.ts\n\u2514\u2500\u2500 ...\n</code></pre>"},{"location":"development/testing/#e2e-tests","title":"E2E Tests","text":"<p>Located in <code>backend/test/</code>:</p> <pre><code>backend/test/\n\u251c\u2500\u2500 products.e2e-spec.ts\n\u251c\u2500\u2500 categories.e2e-spec.ts\n\u2514\u2500\u2500 jest-e2e.json\n</code></pre>"},{"location":"development/testing/#writing-unit-tests","title":"Writing Unit Tests","text":""},{"location":"development/testing/#service-test-pattern","title":"Service Test Pattern","text":"<pre><code>import { Test, TestingModule } from '@nestjs/testing';\nimport { ProductsService } from './products.service';\nimport { ProductRepository } from './product.repository';\n\ndescribe('ProductsService', () =&gt; {\n  let service: ProductsService;\n  let productRepository: jest.Mocked&lt;ProductRepository&gt;;\n\n  // Mock data\n  const mockProduct = {\n    id: '660e8400-e29b-41d4-a716-446655440000',\n    sku: 'PROD-001',\n    name: 'Test Product',\n    // ... other fields\n  };\n\n  beforeEach(async () =&gt; {\n    const module: TestingModule = await Test.createTestingModule({\n      providers: [\n        ProductsService,\n        {\n          provide: ProductRepository,\n          useValue: {\n            findAllPaginated: jest.fn(),\n            findById: jest.fn(),\n            create: jest.fn(),\n            update: jest.fn(),\n            softDelete: jest.fn(),\n          },\n        },\n      ],\n    }).compile();\n\n    service = module.get&lt;ProductsService&gt;(ProductsService);\n    productRepository = module.get(ProductRepository);\n  });\n\n  describe('findOne', () =&gt; {\n    it('should return a product', async () =&gt; {\n      productRepository.findById.mockResolvedValue(mockProduct);\n\n      const result = await service.findOne('some-id');\n\n      expect(result).toEqual(mockProduct);\n      expect(productRepository.findById).toHaveBeenCalledWith('some-id');\n    });\n\n    it('should throw NotFoundException when product not found', async () =&gt; {\n      productRepository.findById.mockResolvedValue(null);\n\n      await expect(service.findOne('invalid-id'))\n        .rejects.toThrow(NotFoundException);\n    });\n  });\n});\n</code></pre>"},{"location":"development/testing/#controller-test-pattern","title":"Controller Test Pattern","text":"<p>When testing controllers, override <code>PermissionGuard</code> (not the auth guard) because <code>PermissionGuard</code> depends on <code>DataSource</code>:</p> <pre><code>import { Test, TestingModule } from '@nestjs/testing';\nimport { PermissionGuard } from 'src/common/guards/permission.guard';\n\ndescribe('ProductsController', () =&gt; {\n  let controller: ProductsController;\n\n  beforeEach(async () =&gt; {\n    const module: TestingModule = await Test.createTestingModule({\n      controllers: [ProductsController],\n      providers: [/* ... */],\n    })\n      .overrideGuard(PermissionGuard)\n      .useValue({ canActivate: () =&gt; true })\n      .compile();\n\n    controller = module.get&lt;ProductsController&gt;(ProductsController);\n  });\n\n  // ... tests\n});\n</code></pre>"},{"location":"development/testing/#mocking-repositories","title":"Mocking Repositories","text":"<p>Create mock objects with all methods:</p> <pre><code>const mockProductRepository = {\n  findAllPaginated: jest.fn(),\n  findAll: jest.fn(),\n  findById: jest.fn(),\n  findBySku: jest.fn(),\n  create: jest.fn(),\n  update: jest.fn(),\n  softDelete: jest.fn(),\n  restore: jest.fn(),\n};\n</code></pre>"},{"location":"development/testing/#writing-e2e-tests","title":"Writing E2E Tests","text":""},{"location":"development/testing/#setup-pattern","title":"Setup Pattern","text":"<p>E2E tests override the <code>AuthGuard</code> to mock authentication:</p> <pre><code>import { Test, TestingModule } from '@nestjs/testing';\nimport { INestApplication } from '@nestjs/common';\nimport * as request from 'supertest';\nimport { AppModule } from '../src/app.module';\nimport { AuthGuard } from '../src/common/auth/auth.guard';\n\ndescribe('ProductsController (e2e)', () =&gt; {\n  let app: INestApplication;\n  let productRepository: Repository&lt;Product&gt;;\n\n  // Mock auth guard\n  const mockAuthGuard = {\n    canActivate: jest.fn().mockImplementation((context) =&gt; {\n      const req = context.switchToHttp().getRequest();\n      req.auth = { userId: 'test-user-id', sessionId: 'test-session-id' };\n      return true;\n    }),\n  };\n\n  beforeAll(async () =&gt; {\n    const moduleFixture: TestingModule = await Test.createTestingModule({\n      imports: [AppModule],\n    })\n      .overrideGuard(AuthGuard)\n      .useValue(mockAuthGuard)\n      .compile();\n\n    app = moduleFixture.createNestApplication();\n    await app.init();\n\n    productRepository = moduleFixture.get(getRepositoryToken(Product));\n  });\n\n  afterAll(async () =&gt; {\n    await app.close();\n  });\n\n  beforeEach(async () =&gt; {\n    // Clean database\n    await productRepository.query('DELETE FROM products');\n  });\n\n  describe('GET /api/v1/products', () =&gt; {\n    it('should return paginated products', async () =&gt; {\n      // Create test data\n      await productRepository.save({ sku: 'TEST-001', name: 'Test' });\n\n      const response = await request(app.getHttpServer())\n        .get('/api/v1/products')\n        .set('Authorization', 'Bearer token')\n        .expect(200);\n\n      expect(response.body.data).toHaveLength(1);\n      expect(response.body.meta.total).toBe(1);\n    });\n  });\n});\n</code></pre>"},{"location":"development/testing/#test-utilities","title":"Test Utilities","text":""},{"location":"development/testing/#creating-test-data","title":"Creating Test Data","text":"<pre><code>const createTestProduct = async (overrides = {}) =&gt; {\n  return productRepository.save({\n    sku: 'TEST-SKU-001',\n    name: 'Test Product',\n    category_id: testCategory.id,\n    reorder_point: 10,\n    is_active: true,\n    is_perishable: false,\n    ...overrides,\n  });\n};\n</code></pre>"},{"location":"development/testing/#testing-async-fire-and-forget-operations","title":"Testing Async Fire-and-Forget Operations","text":"<p>Use the <code>flushPromises</code> pattern for testing async operations that are fire-and-forget (e.g., audit logging):</p> <pre><code>const flushPromises = () =&gt;\n  new Promise((resolve) =&gt; setImmediate(resolve));\n\nit('should create audit log', async () =&gt; {\n  interceptor.intercept(mockContext, mockHandler).subscribe();\n\n  await flushPromises();\n\n  expect(auditLogService.log).toHaveBeenCalled();\n});\n</code></pre>"},{"location":"development/testing/#coverage","title":"Coverage","text":"<p>Generate coverage report:</p> <pre><code>pnpm --filter @librestock/api test:cov\n</code></pre> <p>Coverage reports are generated in <code>backend/coverage/</code>.</p>"},{"location":"development/testing/#best-practices","title":"Best Practices","text":"<ol> <li>Isolate tests - Each test should be independent</li> <li>Mock external dependencies - Database, APIs, etc.</li> <li>Clean up after tests - Use <code>beforeEach</code>/<code>afterEach</code></li> <li>Test edge cases - Error conditions, empty data, etc.</li> <li>Use descriptive names - <code>should throw NotFoundException when...</code></li> <li>Override PermissionGuard in controller tests - It depends on DataSource, so mock it</li> <li>Use <code>flushPromises</code> - For testing fire-and-forget async operations</li> </ol>"},{"location":"getting-started/","title":"Getting Started","text":"<p>This section will help you get LibreStock Inventory up and running.</p>"},{"location":"getting-started/#prerequisites","title":"Prerequisites","text":"<p>Before you begin, ensure you have:</p> <ul> <li>Node.js &gt;= 20</li> <li>pnpm &gt;= 10</li> <li>Nix with flakes enabled (each repo has its own <code>flake.nix</code>)</li> <li>Docker &amp; Docker Compose (for PostgreSQL and other services)</li> </ul>"},{"location":"getting-started/#next-steps","title":"Next Steps","text":"<ol> <li>Installation - Set up the development environment</li> <li>Quick Start - Create your first products</li> <li>Configuration - Configure environment variables</li> </ol>"},{"location":"getting-started/configuration/","title":"Configuration","text":"<p>This guide covers all configuration options for LibreStock Inventory.</p>"},{"location":"getting-started/configuration/#environment-variables","title":"Environment Variables","text":""},{"location":"getting-started/configuration/#backend-api","title":"Backend API","text":"<p>Located in <code>backend/.env</code>:</p> Variable Required Description <code>DATABASE_URL</code> Yes PostgreSQL connection string <code>NODE_ENV</code> No Environment mode (default: <code>development</code>) <code>PORT</code> No API port (default: <code>8080</code>) <code>CORS_ORIGIN</code> No Allowed CORS origin (default: <code>http://localhost:3000</code>) <code>BETTER_AUTH_SECRET</code> Yes Random 32+ byte string for Better Auth session signing <code>BETTER_AUTH_URL</code> Yes Better Auth server URL (e.g. <code>http://localhost:8080</code>) <code>FRONTEND_URL</code> No Frontend URL for redirects (default: <code>http://localhost:3000</code>) <p>Individual database variables are also supported: <code>PGHOST</code>, <code>PGPORT</code>, <code>PGUSER</code>, <code>PGPASSWORD</code>, <code>PGDATABASE</code>.</p> <p>Example:</p> <pre><code>DATABASE_URL=postgresql://postgres:postgres@localhost:5432/librestock_inventory\nNODE_ENV=development\nPORT=8080\nCORS_ORIGIN=http://localhost:3000\nBETTER_AUTH_SECRET=&lt;random 32+ byte string&gt;\nBETTER_AUTH_URL=http://localhost:8080\nFRONTEND_URL=http://localhost:3000\n</code></pre>"},{"location":"getting-started/configuration/#frontend-web","title":"Frontend Web","text":"<p>Located in <code>frontend/.env</code>:</p> Variable Required Description <code>VITE_API_BASE_URL</code> Yes Backend API URL <code>VITE_SENTRY_DSN</code> No Sentry DSN for error tracking <code>SENTRY_AUTH_TOKEN</code> No Sentry auth token for source maps <p>Example:</p> <pre><code>VITE_API_BASE_URL=http://localhost:8080/api/v1\nVITE_SENTRY_DSN=&lt;sentry dsn&gt;\nSENTRY_AUTH_TOKEN=&lt;sentry auth token&gt;\n</code></pre>"},{"location":"getting-started/configuration/#better-auth-authentication","title":"Better Auth Authentication","text":"<p>Better Auth is configured in the backend only. The <code>BETTER_AUTH_SECRET</code> must be a random string of at least 32 bytes. You can generate one with:</p> <pre><code>openssl rand -base64 32\n</code></pre> <p><code>BETTER_AUTH_URL</code> should point to the backend server URL where Better Auth endpoints are served.</p> <p>Note</p> <p><code>BETTER_AUTH_SECRET</code> lives only in the backend <code>.env</code> -- it is never set in the frontend.</p>"},{"location":"getting-started/configuration/#database-configuration","title":"Database Configuration","text":""},{"location":"getting-started/configuration/#using-docker-compose-recommended","title":"Using Docker Compose (Recommended)","text":"<p>PostgreSQL is provided by Docker Compose:</p> <pre><code>docker compose -f meta/docker-compose.yml up -d\n</code></pre> <p>Default configuration:</p> <ul> <li>Database name: <code>librestock_inventory</code></li> <li>Host: <code>localhost</code></li> <li>Port: <code>5432</code></li> <li>User: <code>postgres</code></li> <li>Password: <code>postgres</code></li> </ul>"},{"location":"getting-started/configuration/#manual-configuration","title":"Manual Configuration","text":"<p>Create the database:</p> <pre><code>createdb librestock_inventory\n</code></pre> <p>Set the connection string:</p> <pre><code>DATABASE_URL=postgresql://username:password@localhost:5432/librestock_inventory\n</code></pre>"},{"location":"getting-started/configuration/#api-documentation","title":"API Documentation","text":"<p>Swagger UI is available at:</p> <ul> <li>http://localhost:8080/api/docs</li> <li>OpenAPI JSON: http://localhost:8080/api/docs-json</li> </ul>"},{"location":"getting-started/configuration/#next-steps","title":"Next Steps","text":"<ul> <li>Architecture - Understand the system design</li> <li>Development Setup - Set up for development</li> </ul>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>This guide covers setting up the LibreStock Inventory development environment.</p>"},{"location":"getting-started/installation/#using-nix-flakes-docker-recommended","title":"Using Nix Flakes + Docker (Recommended)","text":"<p>The project uses per-repo Nix flakes for reproducible development environments and Docker Compose for services like PostgreSQL.</p>"},{"location":"getting-started/installation/#1-install-nix","title":"1. Install Nix","text":"<pre><code>sh &lt;(curl -L https://nixos.org/nix/install) --daemon\n</code></pre> <p>Ensure flakes are enabled in your Nix configuration.</p>"},{"location":"getting-started/installation/#2-clone-the-workspace","title":"2. Clone the Workspace","text":"<pre><code>git clone https://github.com/librestock/meta.git\ncd meta &amp;&amp; ./scripts/bootstrap &amp;&amp; cd ..\n</code></pre>"},{"location":"getting-started/installation/#3-bootstrap-the-workspace","title":"3. Bootstrap the Workspace","text":"<pre><code>./meta/scripts/bootstrap\n</code></pre> <p>This will sync all repos and install dependencies.</p>"},{"location":"getting-started/installation/#4-enter-a-nix-shell-per-repo","title":"4. Enter a Nix Shell (per-repo)","text":"<p>Each repo (backend, frontend, etc.) has its own <code>flake.nix</code>. Enter the shell for the repo you need:</p> <pre><code>cd backend &amp;&amp; nix develop\n# or\ncd frontend &amp;&amp; nix develop\n</code></pre> <p>This will provide:</p> <ul> <li>Node.js 20+ and pnpm 10</li> <li>All repo-specific tooling</li> </ul>"},{"location":"getting-started/installation/#5-start-development-services","title":"5. Start Development Services","text":"<p>Start PostgreSQL and other services via Docker Compose:</p> <pre><code>docker compose -f meta/docker-compose.yml up -d\n</code></pre> <p>Or use the meta dev script to start everything (backend + frontend dev servers):</p> <pre><code>./meta/scripts/dev\n</code></pre> <p>To also start Docker services automatically:</p> <pre><code>./meta/scripts/dev --with-docker\n</code></pre> <p>This starts:</p> Service URL Description PostgreSQL localhost:5432 Database NestJS API http://localhost:8080 Backend + Swagger TanStack Start Web http://localhost:3000 Frontend"},{"location":"getting-started/installation/#6-configure-environment-variables","title":"6. Configure Environment Variables","text":"<p>Backend:</p> <pre><code>cp backend/.env.template backend/.env\n</code></pre> <p>Edit <code>backend/.env</code> with your configuration:</p> <pre><code>DATABASE_URL=postgresql://postgres:postgres@localhost:5432/librestock_inventory\nNODE_ENV=development\nPORT=8080\nCORS_ORIGIN=http://localhost:3000\nBETTER_AUTH_SECRET=&lt;random 32+ byte string&gt;\nBETTER_AUTH_URL=http://localhost:8080\nFRONTEND_URL=http://localhost:3000\n</code></pre> <p>Frontend:</p> <pre><code>echo \"VITE_API_BASE_URL=http://localhost:8080/api/v1\" &gt; frontend/.env\n</code></pre> <p>1Password CLI</p> <p>Both backend and frontend have a <code>justfile</code> with a <code>decrypt</code> task. If you use 1Password CLI, you can generate <code>.env</code> files automatically: <pre><code>cd backend &amp;&amp; just decrypt\ncd frontend &amp;&amp; just decrypt\n</code></pre> This runs <code>op inject -i env.template -o .env</code> to populate secrets from 1Password.</p>"},{"location":"getting-started/installation/#manual-setup-alternative","title":"Manual Setup (Alternative)","text":"<p>If you prefer not to use Nix:</p>"},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Node.js &gt;= 20</li> <li>pnpm &gt;= 10</li> <li>PostgreSQL 16</li> <li>Python 3.12 (for docs)</li> </ul>"},{"location":"getting-started/installation/#database-setup","title":"Database Setup","text":"<pre><code>createdb librestock_inventory\n</code></pre>"},{"location":"getting-started/installation/#environment-variables","title":"Environment Variables","text":"<p>Copy the environment template:</p> <pre><code>cp backend/.env.template backend/.env\n</code></pre> <p>Edit <code>backend/.env</code> with your configuration (see table above).</p>"},{"location":"getting-started/installation/#start-services","title":"Start Services","text":"<pre><code># Terminal 1: API\ncd backend &amp;&amp; pnpm start:dev\n\n# Terminal 2: Web\ncd frontend &amp;&amp; pnpm dev\n</code></pre>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<ol> <li>Open http://localhost:8080/api/docs - You should see Swagger UI</li> <li>Open http://localhost:3000 - You should see the login page</li> </ol>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ul> <li>Quick Start - Create your first products</li> <li>Configuration - Learn about configuration options</li> </ul>"},{"location":"getting-started/quick-start/","title":"Quick Start","text":"<p>This guide will walk you through creating your first products in LibreStock Inventory.</p>"},{"location":"getting-started/quick-start/#1-sign-in","title":"1. Sign In","text":"<p>Navigate to http://localhost:3000 and sign in with your Better Auth account.</p>"},{"location":"getting-started/quick-start/#2-seed-sample-data-optional","title":"2. Seed Sample Data (Optional)","text":"<p>To populate the database with sample data for testing:</p> <pre><code>pnpm --filter @librestock/api seed\n</code></pre> <p>This creates:</p> <ul> <li>Categories</li> <li>Suppliers</li> <li>Products</li> <li>Locations</li> <li>Clients</li> <li>Inventory records</li> <li>Orders</li> <li>Stock movements</li> <li>Audit logs</li> </ul>"},{"location":"getting-started/quick-start/#3-create-a-category","title":"3. Create a Category","text":"<ol> <li>Navigate to Products in the sidebar</li> <li>Click on Manage Categories</li> <li>Click Create Category</li> <li>Enter a name (e.g., \"Galley Supplies\")</li> <li>Optionally select a parent category</li> <li>Click Save</li> </ol>"},{"location":"getting-started/quick-start/#4-create-a-product","title":"4. Create a Product","text":"<ol> <li>Navigate to Products</li> <li>Click Create Product</li> <li>Fill in the required fields:</li> <li>SKU - Enter manually or scan a barcode</li> <li>Name - Product name</li> <li>Category - Select from the category tree</li> <li>Reorder Point - Minimum stock level</li> <li>Click Save</li> </ol>"},{"location":"getting-started/quick-start/#5-view-audit-logs","title":"5. View Audit Logs","text":"<p>All changes are tracked automatically:</p> <ol> <li>Navigate to Audit Logs</li> <li>View the history of all changes</li> <li>Filter by entity type, user, or date</li> </ol>"},{"location":"getting-started/quick-start/#next-steps","title":"Next Steps","text":"<ul> <li>Products - Learn more about product management</li> <li>Categories - Organize your inventory</li> <li>Configuration - Customize your setup</li> </ul>"},{"location":"reference/","title":"Reference","text":"<p>Technical reference documentation for LibreStock Inventory.</p>"},{"location":"reference/#contents","title":"Contents","text":"<ul> <li>Environment Variables - All configuration options</li> <li>CLI Commands - Available command line commands</li> <li>Troubleshooting - Common issues and solutions</li> </ul>"},{"location":"reference/#quick-links","title":"Quick Links","text":""},{"location":"reference/#api-documentation","title":"API Documentation","text":"<p>The API is documented via Swagger UI:</p> <ul> <li>Local: http://localhost:8080/api/docs</li> <li>OpenAPI JSON: http://localhost:8080/api/docs-json</li> </ul>"},{"location":"reference/#shared-types","title":"Shared Types","text":"<p>Shared DTO interfaces/enums live in <code>packages/types</code>:</p> <pre><code>pnpm --filter @librestock/types build\n</code></pre> <p>Types are authored in <code>packages/types/src/</code>.</p>"},{"location":"reference/cli-commands/","title":"CLI Commands","text":"<p>Reference of all available command line commands for LibreStock Inventory.</p>"},{"location":"reference/cli-commands/#package-manager","title":"Package Manager","text":"<p>All commands use pnpm. Run from the repository root or use the <code>--filter</code> flag.</p>"},{"location":"reference/cli-commands/#backend-commands","title":"Backend Commands","text":"<p>Use <code>pnpm --filter @librestock/api &lt;command&gt;</code> or <code>cd backend &amp;&amp; pnpm &lt;command&gt;</code>.</p>"},{"location":"reference/cli-commands/#development","title":"Development","text":"<pre><code># Start development server with hot reload\npnpm --filter @librestock/api start:dev\n\n# Start in debug mode\npnpm --filter @librestock/api start:debug\n\n# Build the application\npnpm --filter @librestock/api build\n\n# Start production server\npnpm --filter @librestock/api start:prod\n</code></pre>"},{"location":"reference/cli-commands/#testing","title":"Testing","text":"<pre><code># Run unit tests (Jest 30)\npnpm --filter @librestock/api test\n\n# Run tests in watch mode\npnpm --filter @librestock/api test:watch\n\n# Run tests with coverage\npnpm --filter @librestock/api test:cov\n\n# Run end-to-end tests\npnpm --filter @librestock/api test:e2e\n\n# Debug tests\npnpm --filter @librestock/api test:debug\n</code></pre>"},{"location":"reference/cli-commands/#code-quality","title":"Code Quality","text":"<pre><code># Lint code\npnpm --filter @librestock/api lint\n\n# Format code with Prettier\npnpm --filter @librestock/api format\n\n# TypeScript type check\npnpm --filter @librestock/api type-check\n</code></pre>"},{"location":"reference/cli-commands/#database","title":"Database","text":"<pre><code># Seed the database\npnpm --filter @librestock/api seed\n\n# Import from Sortly\npnpm --filter @librestock/api import:sortly\n\n# Generate a TypeORM migration\npnpm --filter @librestock/api migration:generate\n\n# Run pending migrations\npnpm --filter @librestock/api migration:run\n\n# Revert the last migration\npnpm --filter @librestock/api migration:revert\n</code></pre>"},{"location":"reference/cli-commands/#frontend-commands","title":"Frontend Commands","text":"<p>Use <code>pnpm --filter @librestock/web &lt;command&gt;</code> or <code>cd frontend &amp;&amp; pnpm &lt;command&gt;</code>.</p>"},{"location":"reference/cli-commands/#development_1","title":"Development","text":"<pre><code># Start development server (port 3000)\npnpm --filter @librestock/web dev\n\n# Build for production\npnpm --filter @librestock/web build\n\n# Start production server\npnpm --filter @librestock/web start\n</code></pre>"},{"location":"reference/cli-commands/#code-quality_1","title":"Code Quality","text":"<pre><code># Lint code\npnpm --filter @librestock/web lint\n\n# Lint and fix\npnpm --filter @librestock/web lint:fix\n\n# TypeScript type check\npnpm --filter @librestock/web type-check\n\n# Run all validations (type-check + lint + format check)\npnpm --filter @librestock/web validate\n\n# Prettier write + ESLint fix\npnpm --filter @librestock/web check\n</code></pre>"},{"location":"reference/cli-commands/#testing_1","title":"Testing","text":"<pre><code># Run Playwright E2E tests\npnpm --filter @librestock/web test:e2e\n\n# Playwright UI mode\npnpm --filter @librestock/web test:e2e:ui\n\n# Headed browser tests\npnpm --filter @librestock/web test:e2e:headed\n</code></pre>"},{"location":"reference/cli-commands/#shared-types","title":"Shared Types","text":"<pre><code># Generate barrel files\npnpm --filter @librestock/types barrels\n\n# Build shared types\npnpm --filter @librestock/types build\n</code></pre>"},{"location":"reference/cli-commands/#meta-workspace-commands","title":"Meta Workspace Commands","text":"<p>Run from the <code>meta/</code> directory:</p> <pre><code># Sync repos + install dependencies\n./scripts/bootstrap\n\n# Run backend + frontend dev servers\n./scripts/dev\n\n# Also start Docker services (PostgreSQL, etc.)\n./scripts/dev --with-docker\n\n# Sync repos from repos.yaml\n./scripts/clone-or-update\n\n# Alternative: use workspace.mjs directly\nnode scripts/workspace.mjs sync\nnode scripts/workspace.mjs bootstrap\nnode scripts/workspace.mjs dev [--include-desktop] [--include-docs] [--with-docker]\n</code></pre>"},{"location":"reference/cli-commands/#docker-compose","title":"Docker Compose","text":"<p>Start development services (PostgreSQL):</p> <pre><code>docker compose -f meta/docker-compose.yml up -d\n</code></pre>"},{"location":"reference/cli-commands/#just-commands","title":"Just Commands","text":"<p>Both backend and frontend have a <code>justfile</code>. Requires the <code>just</code> command runner.</p> <pre><code># Install dependencies\njust bootstrap\n\n# Decrypt env vars with 1Password CLI\njust decrypt\n\n# Run dev server\njust dev\n\n# Build for production\njust build\n\n# Run tests\njust test\n</code></pre> <p>1Password CLI</p> <p>The <code>just decrypt</code> command runs <code>op inject -i env.template -o .env</code> to generate <code>.env</code> files from templates using 1Password CLI.</p>"},{"location":"reference/cli-commands/#database-commands","title":"Database Commands","text":"<p>With PostgreSQL running:</p> <pre><code># Connect to database\npsql -h localhost -p 5432 -U postgres -d librestock_inventory\n\n# Check database status\npg_isready -h localhost -p 5432\n</code></pre>"},{"location":"reference/cli-commands/#useful-combinations","title":"Useful Combinations","text":"<pre><code># Full rebuild\npnpm install &amp;&amp; pnpm build\n\n# Pre-commit check\npnpm lint &amp;&amp; pnpm test &amp;&amp; pnpm build\n\n# Update shared types after backend changes\npnpm --filter @librestock/types barrels &amp;&amp; pnpm --filter @librestock/types build\n</code></pre>"},{"location":"reference/environment-variables/","title":"Environment Variables","text":"<p>Complete reference of all environment variables used in LibreStock Inventory.</p>"},{"location":"reference/environment-variables/#backend-api","title":"Backend API","text":"<p>Location: <code>backend/.env</code></p>"},{"location":"reference/environment-variables/#database","title":"Database","text":"Variable Required Description Example <code>DATABASE_URL</code> Yes* Full PostgreSQL connection string <code>postgresql://postgres:postgres@localhost:5432/librestock_inventory</code> <code>PGHOST</code> Yes* PostgreSQL host <code>localhost</code> <code>PGPORT</code> Yes* PostgreSQL port <code>5432</code> <code>PGUSER</code> Yes* PostgreSQL user <code>postgres</code> <code>PGPASSWORD</code> Yes* PostgreSQL password <code>postgres</code> <code>PGDATABASE</code> Yes* PostgreSQL database name <code>librestock_inventory</code> <p>*Either <code>DATABASE_URL</code> or individual <code>PG*</code> variables are required.</p>"},{"location":"reference/environment-variables/#authentication","title":"Authentication","text":"Variable Required Description Example <code>BETTER_AUTH_SECRET</code> Yes Random 32+ byte string for session signing <code>&lt;output of openssl rand -base64 32&gt;</code> <code>BETTER_AUTH_URL</code> Yes Backend server URL for Better Auth <code>http://localhost:8080</code>"},{"location":"reference/environment-variables/#server","title":"Server","text":"Variable Required Default Description <code>PORT</code> No <code>8080</code> API server port <code>NODE_ENV</code> No <code>development</code> Environment mode <code>CORS_ORIGIN</code> No <code>http://localhost:3000</code> Allowed CORS origin <code>FRONTEND_URL</code> No <code>http://localhost:3000</code> Frontend URL for redirects"},{"location":"reference/environment-variables/#example-env","title":"Example <code>.env</code>","text":"<pre><code># Database\nDATABASE_URL=postgresql://postgres:postgres@localhost:5432/librestock_inventory\n\n# Authentication\nBETTER_AUTH_SECRET=&lt;random 32+ byte string&gt;\nBETTER_AUTH_URL=http://localhost:8080\n\n# Server\nPORT=8080\nNODE_ENV=development\nCORS_ORIGIN=http://localhost:3000\nFRONTEND_URL=http://localhost:3000\n</code></pre>"},{"location":"reference/environment-variables/#frontend-web","title":"Frontend Web","text":"<p>Location: <code>frontend/.env</code></p>"},{"location":"reference/environment-variables/#api","title":"API","text":"Variable Required Description Example <code>VITE_API_BASE_URL</code> Yes Backend API URL <code>http://localhost:8080/api/v1</code>"},{"location":"reference/environment-variables/#monitoring","title":"Monitoring","text":"Variable Required Description Example <code>VITE_SENTRY_DSN</code> No Sentry DSN for error tracking <code>https://xxx@sentry.io/xxx</code> <code>SENTRY_AUTH_TOKEN</code> No Sentry auth token for source maps <code>sntrys_xxx...</code>"},{"location":"reference/environment-variables/#example-env_1","title":"Example <code>.env</code>","text":"<pre><code># API\nVITE_API_BASE_URL=http://localhost:8080/api/v1\n\n# Monitoring (optional)\nVITE_SENTRY_DSN=&lt;sentry dsn&gt;\nSENTRY_AUTH_TOKEN=&lt;sentry auth token&gt;\n</code></pre>"},{"location":"reference/environment-variables/#setting-up-environment-files","title":"Setting Up Environment Files","text":"<p>Backend:</p> <pre><code>cp backend/.env.template backend/.env\n</code></pre> <p>Frontend:</p> <pre><code>echo \"VITE_API_BASE_URL=http://localhost:8080/api/v1\" &gt; frontend/.env\n</code></pre> <p>1Password CLI</p> <p>Both repos have a <code>justfile</code> with a <code>decrypt</code> task that uses 1Password CLI: <pre><code>cd backend &amp;&amp; just decrypt\ncd frontend &amp;&amp; just decrypt\n</code></pre> This runs <code>op inject -i env.template -o .env</code> to populate secrets from 1Password.</p>"},{"location":"reference/environment-variables/#cicd-secrets","title":"CI/CD Secrets","text":"<p>GitHub Actions secrets required for CI/CD:</p> Secret Description <code>BETTER_AUTH_SECRET</code> Better Auth secret for CI tests"},{"location":"reference/environment-variables/#documentation-deployment","title":"Documentation Deployment","text":"<p>Documentation is deployed via GitHub Pages:</p> <ul> <li>Site URL: https://librestock.github.io/documentation/</li> <li>Repo: https://github.com/librestock/documentation</li> </ul>"},{"location":"reference/environment-variables/#production-considerations","title":"Production Considerations","text":""},{"location":"reference/environment-variables/#security","title":"Security","text":"<ul> <li>Never commit <code>.env</code> files</li> <li>Use secrets management in production</li> <li>Rotate keys regularly</li> </ul>"},{"location":"reference/environment-variables/#better-auth","title":"Better Auth","text":"<ul> <li>Use a strong, unique <code>BETTER_AUTH_SECRET</code> in production (32+ random bytes)</li> <li>Set <code>BETTER_AUTH_URL</code> to your production backend URL</li> </ul>"},{"location":"reference/environment-variables/#database_1","title":"Database","text":"<ul> <li>Use connection pooling in production</li> <li>Enable SSL for database connections</li> </ul>"},{"location":"reference/troubleshooting/","title":"Troubleshooting","text":"<p>Solutions to common issues when working with LibreStock Inventory.</p>"},{"location":"reference/troubleshooting/#development-environment","title":"Development Environment","text":""},{"location":"reference/troubleshooting/#nix-shell-wont-start","title":"Nix shell won't start","text":"<p>Symptom: <code>nix develop</code> fails or hangs</p> <p>Solutions:</p> <ol> <li> <p>Check Nix installation:    <pre><code>nix --version\n</code></pre></p> </li> <li> <p>Ensure flakes are enabled in your Nix config (<code>~/.config/nix/nix.conf</code>):    <pre><code>experimental-features = nix-command flakes\n</code></pre></p> </li> <li> <p>Try entering the shell from the specific repo directory:    <pre><code>cd backend &amp;&amp; nix develop\n</code></pre></p> </li> </ol>"},{"location":"reference/troubleshooting/#docker-services-wont-start","title":"Docker services won't start","text":"<p>Symptom: <code>docker compose -f meta/docker-compose.yml up -d</code> fails</p> <p>Solutions:</p> <ol> <li> <p>Check Docker is running:    <pre><code>docker info\n</code></pre></p> </li> <li> <p>Check for port conflicts:    <pre><code>lsof -i :5432\n</code></pre></p> </li> <li> <p>Reset Docker containers:    <pre><code>docker compose -f meta/docker-compose.yml down -v\ndocker compose -f meta/docker-compose.yml up -d\n</code></pre></p> </li> </ol>"},{"location":"reference/troubleshooting/#port-already-in-use","title":"Port already in use","text":"<p>Symptom: \"Address already in use\" error</p> <p>Solutions:</p> <pre><code># Find process using the port\nlsof -i :8080  # or :3000, :5432\n\n# Kill the process\nkill -9 &lt;PID&gt;\n</code></pre>"},{"location":"reference/troubleshooting/#dependencies-wont-install","title":"Dependencies won't install","text":"<p>Symptom: <code>pnpm install</code> fails</p> <p>Solutions:</p> <ol> <li> <p>Clear pnpm cache:    <pre><code>pnpm store prune\nrm -rf node_modules\npnpm install\n</code></pre></p> </li> <li> <p>Check Node.js version:    <pre><code>node --version  # Should be 20+\n</code></pre></p> </li> </ol>"},{"location":"reference/troubleshooting/#database-issues","title":"Database Issues","text":""},{"location":"reference/troubleshooting/#cannot-connect-to-postgresql","title":"Cannot connect to PostgreSQL","text":"<p>Symptom: Connection refused errors</p> <p>Solutions:</p> <ol> <li> <p>Check if PostgreSQL is running:    <pre><code>pg_isready -h localhost -p 5432\n</code></pre></p> </li> <li> <p>Start PostgreSQL via Docker Compose:    <pre><code>docker compose -f meta/docker-compose.yml up -d\n</code></pre></p> </li> <li> <p>Check environment variables in <code>backend/.env</code></p> </li> </ol>"},{"location":"reference/troubleshooting/#migration-errors","title":"Migration errors","text":"<p>Symptom: TypeORM errors about schema</p> <p>Solutions:</p> <ol> <li> <p>Sync schema (development only):    <pre><code># TypeORM synchronize is enabled in dev\n# Restart the API server\n</code></pre></p> </li> <li> <p>Check database exists:    <pre><code>psql -h localhost -U postgres -c '\\l'\n</code></pre></p> </li> <li> <p>Run pending migrations:    <pre><code>pnpm --filter @librestock/api migration:run\n</code></pre></p> </li> </ol>"},{"location":"reference/troubleshooting/#api-issues","title":"API Issues","text":""},{"location":"reference/troubleshooting/#better-auth-authentication-errors","title":"Better Auth authentication errors","text":"<p>Symptom: 401 Unauthorized errors</p> <p>Solutions:</p> <ol> <li>Verify <code>BETTER_AUTH_SECRET</code> is set in <code>backend/.env</code> (must be 32+ random bytes)</li> <li>Verify <code>BETTER_AUTH_URL</code> is set correctly (e.g., <code>http://localhost:8080</code>)</li> <li>Check token is being sent:    <pre><code># Request should include:\n# Authorization: Bearer &lt;token&gt;\n</code></pre></li> <li>Try regenerating the secret:    <pre><code>openssl rand -base64 32\n</code></pre>    Update <code>BETTER_AUTH_SECRET</code> in <code>backend/.env</code> and restart the server.</li> </ol>"},{"location":"reference/troubleshooting/#shared-types-build-fails","title":"Shared types build fails","text":"<p>Symptom: <code>@librestock/types</code> build fails</p> <p>Solutions:</p> <ol> <li> <p>Build the API first:    <pre><code>pnpm --filter @librestock/api build\n</code></pre></p> </li> <li> <p>Check for TypeScript errors:    <pre><code>pnpm --filter @librestock/api type-check\n</code></pre></p> </li> </ol>"},{"location":"reference/troubleshooting/#frontend-issues","title":"Frontend Issues","text":""},{"location":"reference/troubleshooting/#api-client-type-errors","title":"API client type errors","text":"<p>Symptom: TypeScript errors in handwritten hooks or shared types</p> <p>Solutions:</p> <ol> <li>Rebuild shared types after API changes:    <pre><code>pnpm --filter @librestock/types barrels\npnpm --filter @librestock/types build\n</code></pre></li> </ol>"},{"location":"reference/troubleshooting/#hydration-errors","title":"Hydration errors","text":"<p>Symptom: React hydration mismatch warnings</p> <p>Solutions:</p> <ol> <li>Ensure client/server rendering matches</li> <li>Avoid browser-only code at module scope during SSR</li> <li>Defer browser APIs to effects or guards</li> </ol>"},{"location":"reference/troubleshooting/#translation-not-working","title":"Translation not working","text":"<p>Symptom: Translation keys shown instead of text</p> <p>Solutions:</p> <ol> <li>Check locale files exist in <code>frontend/src/locales/</code></li> <li>Verify i18n configuration</li> <li>Check language prefix in URL</li> </ol>"},{"location":"reference/troubleshooting/#build-issues","title":"Build Issues","text":""},{"location":"reference/troubleshooting/#typescript-errors","title":"TypeScript errors","text":"<p>Symptom: Build fails with type errors</p> <p>Solutions:</p> <pre><code># Check specific module\npnpm --filter @librestock/api type-check\npnpm --filter @librestock/web type-check\n</code></pre>"},{"location":"reference/troubleshooting/#eslint-errors","title":"ESLint errors","text":"<p>Symptom: Lint command fails</p> <p>Solutions:</p> <pre><code># Auto-fix what's possible\npnpm --filter @librestock/api lint --fix\npnpm --filter @librestock/web lint:fix\n</code></pre>"},{"location":"reference/troubleshooting/#cicd-issues","title":"CI/CD Issues","text":""},{"location":"reference/troubleshooting/#github-actions-failing","title":"GitHub Actions failing","text":"<p>Symptom: CI checks fail</p> <p>Solutions:</p> <ol> <li> <p>Run checks locally first:    <pre><code>pnpm lint &amp;&amp; pnpm test &amp;&amp; pnpm build\n</code></pre></p> </li> <li> <p>Check secrets are configured in GitHub</p> </li> <li> <p>Clear GitHub Actions cache if needed</p> </li> </ol>"},{"location":"reference/troubleshooting/#getting-more-help","title":"Getting More Help","text":"<p>If you're still stuck:</p> <ol> <li>Check existing issues</li> <li>Search error messages online</li> <li>Open a new issue with:<ul> <li>Error message</li> <li>Steps to reproduce</li> <li>Environment details</li> </ul> </li> </ol>"},{"location":"user-guide/","title":"User Guide","text":"<p>This guide covers how to use all features of the LibreStock Inventory system.</p>"},{"location":"user-guide/#overview","title":"Overview","text":"<p>LibreStock Inventory is a yacht provisioning inventory management system designed for managing luxury goods, linens, cosmetics, and amenities across multiple suppliers.</p>"},{"location":"user-guide/#core-features","title":"Core Features","text":""},{"location":"user-guide/#products","title":"Products","text":"<p>Manage your inventory items with detailed information including SKUs, pricing, physical specifications, and supplier links.</p> <p>:octicons-arrow-right-24: Products</p>"},{"location":"user-guide/#categories","title":"Categories","text":"<p>Organize products in a hierarchical category structure with unlimited nesting.</p> <p>:octicons-arrow-right-24: Categories</p>"},{"location":"user-guide/#suppliers","title":"Suppliers","text":"<p>Manage supplier records, contact information, and link suppliers to products.</p>"},{"location":"user-guide/#clients","title":"Clients","text":"<p>Track client information for yacht provisioning orders.</p>"},{"location":"user-guide/#locations","title":"Locations","text":"<p>Manage warehouses, supplier facilities, client yachts, and items in transit.</p> <p>:octicons-arrow-right-24: Locations</p>"},{"location":"user-guide/#areas","title":"Areas","text":"<p>Define zones, shelves, and bins within locations for precise inventory placement.</p> <p>:octicons-arrow-right-24: Areas</p>"},{"location":"user-guide/#inventory","title":"Inventory","text":"<p>Track stock quantities across locations with batch numbers and expiry dates.</p> <p>:octicons-arrow-right-24: Inventory</p>"},{"location":"user-guide/#stock-movements","title":"Stock Movements","text":"<p>Track stock movements between locations for full inventory traceability.</p>"},{"location":"user-guide/#orders","title":"Orders","text":"<p>Track yacht provisioning orders through their complete lifecycle from draft to delivery.</p> <p>:octicons-arrow-right-24: Orders</p>"},{"location":"user-guide/#roles-users","title":"Roles &amp; Users","text":"<p>Manage user accounts and role-based access control.</p>"},{"location":"user-guide/#audit-logs","title":"Audit Logs","text":"<p>View complete change history with before/after diffs and user tracking.</p> <p>:octicons-arrow-right-24: Audit Logs</p>"},{"location":"user-guide/#quick-tips","title":"Quick Tips","text":"<p>Keyboard Shortcuts</p> <ul> <li><code>Ctrl/Cmd + K</code> - Open search</li> <li><code>Ctrl/Cmd + B</code> - Toggle sidebar</li> </ul> <p>QR Scanning</p> <p>Use the QR code button next to SKU fields to scan barcodes with your camera.</p>"},{"location":"user-guide/areas/","title":"Managing Areas","text":"<p>Areas represent specific zones, shelves, or bins within a Location. They provide granular placement tracking for inventory items.</p>"},{"location":"user-guide/areas/#understanding-areas","title":"Understanding Areas","text":"<p>Areas are hierarchical and always belong to a Location:</p> <pre><code>Location: Miami Warehouse\n\u251c\u2500\u2500 Area: Zone A\n\u2502   \u251c\u2500\u2500 Area: Shelf A1\n\u2502   \u251c\u2500\u2500 Area: Shelf A2\n\u2502   \u2514\u2500\u2500 Area: Shelf A3\n\u251c\u2500\u2500 Area: Zone B\n\u2502   \u2514\u2500\u2500 Area: Shelf B1\n\u2514\u2500\u2500 Area: Cold Storage\n    \u251c\u2500\u2500 Area: Refrigerator 1\n    \u2514\u2500\u2500 Area: Freezer\n</code></pre> <p>Areas are Optional</p> <p>Inventory can be tracked at just the Location level. Areas add precision when you need to know exactly where items are placed.</p>"},{"location":"user-guide/areas/#viewing-areas","title":"Viewing Areas","text":"<p>Navigate to Locations \u2192 select a location \u2192 View Areas to see all areas within that location.</p> <p>The area list displays:</p> <ul> <li>Name - Area identifier</li> <li>Code - Short code for quick reference</li> <li>Parent - Parent area (if nested)</li> <li>Status - Active or inactive</li> </ul> <p>Hierarchical View</p> <p>Toggle between flat list and tree view to see the area hierarchy.</p>"},{"location":"user-guide/areas/#creating-an-area","title":"Creating an Area","text":"<ol> <li>Select a location</li> <li>Click the Create Area button</li> <li>Fill in the required fields:</li> <li>Name - Area name (e.g., \"Shelf A1\")</li> <li>Code - Short identifier (e.g., \"A1\")</li> <li>Parent - Parent area for nesting (optional)</li> </ol>"},{"location":"user-guide/areas/#area-fields","title":"Area Fields","text":"Field Required Description Name Yes Area display name Location Yes Parent location (auto-filled) Parent Area No Parent area for hierarchy Code No Short identifier code Description No Additional details Is Active No Area availability (defaults to true)"},{"location":"user-guide/areas/#creating-nested-areas","title":"Creating Nested Areas","text":"<p>To create a hierarchy:</p> <ol> <li>Create the parent area first (e.g., \"Zone A\")</li> <li>Create child areas with the parent selected (e.g., \"Shelf A1\" \u2192 Parent: \"Zone A\")</li> <li>Continue nesting as deep as needed</li> </ol> <pre><code>graph TD\n    L[Miami Warehouse] --&gt; A[Zone A]\n    L --&gt; B[Zone B]\n    L --&gt; C[Cold Storage]\n    A --&gt; A1[Shelf A1]\n    A --&gt; A2[Shelf A2]\n    C --&gt; R1[Refrigerator 1]\n    C --&gt; F[Freezer]</code></pre>"},{"location":"user-guide/areas/#editing-areas","title":"Editing Areas","text":"<ol> <li>Click on an area to open the edit form</li> <li>Modify the fields as needed</li> <li>Click Save to apply changes</li> </ol> <p>Moving Areas</p> <p>Changing an area's parent will move all its children as well. The area must stay within the same location.</p>"},{"location":"user-guide/areas/#deleting-areas","title":"Deleting Areas","text":"<p>When you delete an area:</p> <ul> <li>Child areas are also deleted (cascade delete)</li> <li>Inventory records lose their area reference (set to null)</li> <li>The inventory remains at the location level</li> </ul> <p>Cascade Delete</p> <p>Deleting \"Zone A\" will also delete \"Shelf A1\", \"Shelf A2\", and all other nested areas.</p>"},{"location":"user-guide/areas/#best-practices","title":"Best Practices","text":"<ol> <li>Use consistent naming - \"Shelf A1\" not \"shelf-a1\" or \"SHELF A1\"</li> <li>Use codes for quick lookup - Short codes like \"A1\", \"B2\", \"CS\" help during inventory counts</li> <li>Don't over-nest - 2-3 levels is usually sufficient (Zone \u2192 Shelf \u2192 Bin)</li> <li>Match physical layout - Area structure should reflect the actual storage layout</li> </ol>"},{"location":"user-guide/audit-logs/","title":"Audit Logs","text":"<p>The audit log tracks all changes made to the system, providing a complete history for accountability and troubleshooting.</p> <p>Admin Permission Required</p> <p>Viewing audit logs requires admin permission. Only users with the admin role can access the audit logs section.</p>"},{"location":"user-guide/audit-logs/#viewing-audit-logs","title":"Viewing Audit Logs","text":"<p>Navigate to Audit Logs to see the complete change history.</p> <p>Each log entry includes:</p> <ul> <li>Timestamp - When the change occurred</li> <li>User - Who made the change</li> <li>Action - Type of action (Create, Update, Delete, Restore)</li> <li>Entity Type - What was changed (Product, Category, etc.)</li> <li>Entity ID - The specific item changed</li> <li>Changes - Before/after values</li> </ul>"},{"location":"user-guide/audit-logs/#filtering-logs","title":"Filtering Logs","text":"<p>Filter audit logs by:</p> <ul> <li>Entity Type - Products, Categories, Orders, etc.</li> <li>Action - Create, Update, Delete, Restore</li> <li>User - Specific user</li> <li>Date Range - Time period</li> <li>Entity ID - Specific item</li> </ul>"},{"location":"user-guide/audit-logs/#understanding-changes","title":"Understanding Changes","text":"<p>For update actions, the log shows:</p> <pre><code>{\n  \"before\": {\n    \"name\": \"Old Product Name\",\n    \"price\": 100\n  },\n  \"after\": {\n    \"name\": \"New Product Name\",\n    \"price\": 150\n  }\n}\n</code></pre>"},{"location":"user-guide/audit-logs/#action-types","title":"Action Types","text":"Action Description CREATE New item created UPDATE Existing item modified DELETE Item soft-deleted RESTORE Deleted item restored ADJUST_QUANTITY Inventory quantity changed ADD_PHOTO Photo added to item STATUS_CHANGE Status field changed"},{"location":"user-guide/audit-logs/#entity-types","title":"Entity Types","text":"Entity Description PRODUCT Inventory products CATEGORY Product categories SUPPLIER Supplier records ORDER Client orders ORDER_ITEM Order line items INVENTORY Stock quantities LOCATION Storage locations STOCK_MOVEMENT Stock movements between locations PHOTO Product images AREA Zones within locations CLIENT Client records ROLE User roles"},{"location":"user-guide/audit-logs/#context-information","title":"Context Information","text":"<p>Each audit log includes context:</p> <ul> <li>IP Address - Origin of the request</li> <li>User Agent - Browser/client information</li> <li>User ID - Authenticated user</li> </ul>"},{"location":"user-guide/audit-logs/#use-cases","title":"Use Cases","text":""},{"location":"user-guide/audit-logs/#troubleshooting","title":"Troubleshooting","text":"<ol> <li>Find when a product was last modified</li> <li>See who changed a price</li> <li>Track inventory adjustments</li> </ol>"},{"location":"user-guide/audit-logs/#compliance","title":"Compliance","text":"<ol> <li>Demonstrate change tracking</li> <li>Provide audit trail for auditors</li> <li>Meet regulatory requirements</li> </ol>"},{"location":"user-guide/audit-logs/#recovery","title":"Recovery","text":"<ol> <li>Identify accidental changes</li> <li>Understand what was changed</li> <li>Restore previous values manually if needed</li> </ol>"},{"location":"user-guide/categories/","title":"Managing Categories","text":"<p>Categories help organize your products into a hierarchical structure for easy navigation and filtering.</p>"},{"location":"user-guide/categories/#category-hierarchy","title":"Category Hierarchy","text":"<p>Categories can be nested to create a tree structure:</p> <pre><code>Galley Supplies\n\u251c\u2500\u2500 Food &amp; Beverages\n\u2502   \u251c\u2500\u2500 Fresh Produce\n\u2502   \u2514\u2500\u2500 Dry Goods\n\u251c\u2500\u2500 Cookware\n\u2514\u2500\u2500 Utensils\n\nEngine Room\n\u251c\u2500\u2500 Spare Parts\n\u251c\u2500\u2500 Lubricants\n\u2514\u2500\u2500 Tools\n</code></pre>"},{"location":"user-guide/categories/#viewing-categories","title":"Viewing Categories","text":"<p>The category tree is displayed in the sidebar when viewing products. Click on a category to:</p> <ul> <li>View products in that category</li> <li>See products in all subcategories</li> <li>Expand/collapse child categories</li> </ul>"},{"location":"user-guide/categories/#creating-a-category","title":"Creating a Category","text":"<ol> <li>Navigate to Categories or click Manage Categories</li> <li>Click Create Category</li> <li>Fill in the fields:</li> <li>Name - Category name (required)</li> <li>Description - Optional description</li> <li>Parent Category - Select to create a subcategory</li> <li>Click Save</li> </ol> <p>Category Names</p> <p>Use clear, descriptive names. Category names must be unique within the same parent level.</p>"},{"location":"user-guide/categories/#editing-categories","title":"Editing Categories","text":"<ol> <li>Click the edit button on a category</li> <li>Modify the name, description, or parent</li> <li>Click Save</li> </ol> <p>Changing Parents</p> <p>Moving a category to a new parent will also move all its subcategories. The system prevents circular references (a category cannot be its own ancestor).</p>"},{"location":"user-guide/categories/#deleting-categories","title":"Deleting Categories","text":"<p>Category deletion is subject to the following constraints:</p> <ul> <li>If products exist in the category, the deletion will fail. You must reassign or remove all products from the category before deleting it.</li> <li>Subcategories will have their parent reference set to null (they become top-level categories).</li> </ul> <p>Category Deletion</p> <p>You cannot delete a category that still contains products. The API will return an error. Move or delete all products in the category first, then delete the category.</p>"},{"location":"user-guide/categories/#best-practices","title":"Best Practices","text":""},{"location":"user-guide/categories/#organizing-categories","title":"Organizing Categories","text":"<ol> <li>Keep it shallow - Aim for 2-3 levels of nesting</li> <li>Be consistent - Use similar naming patterns</li> <li>Plan ahead - Consider future growth</li> </ol>"},{"location":"user-guide/categories/#example-structure","title":"Example Structure","text":"<p>For a yacht provisioning inventory:</p> <ul> <li>Galley - Kitchen and dining supplies</li> <li>Housekeeping - Linens, cleaning supplies</li> <li>Safety - Safety equipment, first aid</li> <li>Engine Room - Technical supplies</li> <li>Guest Amenities - Toiletries, luxury items</li> <li>Deck - Outdoor equipment</li> </ul>"},{"location":"user-guide/inventory/","title":"Managing Inventory","text":"<p>Inventory tracks the quantity of products at specific locations and areas. It answers the question: \"How many of this product are at this place?\"</p>"},{"location":"user-guide/inventory/#understanding-the-inventory-model","title":"Understanding the Inventory Model","text":"<pre><code>graph LR\n    P[Product] --&gt; I[Inventory]\n    L[Location] --&gt; I\n    A[Area] -.-&gt; I\n    I --&gt; Q[Quantity]</code></pre> <ul> <li>Product - What the item is (from the catalog)</li> <li>Location - Where items are stored (warehouse, supplier, etc.)</li> <li>Area - Optional specific placement (shelf, bin)</li> <li>Quantity - How many are at that location/area</li> </ul> <p>One Record Per Combination</p> <p>Each unique combination of Product + Location + Area has one inventory record. Use the adjust endpoint to change quantities.</p>"},{"location":"user-guide/inventory/#viewing-inventory","title":"Viewing Inventory","text":"<p>Navigate to the Inventory section from the sidebar.</p> <p>The inventory list displays:</p> <ul> <li>Product - SKU and name</li> <li>Location - Where the inventory is</li> <li>Area - Specific placement (if set)</li> <li>Quantity - Current stock level</li> <li>Expiry - Expiration date (for perishables)</li> </ul>"},{"location":"user-guide/inventory/#filtering-inventory","title":"Filtering Inventory","text":"<p>Filter inventory by:</p> <ul> <li>Product - Search by SKU or name</li> <li>Location - Filter by location</li> <li>Area - Filter by area</li> <li>Low Stock - Show items below reorder point</li> <li>Expiring Soon - Show items expiring within 30 days</li> </ul>"},{"location":"user-guide/inventory/#adding-inventory","title":"Adding Inventory","text":"<ol> <li>Click the Add Inventory button</li> <li>Select a product</li> <li>Select a location</li> <li>Optionally select an area within that location</li> <li>Enter the quantity and optional details</li> </ol>"},{"location":"user-guide/inventory/#inventory-fields","title":"Inventory Fields","text":"Field Required Description Product Yes Product from catalog Location Yes Storage location Area No Specific area within location Quantity Yes Number of items Batch Number No Batch or lot number Expiry Date No Expiration date Cost per Unit No Purchase cost Received Date No When inventory was received <p>Duplicate Prevention</p> <p>You cannot create two inventory records for the same product at the same location/area. Update the existing record instead.</p>"},{"location":"user-guide/inventory/#adjusting-quantities","title":"Adjusting Quantities","text":"<p>Use the Adjust feature to add or remove inventory:</p> <ol> <li>Click the adjust button on an inventory row</li> <li>Enter the adjustment amount:</li> <li>Positive number to add (e.g., <code>+50</code>)</li> <li>Negative number to remove (e.g., <code>-10</code>)</li> <li>Click Adjust to apply</li> </ol> <p>Adjustment vs Update</p> <p>Use Adjust for incremental changes (received shipment, sold items). Use Update to set an absolute quantity (stock count corrections).</p>"},{"location":"user-guide/inventory/#moving-inventory-stock-movements","title":"Moving Inventory (Stock Movements)","text":"<p>The Stock Movements module allows you to track and record inventory transfers between locations:</p> <ol> <li>Navigate to Stock Movements</li> <li>Click Create Movement</li> <li>Select the source location and destination location</li> <li>Select the product and quantity to transfer</li> <li>Confirm the movement</li> </ol> <p>Stock movements provide a full audit trail of inventory transfers, making it easy to trace where stock has been moved and by whom.</p>"},{"location":"user-guide/inventory/#low-stock-alerts","title":"Low Stock Alerts","text":"<p>Products have a reorder point that triggers low stock alerts:</p> <ul> <li>Set on the product (e.g., reorder point = 10)</li> <li>When inventory quantity \u2264 reorder point, it appears in low stock filter</li> <li>Use this to know when to reorder from suppliers</li> </ul>"},{"location":"user-guide/inventory/#tracking-expiry-dates","title":"Tracking Expiry Dates","text":"<p>For perishable items:</p> <ol> <li>Set Is Perishable on the product</li> <li>Enter Expiry Date when adding inventory</li> <li>Use the \"Expiring Soon\" filter to see items expiring within 30 days</li> </ol>"},{"location":"user-guide/inventory/#inventory-at-multiple-locations","title":"Inventory at Multiple Locations","text":"<p>The same product can exist at multiple locations:</p> Product Location Area Quantity PROD-001 Miami Warehouse Shelf A1 50 PROD-001 Miami Warehouse Shelf B2 25 PROD-001 Monaco Supplier - 100 PROD-001 Yacht Bella - 5 <p>This lets you track: - Warehouse stock by shelf - Supplier inventory - Items already delivered to clients</p>"},{"location":"user-guide/inventory/#best-practices","title":"Best Practices","text":"<ol> <li>Use areas for large quantities - Easier to find items during picking</li> <li>Track batch numbers - Helps with recalls or quality issues</li> <li>Set reorder points - Prevent stockouts</li> <li>Regular stock counts - Adjust quantities to match physical counts</li> <li>Track expiry dates - Especially for cosmetics and consumables</li> </ol>"},{"location":"user-guide/locations/","title":"Managing Locations","text":"<p>Locations represent physical places where inventory is stored. This includes warehouses, supplier facilities, client yachts, and items in transit.</p>"},{"location":"user-guide/locations/#understanding-locations","title":"Understanding Locations","text":"<p>Locations are categorized by type:</p> Type Description Use Case WAREHOUSE Your storage facilities Main inventory storage SUPPLIER Vendor storage locations Track supplier stock CLIENT Yacht or client premises Items delivered to clients IN_TRANSIT Items being transported Track shipments"},{"location":"user-guide/locations/#viewing-locations","title":"Viewing Locations","text":"<p>Navigate to the Locations section from the sidebar to see all locations.</p> <p>The location list displays:</p> <ul> <li>Name - Location identifier</li> <li>Type - Category of location</li> <li>Address - Physical address</li> <li>Contact - Primary contact person</li> <li>Status - Active or inactive</li> </ul> <p>Filtering Locations</p> <p>Use the type filter to show only warehouses, suppliers, or other location types.</p>"},{"location":"user-guide/locations/#creating-a-location","title":"Creating a Location","text":"<ol> <li>Click the Create Location button</li> <li>Fill in the required fields:</li> <li>Name - Location name (e.g., \"Miami Warehouse\")</li> <li>Type - Select location type</li> <li>Address - Physical address (optional)</li> </ol>"},{"location":"user-guide/locations/#location-fields","title":"Location Fields","text":"Field Required Description Name Yes Location display name Type Yes WAREHOUSE, SUPPLIER, CLIENT, or IN_TRANSIT Address No Physical address Contact Person No Primary contact name Phone No Contact phone number Is Active No Location availability (defaults to true)"},{"location":"user-guide/locations/#editing-locations","title":"Editing Locations","text":"<ol> <li>Click on a location row to open the edit form</li> <li>Modify the fields as needed</li> <li>Click Save to apply changes</li> </ol> <p>Deleting Locations</p> <p>Deleting a location will fail if other entities reference it (inventory records, areas, etc.). You must remove or reassign all associated inventory records and areas before deleting a location.</p>"},{"location":"user-guide/locations/#location-hierarchy","title":"Location Hierarchy","text":"<p>Locations can contain Areas for more granular placement tracking:</p> <pre><code>Miami Warehouse (Location)\n\u251c\u2500\u2500 Zone A (Area)\n\u2502   \u251c\u2500\u2500 Shelf A1 (Area)\n\u2502   \u2514\u2500\u2500 Shelf A2 (Area)\n\u251c\u2500\u2500 Zone B (Area)\n\u2514\u2500\u2500 Cold Storage (Area)\n</code></pre> <p>See Managing Areas for details on creating areas within locations.</p>"},{"location":"user-guide/locations/#best-practices","title":"Best Practices","text":"<ol> <li>Use descriptive names - Include city or purpose (e.g., \"Monaco Supplier - Linens\")</li> <li>Keep contact info updated - Helps with quick reordering</li> <li>Create areas for large locations - Track exact placement within warehouses</li> <li>Use IN_TRANSIT for shipments - Track items moving between locations</li> </ol>"},{"location":"user-guide/orders/","title":"Order Processing","text":"<p>Track yacht provisioning orders through their complete lifecycle.</p>"},{"location":"user-guide/orders/#order-workflow","title":"Order Workflow","text":"<p>Orders follow this lifecycle:</p> <pre><code>graph LR\n    A[Draft] --&gt; B[Confirmed]\n    B --&gt; C[Sourcing]\n    C --&gt; D[Picking]\n    D --&gt; E[Packed]\n    E --&gt; F[Shipped]\n    F --&gt; G[Delivered]\n    A --&gt; H[Cancelled]\n    B --&gt; H\n    C --&gt; H\n    D --&gt; H\n    E --&gt; H\n    B --&gt; I[On Hold]\n    C --&gt; I\n    D --&gt; I\n    E --&gt; I\n    I --&gt; H\n    I --&gt; B\n    I --&gt; C\n    I --&gt; D\n    I --&gt; E</code></pre>"},{"location":"user-guide/orders/#order-statuses","title":"Order Statuses","text":"Status Description Draft Order is being prepared Confirmed Order is confirmed and processing begins Sourcing Items are being sourced from suppliers Picking Items are being picked from inventory Packed Items are packed and ready for shipping Shipped Order is in transit Delivered Order has been delivered Cancelled Order was cancelled (reachable from Draft, Confirmed, Sourcing, Picking, Packed, On Hold) On Hold Order is temporarily paused (reachable from Confirmed, Sourcing, Picking, Packed; can return to those statuses or be Cancelled)"},{"location":"user-guide/orders/#order-fields","title":"Order Fields","text":"Field Description Order Number Unique order identifier Client Linked client record Status Current order status Delivery Deadline Required delivery date Delivery Address Shipping destination Yacht Name Target yacht for provisioning Special Instructions Additional delivery notes Total Amount Computed order total Assigned To User responsible for the order Created By User who created the order Confirmed At Timestamp when order was confirmed Shipped At Timestamp when order was shipped Delivered At Timestamp when order was delivered Kanban Task ID Link to kanban board task"},{"location":"user-guide/orders/#creating-an-order","title":"Creating an Order","text":"<ol> <li>Navigate to Orders</li> <li>Click Create Order</li> <li>Fill in order details:</li> <li>Client - Select a client from the client list</li> <li>Delivery Address - Shipping destination</li> <li>Yacht Name - Target yacht</li> <li>Delivery Deadline - Required delivery date</li> <li>Special Instructions - Any additional notes</li> <li>Add line items</li> <li>Save as draft or confirm</li> </ol>"},{"location":"user-guide/orders/#managing-order-items","title":"Managing Order Items","text":"<p>Each order contains line items with:</p> <ul> <li>Product reference</li> <li>Quantity ordered</li> <li>Unit price</li> <li>Quantity picked</li> <li>Quantity packed</li> </ul>"},{"location":"user-guide/orders/#order-history","title":"Order History","text":"<p>All order changes are tracked in the audit log:</p> <ul> <li>Status changes</li> <li>Item additions/removals</li> <li>Quantity changes</li> <li>Assignment changes</li> </ul>"},{"location":"user-guide/products/","title":"Managing Products","text":"<p>Products are the core of the LibreStock Inventory system. Each product represents an item in your yacht provisioning inventory.</p>"},{"location":"user-guide/products/#viewing-products","title":"Viewing Products","text":"<p>Navigate to the Products section from the sidebar to see all products.</p> <p>The product list displays:</p> <ul> <li>SKU - Unique product identifier</li> <li>Name - Product name</li> <li>Category - Product category</li> <li>Price - Standard selling price</li> <li>Status - Active or inactive</li> </ul> <p>Filtering Products</p> <p>Use the category sidebar to filter products by category. Click on a category to show only products in that category and its subcategories.</p>"},{"location":"user-guide/products/#creating-a-product","title":"Creating a Product","text":"<ol> <li>Click the Create Product button</li> <li>Fill in the required fields:</li> <li>SKU - Unique identifier (can be scanned via QR code)</li> <li>Name - Product name</li> <li>Category - Select from the category tree</li> </ol>"},{"location":"user-guide/products/#product-fields","title":"Product Fields","text":"Field Required Description SKU Yes Unique stock keeping unit (max 50 chars) Name Yes Product display name (max 200 chars) Category Yes Product category Description No Detailed description Volume (ml) No Volume in milliliters Weight (kg) No Weight in kilograms Dimensions (cm) No Dimensions, e.g., \"10x10x5\" Standard Cost No Purchase cost Standard Price No Selling price Markup Percentage No Markup percentage Reorder Point No Low stock threshold (defaults to 0) Primary Supplier No Link to a supplier record Supplier SKU No SKU used by the supplier Barcode No Barcode value, e.g., \"0641628607549\" Unit No Unit of measure, e.g., \"units\" Is Active No Product availability (defaults to true) Is Perishable No Expiration tracking (defaults to false) Notes No Additional notes"},{"location":"user-guide/products/#using-the-qr-scanner","title":"Using the QR Scanner","text":"<p>Click the QR code icon next to the SKU field to scan a barcode:</p> <ol> <li>Allow camera access when prompted</li> <li>Point camera at the barcode</li> <li>SKU will be automatically filled</li> </ol>"},{"location":"user-guide/products/#editing-products","title":"Editing Products","text":"<ol> <li>Click on a product row to open the edit form</li> <li>Modify the fields as needed</li> <li>Click Save to apply changes</li> </ol> <p>SKU Changes</p> <p>Changing a product's SKU may affect existing orders and inventory records. Use caution when modifying SKUs.</p>"},{"location":"user-guide/products/#bulk-operations","title":"Bulk Operations","text":"<p>Select multiple products using the checkboxes to perform bulk actions:</p> <ul> <li>Bulk Status Update - Activate or deactivate multiple products</li> <li>Bulk Delete - Soft delete multiple products</li> <li>Bulk Restore - Restore deleted products</li> </ul>"},{"location":"user-guide/products/#performing-bulk-actions","title":"Performing Bulk Actions","text":"<ol> <li>Select products using checkboxes</li> <li>Click the action button in the toolbar</li> <li>Confirm the action</li> <li>View results summary</li> </ol>"},{"location":"user-guide/products/#bulk-csv-import","title":"Bulk CSV Import","text":"<p>You can import multiple products at once using a CSV file:</p> <ol> <li>Click the Import button in the toolbar</li> <li>Download the CSV template to see the expected format</li> <li>Fill in the product data in the CSV file</li> <li>Upload the completed CSV file</li> <li>Review the import preview and confirm</li> </ol> <p>CSV Import Tips</p> <ul> <li>Ensure SKUs are unique and not already in the system</li> <li>Category names must match existing categories exactly</li> <li>Leave optional fields empty if not applicable</li> </ul>"},{"location":"user-guide/products/#soft-delete-and-restore","title":"Soft Delete and Restore","text":"<p>Products are soft-deleted by default, meaning they can be restored:</p> <ol> <li>Delete a product using the delete button</li> <li>View deleted products by toggling the filter</li> <li>Click Restore to bring back a deleted product</li> </ol> <p>Hard Delete</p> <p>Permanently deleting a product removes it from the database entirely. This action cannot be undone.</p>"},{"location":"user-guide/products/#product-images","title":"Product Images","text":"<p>Upload images to help identify products:</p> <ol> <li>Click the image upload area</li> <li>Select an image file</li> <li>The image will be uploaded and displayed</li> </ol> <p>Supported formats: PNG, JPG, WebP</p>"},{"location":"fr/","title":"Syst\u00e8me d'Inventaire LibreStock","text":"<p>Bienvenue dans la documentation LibreStock Inventory. Ce syst\u00e8me aide \u00e0 g\u00e9rer l'inventaire d'approvisionnement des yachts avec des fonctionnalit\u00e9s de gestion des produits, de suivi des commandes et de journalisation des audits.</p> <p>Construit avec NestJS (backend), TanStack Start avec React 19 (frontend), PostgreSQL, Better Auth et TypeORM.</p>"},{"location":"fr/#liens-rapides","title":"Liens Rapides","text":"<ul> <li> <p>:material-rocket-launch: D\u00e9marrage</p> <p>Commencez avec LibreStock Inventory en quelques minutes.</p> <p>:octicons-arrow-right-24: Installation</p> </li> <li> <p>:material-book-open-variant: Guide Utilisateur</p> <p>Apprenez \u00e0 utiliser toutes les fonctionnalit\u00e9s de l'application.</p> <p>:octicons-arrow-right-24: Guide Utilisateur</p> </li> <li> <p>:material-code-braces: D\u00e9veloppement</p> <p>Configurez votre environnement de d\u00e9veloppement et contribuez.</p> <p>:octicons-arrow-right-24: D\u00e9veloppement</p> </li> <li> <p>:material-map: Feuille de Route</p> <p>D\u00e9couvrez ce qui est pr\u00e9vu pour les prochaines versions.</p> <p>:octicons-arrow-right-24: Feuille de Route</p> </li> </ul>"},{"location":"fr/#fonctionnalites","title":"Fonctionnalit\u00e9s","text":"<ul> <li>Gestion des Produits - Cr\u00e9ez et organisez des produits avec SKUs, prix et cat\u00e9gories</li> <li>Hi\u00e9rarchie des Cat\u00e9gories - Cat\u00e9gorisation multi-niveaux avec imbrication illimit\u00e9e</li> <li>Suivi des Emplacements - G\u00e9rez les entrep\u00f4ts, fournisseurs, clients et emplacements en transit</li> <li>Gestion des Zones - D\u00e9finissez des zones, \u00e9tag\u00e8res et bacs au sein des emplacements</li> <li>Contr\u00f4le d'Inventaire - Suivez les quantit\u00e9s en stock \u00e0 travers les emplacements avec suivi des lots et dates d'expiration</li> <li>Mouvements de Stock - Suivez et enregistrez les mouvements de stock entre emplacements</li> <li>Traitement des Commandes - Suivez les commandes d'approvisionnement des yachts tout au long du cycle complet (DRAFT, CONFIRMED, SOURCING, PICKING, PACKED, SHIPPED, DELIVERED, CANCELLED, ON_HOLD)</li> <li>Module Clients - G\u00e9rez les informations et relations clients</li> <li>Module Fournisseurs - G\u00e9rez les informations et relations fournisseurs</li> <li>Piste d'Audit - Historique complet des modifications avec suivi des utilisateurs</li> <li>Authentification - Syst\u00e8me d'authentification Better Auth</li> <li>R\u00f4les &amp; Permissions - Contr\u00f4le d'acc\u00e8s bas\u00e9 sur les r\u00f4les avec PermissionGuard et @RequirePermission</li> <li>Gestion des Utilisateurs - Administration des utilisateurs</li> <li>Gestion des Photos - Gestion des photos de produits et d'inventaire</li> <li>Personnalisation/Branding - Options de personnalisation de la marque</li> <li>Multi-langue - Support anglais, fran\u00e7ais et allemand</li> <li>API REST HATEOAS - Conception d'API pilot\u00e9e par hyperm\u00e9dia</li> <li>Tests E2E - Tests de bout en bout avec Playwright</li> <li>Support Docker - Docker Compose pour le d\u00e9ploiement conteneuris\u00e9</li> <li>CI/CD - Pipelines GitHub Actions par d\u00e9p\u00f4t</li> <li>Documentation - Site MkDocs avec GitHub Pages</li> <li>Scan QR - Num\u00e9risation de codes-barres pour une recherche rapide des produits</li> </ul>"},{"location":"fr/roadmap/","title":"Feuille de route","text":"<p>Cette feuille de route pr\u00e9sente les fonctionnalit\u00e9s et am\u00e9liorations planifi\u00e9es pour LibreStock Inventory. Les \u00e9l\u00e9ments sont suivis en tant que GitHub Issues.</p> <p>Contribuer</p> <p>Int\u00e9ress\u00e9 \u00e0 contribuer ? Consultez nos directives de contribution et choisissez une issue \u00e0 traiter !</p>"},{"location":"fr/roadmap/#en-cours","title":"En cours","text":""},{"location":"fr/roadmap/#recherche-analytique","title":"Recherche &amp; Analytique","text":"Description Priorit\u00e9 Impl\u00e9menter l'API de recherche et filtrage avanc\u00e9 Haute Construire l'interface de recherche avanc\u00e9e avec filtres Haute Cr\u00e9er un tableau de bord avec analytiques d'inventaire Moyenne Impl\u00e9menter les rapports d'inventaire et fonctions d'export Moyenne"},{"location":"fr/roadmap/#inventaire-avance","title":"Inventaire avanc\u00e9","text":"Description Priorit\u00e9 Ajouter les alertes de stock bas et notifications Haute Ajouter les op\u00e9rations en masse pour la gestion d'inventaire Moyenne"},{"location":"fr/roadmap/#experience-utilisateur","title":"Exp\u00e9rience utilisateur","text":"Description Priorit\u00e9 Ajouter le support de scan code-barres/QR Moyenne Cr\u00e9er le guide de d\u00e9marrage et donn\u00e9es d'exemple Moyenne"},{"location":"fr/roadmap/#infrastructure-operations","title":"Infrastructure &amp; Op\u00e9rations","text":"Description Priorit\u00e9 Ajouter l'infrastructure de logging et monitoring Haute Mettre en place la strat\u00e9gie de backup et r\u00e9cup\u00e9ration Haute"},{"location":"fr/roadmap/#termine","title":"Termin\u00e9","text":"<p>Ces fonctionnalit\u00e9s ont \u00e9t\u00e9 impl\u00e9ment\u00e9es :</p>"},{"location":"fr/roadmap/#modules-principaux","title":"Modules principaux","text":"Description Statut CRUD Produits :white_check_mark: Fait CRUD Cat\u00e9gories :white_check_mark: Fait CRUD Emplacements :white_check_mark: Fait CRUD Zones :white_check_mark: Fait Gestion d'inventaire :white_check_mark: Fait Mouvements de stock :white_check_mark: Fait Gestion des commandes (DRAFT, CONFIRMED, SOURCING, PICKING, PACKED, SHIPPED, DELIVERED, CANCELLED, ON_HOLD) :white_check_mark: Fait Module clients :white_check_mark: Fait Module fournisseurs :white_check_mark: Fait Journalisation d'audit :white_check_mark: Fait Gestion des photos :white_check_mark: Fait"},{"location":"fr/roadmap/#authentification-autorisation","title":"Authentification &amp; Autorisation","text":"Description Statut Authentification Better Auth :white_check_mark: Fait Syst\u00e8me de r\u00f4les/permissions (PermissionGuard + @RequirePermission) :white_check_mark: Fait Gestion des utilisateurs (admin) :white_check_mark: Fait"},{"location":"fr/roadmap/#frontend-api","title":"Frontend &amp; API","text":"Description Statut API REST HATEOAS :white_check_mark: Fait Frontend TanStack Start (React 19) :white_check_mark: Fait Personnalisation/branding :white_check_mark: Fait i18n (anglais, fran\u00e7ais, allemand) :white_check_mark: Fait"},{"location":"fr/roadmap/#infrastructure-qualite","title":"Infrastructure &amp; Qualit\u00e9","text":"Description Statut Support Docker (docker-compose) :white_check_mark: Fait CI/CD (GitHub Actions par d\u00e9p\u00f4t) :white_check_mark: Fait Tests E2E (Playwright) :white_check_mark: Fait Site de documentation (MkDocs, GitHub Pages) :white_check_mark: Fait Outils de qualit\u00e9 de code et linting :white_check_mark: Fait"},{"location":"fr/roadmap/#considerations-futures","title":"Consid\u00e9rations futures","text":"<p>Fonctionnalit\u00e9s en consid\u00e9ration pour les versions futures :</p> <ul> <li>PWA - Application Web Progressive avec support hors ligne</li> <li>Support multi-yacht - G\u00e9rer l'inventaire sur plusieurs navires</li> <li>Int\u00e9gration fournisseurs - Commande directe aupr\u00e8s des fournisseurs</li> <li>Pr\u00e9dictions IA - Suggestions de r\u00e9approvisionnement automatiques</li> <li>Applications mobiles natives - Applications iOS et Android</li> <li>Sync offline-first - Capacit\u00e9 offline compl\u00e8te avec synchronisation</li> </ul>"},{"location":"fr/roadmap/#depots","title":"D\u00e9p\u00f4ts","text":"D\u00e9p\u00f4t Description Lien meta Orchestration du workspace et scripts GitHub backend Serveur API NestJS GitHub frontend Application web TanStack Start GitHub packages Types partag\u00e9s et utilitaires GitHub documentation Site de documentation MkDocs GitHub remote-desktop Outils de bureau \u00e0 distance GitHub landing Page d'accueil GitHub <p>Derni\u00e8re mise \u00e0 jour : F\u00e9vrier 2026</p>"},{"location":"fr/contributing/","title":"Contribuer","text":"<p>Merci de votre int\u00e9r\u00eat pour contribuer \u00e0 LibreStock Inventory ! Cette section explique comment contribuer au projet.</p>"},{"location":"fr/contributing/#facons-de-contribuer","title":"Fa\u00e7ons de contribuer","text":"<ul> <li>Signaler des bugs - Trouv\u00e9 un probl\u00e8me ? Ouvrez une issue</li> <li>Sugg\u00e9rer des fonctionnalit\u00e9s - Vous avez une id\u00e9e ? Partagez-la avec nous</li> <li>Soumettre du code - Corriger des bugs ou ajouter des fonctionnalit\u00e9s</li> <li>Am\u00e9liorer la documentation - Aider les autres \u00e0 comprendre le projet</li> </ul>"},{"location":"fr/contributing/#pour-commencer","title":"Pour commencer","text":"<ol> <li>Lire les directives - Consultez nos directives de contribution</li> <li>Configurer votre environnement - Suivez la configuration de d\u00e9veloppement</li> <li>Trouver une issue - Cherchez les labels <code>good first issue</code></li> <li>Soumettre une PR - Suivez notre processus de pull request</li> </ol>"},{"location":"fr/contributing/#code-de-conduite","title":"Code de conduite","text":"<p>Nous nous engageons \u00e0 fournir un environnement accueillant et inclusif. Soyez respectueux et constructif dans toutes vos interactions.</p>"},{"location":"fr/contributing/#questions","title":"Questions ?","text":"<p>Si vous avez des questions sur la contribution :</p> <ul> <li>Consultez les issues existantes</li> <li>Parcourez la documentation</li> <li>Posez vos questions dans les discussions</li> </ul>"},{"location":"fr/contributing/guidelines/","title":"Directives de contribution","text":"<p>Ce document d\u00e9crit les directives pour contribuer \u00e0 LibreStock Inventory.</p>"},{"location":"fr/contributing/guidelines/#workflow-de-developpement","title":"Workflow de d\u00e9veloppement","text":""},{"location":"fr/contributing/guidelines/#1-fork-et-clone","title":"1. Fork et clone","text":"<pre><code># Fork le repository sur GitHub, puis :\ngit clone https://github.com/VOTRE-NOM/meta.git\ncd meta\n</code></pre>"},{"location":"fr/contributing/guidelines/#2-initialiser-le-workspace","title":"2. Initialiser le workspace","text":"<pre><code># Installer les d\u00e9pendances et configurer tous les d\u00e9p\u00f4ts\n./meta/scripts/bootstrap\n</code></pre>"},{"location":"fr/contributing/guidelines/#3-creer-une-branche","title":"3. Cr\u00e9er une branche","text":"<pre><code>git checkout -b feature/nom-de-votre-fonctionnalite\n# ou\ngit checkout -b fix/description-du-probleme\n</code></pre>"},{"location":"fr/contributing/guidelines/#4-faire-des-modifications","title":"4. Faire des modifications","text":"<ul> <li>Suivez le guide de style de code</li> <li>\u00c9crivez des tests pour les nouvelles fonctionnalit\u00e9s</li> <li>Mettez \u00e0 jour la documentation si n\u00e9cessaire</li> </ul>"},{"location":"fr/contributing/guidelines/#5-tester-vos-modifications","title":"5. Tester vos modifications","text":"<pre><code># Ex\u00e9cuter le linting backend\npnpm --filter @librestock/api lint\n\n# Ex\u00e9cuter le linting frontend\npnpm --filter @librestock/web lint\n\n# Ex\u00e9cuter les tests backend\npnpm --filter @librestock/api test\n\n# Ex\u00e9cuter les tests E2E frontend\npnpm --filter @librestock/web test:e2e\n\n# Build backend pour v\u00e9rifier les erreurs de type\npnpm --filter @librestock/api build\n\n# Build frontend pour v\u00e9rifier les erreurs de type\npnpm --filter @librestock/web build\n</code></pre>"},{"location":"fr/contributing/guidelines/#6-committer-vos-modifications","title":"6. Committer vos modifications","text":"<p>Utilisez des messages de commit clairs et descriptifs :</p> <pre><code>git commit -m \"feat: ajouter la fonctionnalit\u00e9 de recherche de produits\"\ngit commit -m \"fix: r\u00e9soudre l'erreur de suppression de cat\u00e9gorie\"\ngit commit -m \"docs: mettre \u00e0 jour le guide de d\u00e9veloppement API\"\n</code></pre> <p>Suivez le format Conventional Commits :</p> <ul> <li><code>feat:</code> - Nouvelle fonctionnalit\u00e9</li> <li><code>fix:</code> - Correction de bug</li> <li><code>docs:</code> - Modifications de documentation</li> <li><code>style:</code> - Modifications de style de code (formatage, etc.)</li> <li><code>refactor:</code> - Refactoring de code</li> <li><code>test:</code> - Ajout ou mise \u00e0 jour de tests</li> <li><code>chore:</code> - T\u00e2ches de maintenance</li> </ul>"},{"location":"fr/contributing/guidelines/#7-push-et-creer-une-pr","title":"7. Push et cr\u00e9er une PR","text":"<pre><code>git push origin feature/nom-de-votre-fonctionnalite\n</code></pre> <p>Puis cr\u00e9ez une pull request sur GitHub.</p>"},{"location":"fr/contributing/guidelines/#standards-de-code","title":"Standards de code","text":""},{"location":"fr/contributing/guidelines/#typescript","title":"TypeScript","text":"<ul> <li>Utiliser TypeScript strict</li> <li>Fournir des types pour tous les param\u00e8tres de fonction et valeurs de retour</li> <li>\u00c9viter le type <code>any</code></li> </ul>"},{"location":"fr/contributing/guidelines/#developpement-api","title":"D\u00e9veloppement API","text":"<ul> <li>Suivre le guide de d\u00e9veloppement API</li> <li>Ajouter des d\u00e9corateurs Swagger pour les nouveaux endpoints</li> <li>Inclure des d\u00e9corateurs de validation sur les DTOs</li> </ul>"},{"location":"fr/contributing/guidelines/#developpement-frontend","title":"D\u00e9veloppement Frontend","text":"<ul> <li>Suivre le guide de d\u00e9veloppement frontend</li> <li>Pr\u00e9f\u00e9rer les composants serveur quand c'est possible</li> <li>Utiliser les hooks API g\u00e9n\u00e9r\u00e9s</li> </ul>"},{"location":"fr/contributing/guidelines/#tests","title":"Tests","text":"<ul> <li>\u00c9crire des tests unitaires pour les nouvelles fonctionnalit\u00e9s</li> <li>Suivre le guide de tests</li> <li>Viser une couverture de tests significative</li> </ul>"},{"location":"fr/contributing/guidelines/#documentation","title":"Documentation","text":"<p>Lors de vos contributions :</p> <ul> <li>Mettez \u00e0 jour la documentation pertinente</li> <li>Ajoutez des commentaires JSDoc pour les APIs publiques</li> <li>Incluez des exemples pour les fonctionnalit\u00e9s complexes</li> </ul>"},{"location":"fr/contributing/guidelines/#processus-de-review","title":"Processus de review","text":"<ol> <li>V\u00e9rifications automatiques - La CI doit passer</li> <li>Code review - Au moins une approbation requise</li> <li>Review de documentation - Pour les changements significatifs</li> <li>Merge - Squash and merge vers main</li> </ol>"},{"location":"fr/contributing/guidelines/#obtenir-de-laide","title":"Obtenir de l'aide","text":"<ul> <li>Consultez les issues et la documentation existantes</li> <li>Posez des questions dans votre PR</li> <li>Contactez les mainteneurs</li> </ul>"},{"location":"fr/contributing/pull-requests/","title":"Processus de Pull Request","text":"<p>Ce guide explique comment cr\u00e9er et g\u00e9rer les pull requests pour LibreStock Inventory.</p>"},{"location":"fr/contributing/pull-requests/#creer-une-pull-request","title":"Cr\u00e9er une Pull Request","text":""},{"location":"fr/contributing/pull-requests/#prerequis","title":"Pr\u00e9requis","text":"<p>Avant de cr\u00e9er une PR :</p> <ol> <li> <p>Les tests passent localement <pre><code>pnpm --filter @librestock/api test\npnpm --filter @librestock/web test:e2e\n</code></pre></p> </li> <li> <p>Le linting passe <pre><code>pnpm --filter @librestock/api lint\npnpm --filter @librestock/web lint\n</code></pre></p> </li> <li> <p>Le build r\u00e9ussit <pre><code>pnpm --filter @librestock/api build\npnpm --filter @librestock/web build\n</code></pre></p> </li> <li> <p>La branche est \u00e0 jour <pre><code>git fetch origin\ngit rebase origin/main\n</code></pre></p> </li> </ol>"},{"location":"fr/contributing/pull-requests/#template-de-pr","title":"Template de PR","text":"<p>Lors de la cr\u00e9ation d'une PR, incluez :</p> <pre><code>## R\u00e9sum\u00e9\n\nBr\u00e8ve description des changements.\n\n## Changements\n\n- Ajout de la fonctionnalit\u00e9 X\n- Correction du bug Y\n- Mise \u00e0 jour de la documentation Z\n\n## Plan de test\n\n- [ ] Tests unitaires ajout\u00e9s/mis \u00e0 jour\n- [ ] Tests manuels effectu\u00e9s\n- [ ] Documentation mise \u00e0 jour\n\n## Captures d'\u00e9cran (si applicable)\n\n[Ajouter des captures pour les changements UI]\n</code></pre>"},{"location":"fr/contributing/pull-requests/#processus-de-review","title":"Processus de review","text":""},{"location":"fr/contributing/pull-requests/#1-verifications-automatiques","title":"1. V\u00e9rifications automatiques","text":"<p>Quand vous ouvrez une PR, les v\u00e9rifications suivantes s'ex\u00e9cutent automatiquement :</p> <ul> <li>Linting - Validation du style de code</li> <li>V\u00e9rification des types - Compilation TypeScript</li> <li>Tests - Tests unitaires et d'int\u00e9gration</li> <li>Build - V\u00e9rifier que tous les packages buildent</li> </ul> <p>Toutes les v\u00e9rifications doivent passer avant le merge.</p>"},{"location":"fr/contributing/pull-requests/#2-code-review","title":"2. Code Review","text":"<ul> <li>Au moins une approbation est requise</li> <li>Les reviewers v\u00e9rifieront :<ul> <li>Qualit\u00e9 et style du code</li> <li>Couverture de tests</li> <li>Mises \u00e0 jour de documentation</li> <li>Consid\u00e9rations de s\u00e9curit\u00e9</li> </ul> </li> </ul>"},{"location":"fr/contributing/pull-requests/#3-repondre-aux-retours","title":"3. R\u00e9pondre aux retours","text":"<ul> <li>R\u00e9pondez \u00e0 tous les commentaires</li> <li>Poussez des commits suppl\u00e9mentaires pour adresser les retours</li> <li>Demandez une nouvelle review apr\u00e8s les changements</li> </ul>"},{"location":"fr/contributing/pull-requests/#merge","title":"Merge","text":"<p>Une fois approuv\u00e9 :</p> <ol> <li>Squash and merge - Strat\u00e9gie de merge par d\u00e9faut</li> <li>Supprimer la branche - Nettoyer apr\u00e8s le merge</li> <li>CI sur main - V\u00e9rifier le merge</li> </ol>"},{"location":"fr/contributing/pull-requests/#bonnes-pratiques","title":"Bonnes pratiques","text":""},{"location":"fr/contributing/pull-requests/#garder-les-prs-petites","title":"Garder les PRs petites","text":"<ul> <li>Plus faciles \u00e0 review</li> <li>Plus rapides \u00e0 merger</li> <li>Moins de risque de conflits</li> </ul>"},{"location":"fr/contributing/pull-requests/#ecrire-des-descriptions-claires","title":"\u00c9crire des descriptions claires","text":"<ul> <li>Expliquer le \"pourquoi\", pas seulement le \"quoi\"</li> <li>Lier aux issues concern\u00e9es</li> <li>Inclure du contexte pour les reviewers</li> </ul>"},{"location":"fr/contributing/pull-requests/#repondre-rapidement","title":"R\u00e9pondre rapidement","text":"<ul> <li>Adresser les retours rapidement</li> <li>Maintenir la conversation en mouvement</li> <li>Poser des questions si quelque chose n'est pas clair</li> </ul>"},{"location":"fr/contributing/pull-requests/#mettre-a-jour-la-documentation","title":"Mettre \u00e0 jour la documentation","text":"<ul> <li>Changements README si n\u00e9cessaire</li> <li>Documentation API pour les nouveaux endpoints</li> <li>Guide utilisateur pour les nouvelles fonctionnalit\u00e9s</li> </ul>"},{"location":"fr/contributing/pull-requests/#gerer-les-conflits-de-merge","title":"G\u00e9rer les conflits de merge","text":"<p>Si des conflits surviennent :</p> <pre><code># Mettre \u00e0 jour votre branche\ngit fetch origin\ngit rebase origin/main\n\n# R\u00e9soudre les conflits\n# \u00c9diter les fichiers en conflit\ngit add &lt;fichiers-resolus&gt;\ngit rebase --continue\n\n# Force push (uniquement pour les branches de PR)\ngit push --force-with-lease\n</code></pre>"},{"location":"fr/contributing/pull-requests/#apres-le-merge","title":"Apr\u00e8s le merge","text":"<ul> <li>Supprimer votre branche de fonctionnalit\u00e9</li> <li>V\u00e9rifier que la CI passe sur main</li> <li>V\u00e9rifier le d\u00e9ploiement (si applicable)</li> </ul>"},{"location":"fr/development/","title":"D\u00e9veloppement","text":"<p>Cette section couvre tout ce dont vous avez besoin pour contribuer \u00e0 la base de code LibreStock Inventory.</p>"},{"location":"fr/development/#apercu","title":"Aper\u00e7u","text":"<p>LibreStock Inventory est un workspace multi-repo contenant :</p> <ul> <li>backend/ - Backend NestJS</li> <li>frontend/ - Frontend TanStack Start</li> <li>packages/ - Types partag\u00e9s, configs</li> <li>meta/ - Scripts d'orchestration, Docker Compose</li> </ul>"},{"location":"fr/development/#liens-rapides","title":"Liens Rapides","text":"<ul> <li>Architecture - Conception du syst\u00e8me et stack technique</li> <li>Configuration - Configuration de l'environnement de d\u00e9veloppement</li> <li>Style de Code - ESLint, Prettier et conventions</li> <li>Tests - Patterns de tests Jest</li> <li>D\u00e9veloppement API - Patterns NestJS</li> <li>D\u00e9veloppement Frontend - Patterns TanStack Start</li> <li>CI/CD - Workflows GitHub Actions</li> </ul>"},{"location":"fr/development/#flux-de-travail-de-developpement","title":"Flux de Travail de D\u00e9veloppement","text":"<ol> <li> <p>D\u00e9marrer l'environnement</p> <pre><code># D\u00e9marrer les services (PostgreSQL, etc.)\ncd meta &amp;&amp; docker compose up -d\n\n# Entrer dans le shell de d\u00e9veloppement (Nix flakes par repo)\ncd backend &amp;&amp; nix develop\ncd frontend &amp;&amp; nix develop\n</code></pre> </li> <li> <p>Effectuer les modifications dans la base de code</p> </li> <li> <p>Mettre \u00e0 jour les types partag\u00e9s (si les DTO ont chang\u00e9)</p> <pre><code>pnpm --filter @librestock/types build\n</code></pre> </li> <li> <p>Ex\u00e9cuter les tests et le lint</p> <pre><code>pnpm test\npnpm lint\n</code></pre> </li> <li> <p>Soumettre une pull request</p> </li> </ol>"},{"location":"fr/development/api-development/","title":"D\u00e9veloppement API","text":"<p>Ce guide couvre les patterns de d\u00e9veloppement NestJS pour le backend LibreStock Inventory.</p>"},{"location":"fr/development/api-development/#structure-des-modules","title":"Structure des modules","text":"<p>Chaque fonctionnalit\u00e9 suit cette structure :</p> <pre><code>routes/&lt;feature&gt;/\n\u251c\u2500\u2500 &lt;feature&gt;.module.ts\n\u251c\u2500\u2500 &lt;feature&gt;.controller.ts\n\u251c\u2500\u2500 &lt;feature&gt;.service.ts\n\u251c\u2500\u2500 &lt;feature&gt;.repository.ts\n\u251c\u2500\u2500 &lt;feature&gt;.hateoas.ts\n\u251c\u2500\u2500 entities/\n\u2502   \u2514\u2500\u2500 &lt;feature&gt;.entity.ts\n\u2514\u2500\u2500 dto/\n    \u251c\u2500\u2500 create-&lt;feature&gt;.dto.ts\n    \u251c\u2500\u2500 update-&lt;feature&gt;.dto.ts\n    \u251c\u2500\u2500 &lt;feature&gt;-response.dto.ts\n    \u251c\u2500\u2500 &lt;feature&gt;-query.dto.ts\n    \u2514\u2500\u2500 index.ts\n</code></pre>"},{"location":"fr/development/api-development/#creer-une-nouvelle-entite","title":"Cr\u00e9er une nouvelle entit\u00e9","text":""},{"location":"fr/development/api-development/#1-definition-de-lentite","title":"1. D\u00e9finition de l'entit\u00e9","text":"<pre><code>// routes/products/entities/product.entity.ts\nimport { Entity, Column, ManyToOne, JoinColumn } from 'typeorm';\nimport { BaseAuditEntity } from 'src/common/entities/base-audit.entity';\nimport { Category } from '../../categories/entities/category.entity';\n\n@Entity('products')\nexport class Product extends BaseAuditEntity {\n  @Column({ length: 50, unique: true })\n  sku: string;\n\n  @Column({ length: 200 })\n  name: string;\n\n  @Column({ type: 'uuid', nullable: true })\n  category_id: string | null;\n\n  @ManyToOne(() =&gt; Category, { onDelete: 'RESTRICT' })\n  @JoinColumn({ name: 'category_id' })\n  category: Category | null;\n}\n</code></pre>"},{"location":"fr/development/api-development/#entites-de-base","title":"Entit\u00e9s de base","text":"<ul> <li><code>BaseEntity</code> : <code>created_at</code>, <code>updated_at</code></li> <li><code>BaseAuditEntity</code> : Ajoute <code>deleted_at</code>, <code>created_by</code>, <code>updated_by</code>, <code>deleted_by</code></li> </ul>"},{"location":"fr/development/api-development/#2-dtos","title":"2. DTOs","text":"<pre><code>// dto/create-product.dto.ts\nimport { ApiProperty } from '@nestjs/swagger';\nimport { IsString, IsUUID, IsOptional, MaxLength } from 'class-validator';\n\nexport class CreateProductDto {\n  @ApiProperty({ example: 'PROD-001' })\n  @IsString()\n  @MaxLength(50)\n  sku: string;\n\n  @ApiProperty({ example: 'Serviette de luxe' })\n  @IsString()\n  @MaxLength(200)\n  name: string;\n\n  @ApiProperty({ required: false })\n  @IsOptional()\n  @IsUUID()\n  category_id?: string;\n}\n</code></pre>"},{"location":"fr/development/api-development/#4-service","title":"4. Service","text":"<pre><code>// products.service.ts\n@Injectable()\nexport class ProductsService {\n  constructor(\n    private readonly productRepository: ProductRepository,\n    private readonly categoryRepository: CategoryRepository,\n  ) {}\n\n  async create(dto: CreateProductDto, userId: string): Promise&lt;Product&gt; {\n    // Valider que la cat\u00e9gorie existe\n    if (dto.category_id) {\n      const exists = await this.categoryRepository.existsById(dto.category_id);\n      if (!exists) {\n        throw new NotFoundException('Cat\u00e9gorie non trouv\u00e9e');\n      }\n    }\n\n    // V\u00e9rifier l'unicit\u00e9 du SKU\n    const existing = await this.productRepository.findBySku(dto.sku);\n    if (existing) {\n      throw new BadRequestException('Le SKU existe d\u00e9j\u00e0');\n    }\n\n    return this.productRepository.create({\n      ...dto,\n      created_by: userId,\n      updated_by: userId,\n    });\n  }\n}\n</code></pre>"},{"location":"fr/development/api-development/#5-controleur","title":"5. Contr\u00f4leur","text":"<p>Les contr\u00f4leurs utilisent <code>@Controller()</code> avec une cha\u00eene vide. Le routage est fait via <code>RouterModule</code> dans <code>app.routes.ts</code>.</p> <pre><code>// products.controller.ts\n@Controller()\n@ApiTags('Products')\nexport class ProductsController {\n  constructor(private readonly productsService: ProductsService) {}\n\n  @Post()\n  @Auditable()\n  @RequirePermission('products', 'create')\n  @StandardThrottle()\n  @UseInterceptors(HateoasInterceptor)\n  @ProductHateoas()\n  @ApiOperation({ summary: 'Cr\u00e9er un produit' })\n  @ApiResponse({ status: 201, type: ProductResponseDto })\n  async create(\n    @Body() dto: CreateProductDto,\n    @CurrentUser('userId') userId: string,\n  ): Promise&lt;Product&gt; {\n    return this.productsService.create(dto, userId);\n  }\n}\n</code></pre> <p>Routage des contr\u00f4leurs</p> <p>Les contr\u00f4leurs utilisent <code>@Controller()</code> avec une cha\u00eene vide. Les chemins de routes r\u00e9els (ex: <code>/products</code>) sont configur\u00e9s via <code>RouterModule</code> dans <code>app.routes.ts</code>. Le pr\u00e9fixe global <code>/api/v1</code> est appliqu\u00e9 automatiquement.</p>"},{"location":"fr/development/api-development/#decorateurs-cles","title":"D\u00e9corateurs cl\u00e9s","text":"D\u00e9corateur Objectif Exemple <code>@Auditable()</code> Enregistre l'action dans le journal d'audit <code>@Auditable()</code> <code>@RequirePermission(resource, permission)</code> Applique la v\u00e9rification de permission <code>@RequirePermission('products', 'create')</code> <code>@StandardThrottle()</code> Limitation de d\u00e9bit (100 req/min) <code>@StandardThrottle()</code> <code>@Transactional()</code> Encapsule la m\u00e9thode dans une transaction DB <code>@Transactional()</code>"},{"location":"fr/development/api-development/#6-liens-hateoas","title":"6. Liens HATEOAS","text":"<p>Les liens HATEOAS utilisent des chemins relatifs. Le <code>HateoasInterceptor</code> pr\u00e9fixe automatiquement le pr\u00e9fixe global (<code>/api/v1</code>).</p> <pre><code>// products.hateoas.ts\nexport const PRODUCT_HATEOAS_LINKS: LinkDefinition[] = [\n  { rel: 'self', href: (data) =&gt; `/products/${data.id}`, method: 'GET' },\n  { rel: 'update', href: (data) =&gt; `/products/${data.id}`, method: 'PUT' },\n  { rel: 'delete', href: (data) =&gt; `/products/${data.id}`, method: 'DELETE' },\n];\n\nexport const ProductHateoas = () =&gt; HateoasLinks(...PRODUCT_HATEOAS_LINKS);\n</code></pre>"},{"location":"fr/development/api-development/#7-enregistrement-du-module","title":"7. Enregistrement du module","text":"<pre><code>// products.module.ts\n@Module({\n  imports: [TypeOrmModule.forFeature([Product])],\n  controllers: [ProductsController],\n  providers: [ProductsService, ProductRepository],\n  exports: [ProductsService],\n})\nexport class ProductsModule {}\n</code></pre> <p>N'exporter que le Service</p> <p>Les modules n'exportent que leur Service, jamais le Repository. L'acc\u00e8s inter-modules passe par la couche Service.</p>"},{"location":"fr/development/api-development/#8-mise-a-jour-des-types-partages","title":"8. Mise \u00e0 jour des types partag\u00e9s","text":"<pre><code>pnpm --filter @librestock/types barrels\npnpm --filter @librestock/types build\n</code></pre>"},{"location":"fr/development/api-development/#authentification","title":"Authentification","text":""},{"location":"fr/development/api-development/#utilisation-des-guards","title":"Utilisation des guards","text":"<p>L'authentification est g\u00e9r\u00e9e par Better Auth via <code>AuthGuard</code> :</p> <pre><code>// AuthGuard est appliqu\u00e9 globalement -- pas besoin de l'ajouter par contr\u00f4leur\n// Utiliser @RequirePermission pour l'autorisation\n@Controller()\nexport class ProductsController {\n  @RequirePermission('products', 'read')\n  @Get()\n  async findAll() { ... }\n}\n</code></pre>"},{"location":"fr/development/api-development/#acces-a-lutilisateur","title":"Acc\u00e8s \u00e0 l'utilisateur","text":"<pre><code>// Obtenir l'ID utilisateur\n@CurrentUser('userId') userId: string\n\n// Obtenir l'objet auth complet\n@CurrentUser() auth: { userId: string; sessionId: string }\n</code></pre>"},{"location":"fr/development/api-development/#autorisation","title":"Autorisation","text":"<p>Utiliser <code>@RequirePermission</code> pour appliquer le contr\u00f4le d'acc\u00e8s bas\u00e9 sur les permissions :</p> <pre><code>@Controller()\nexport class ProductsController {\n  @RequirePermission('products', 'read')\n  @Get()\n  async findAll() { ... }\n\n  @RequirePermission('products', 'create')\n  @Post()\n  async create() { ... }\n\n  @RequirePermission('products', 'update')\n  @Put(':id')\n  async update() { ... }\n\n  @RequirePermission('products', 'delete')\n  @Delete(':id')\n  async remove() { ... }\n}\n</code></pre> <p>Le <code>PermissionGuard</code> v\u00e9rifie les permissions du r\u00f4le de l'utilisateur par rapport \u00e0 la permission requise d\u00e9clar\u00e9e par <code>@RequirePermission</code>.</p>"},{"location":"fr/development/api-development/#gestion-des-erreurs","title":"Gestion des erreurs","text":"<p>Utiliser les exceptions int\u00e9gr\u00e9es de NestJS :</p> <pre><code>throw new NotFoundException('Produit non trouv\u00e9');\nthrow new BadRequestException('Format SKU invalide');\nthrow new UnauthorizedException('Token expir\u00e9');\nthrow new ForbiddenException('Permissions insuffisantes');\n</code></pre>"},{"location":"fr/development/api-development/#soft-delete","title":"Soft Delete","text":"<p>Les produits utilisent la suppression logique :</p> <pre><code>// Repository - exclure les supprim\u00e9s par d\u00e9faut\nasync findAll(): Promise&lt;Product[]&gt; {\n  return this.repository.find({\n    where: { deleted_at: IsNull() },\n  });\n}\n\n// Suppression logique\nasync softDelete(id: string, userId: string): Promise&lt;void&gt; {\n  await this.repository.update(id, {\n    deleted_at: new Date(),\n    deleted_by: userId,\n  });\n}\n</code></pre>"},{"location":"fr/development/api-development/#formats-de-reponse","title":"Formats de r\u00e9ponse","text":""},{"location":"fr/development/api-development/#entite-unique","title":"Entit\u00e9 unique","text":"<pre><code>{\n  \"id\": \"uuid\",\n  \"name\": \"Nom du produit\",\n  \"_links\": {\n    \"self\": { \"href\": \"/api/v1/products/uuid\", \"method\": \"GET\" }\n  }\n}\n</code></pre>"},{"location":"fr/development/api-development/#liste-paginee","title":"Liste pagin\u00e9e","text":"<pre><code>{\n  \"data\": [...],\n  \"meta\": {\n    \"page\": 1,\n    \"limit\": 20,\n    \"total\": 100,\n    \"total_pages\": 5,\n    \"has_next\": true,\n    \"has_previous\": false\n  }\n}\n</code></pre>"},{"location":"fr/development/api-development/#limitation-de-debit","title":"Limitation de d\u00e9bit","text":"<p>L'API utilise <code>@nestjs/throttler</code> pour la limitation de d\u00e9bit par IP.</p>"},{"location":"fr/development/api-development/#decorateurs-de-throttle","title":"D\u00e9corateurs de throttle","text":"<p>Appliquer aux contr\u00f4leurs ou aux endpoints individuels :</p> <pre><code>import { StandardThrottle, BulkThrottle, AuthThrottle } from 'src/common/decorators/throttle.decorator';\n\n@StandardThrottle() // 100 req/min\n@Controller()\nexport class ProductsController {\n\n  @BulkThrottle() // Remplace avec 20 req/min\n  @Post('bulk')\n  async bulkCreate() { ... }\n}\n\n@AuthThrottle() // 10 req/min pour les endpoints d'authentification\n@Controller()\nexport class AuthController { ... }\n</code></pre>"},{"location":"fr/development/api-development/#niveaux-de-throttle-disponibles","title":"Niveaux de throttle disponibles","text":"<ul> <li><code>@StandardThrottle()</code> - 100 requ\u00eates/minute (d\u00e9faut pour la plupart des endpoints)</li> <li><code>@BulkThrottle()</code> - 20 requ\u00eates/minute (op\u00e9rations en masse)</li> <li><code>@AuthThrottle()</code> - 10 requ\u00eates/minute (pr\u00e9vient le brute force)</li> <li><code>@SkipThrottle()</code> - Pas de limitation (health checks)</li> </ul>"},{"location":"fr/development/api-development/#gestion-des-transactions","title":"Gestion des transactions","text":"<p>Utiliser le d\u00e9corateur <code>@Transactional()</code> pour les op\u00e9rations atomiques.</p>"},{"location":"fr/development/api-development/#utilisation-basique","title":"Utilisation basique","text":"<pre><code>import { Transactional } from 'src/common/decorators/transactional.decorator';\n\n@Injectable()\nexport class ProductsService {\n  @Transactional()\n  async bulkCreate(dto: BulkCreateProductsDto) {\n    // Toutes les op\u00e9rations DB ici s'ex\u00e9cutent dans une transaction\n    // Si une op\u00e9ration \u00e9choue, tous les changements sont annul\u00e9s automatiquement\n\n    for (const product of dto.products) {\n      await this.productRepository.create(product);\n    }\n\n    return result;\n  }\n}\n</code></pre>"},{"location":"fr/development/api-development/#quand-utiliser-les-transactions","title":"Quand utiliser les transactions","text":"<p>Utiliser <code>@Transactional()</code> pour les op\u00e9rations qui :</p> <ol> <li>Modifient plusieurs enregistrements - Assurer la s\u00e9mantique tout-ou-rien</li> <li>Ont des d\u00e9pendances - Emp\u00eacher l'ach\u00e8vement partiel (ex: cr\u00e9ation d'inventaire)</li> <li>Mettent \u00e0 jour des hi\u00e9rarchies - Prot\u00e9ger les relations parent-enfant</li> <li>Ajustent des quantit\u00e9s - Emp\u00eacher les conditions de course</li> <li>Op\u00e9rations en masse - Emp\u00eacher les insertions partielles</li> </ol>"},{"location":"fr/development/api-development/#comportement-des-transactions","title":"Comportement des transactions","text":"<ul> <li>Succ\u00e8s : Tous les changements valid\u00e9s en base de donn\u00e9es</li> <li>Erreur : Tous les changements annul\u00e9s automatiquement</li> <li>Journalisation : D\u00e9but et fin/annulation journalis\u00e9s automatiquement</li> <li>Imbrication : Les transactions peuvent \u00eatre imbriqu\u00e9es (utilise des savepoints)</li> <li>Performance : ~5-10ms de surcharge par transaction</li> </ul>"},{"location":"fr/development/api-development/#journalisation-daudit","title":"Journalisation d'audit","text":"<p>Utiliser le d\u00e9corateur <code>@Auditable()</code> pour enregistrer automatiquement les modifications d'entit\u00e9s :</p> <pre><code>@Post()\n@Auditable()\n@RequirePermission('products', 'create')\nasync create(@Body() dto: CreateProductDto) {\n  return this.productsService.create(dto);\n}\n</code></pre> <p>Le journal d'audit capture l'action, l'utilisateur, l'entit\u00e9 et l'horodatage.</p>"},{"location":"fr/development/api-development/#health-checks","title":"Health Checks","text":"<p>L'API fournit trois endpoints de v\u00e9rification de sant\u00e9 via <code>@nestjs/terminus</code>.</p>"},{"location":"fr/development/api-development/#verification-complete","title":"V\u00e9rification compl\u00e8te","text":"<p><code>GET /health-check</code></p> <p>V\u00e9rifie la connectivit\u00e9 \u00e0 la base de donn\u00e9es et la configuration de l'authentification :</p> <pre><code>{\n  \"status\": \"ok\",\n  \"info\": {\n    \"database\": { \"status\": \"up\" },\n    \"auth\": {\n      \"status\": \"up\",\n      \"message\": \"Better Auth is properly configured\"\n    }\n  }\n}\n</code></pre> <p>Retourne <code>503</code> si une v\u00e9rification \u00e9choue.</p>"},{"location":"fr/development/api-development/#sonde-de-vivacite","title":"Sonde de vivacit\u00e9","text":"<p><code>GET /health-check/live</code></p> <p>Sonde de vivacit\u00e9 Kubernetes - retourne toujours <code>200</code> si l'application tourne :</p> <pre><code>{\n  \"status\": \"ok\"\n}\n</code></pre>"},{"location":"fr/development/api-development/#sonde-de-disponibilite","title":"Sonde de disponibilit\u00e9","text":"<p><code>GET /health-check/ready</code></p> <p>Sonde de disponibilit\u00e9 Kubernetes - v\u00e9rifie uniquement la base de donn\u00e9es :</p> <pre><code>{\n  \"status\": \"ok\",\n  \"info\": {\n    \"database\": { \"status\": \"up\" }\n  }\n}\n</code></pre> <p>Retourne <code>503</code> si la base de donn\u00e9es est inaccessible.</p>"},{"location":"fr/development/api-development/#configuration-kubernetes","title":"Configuration Kubernetes","text":"<pre><code>livenessProbe:\n  httpGet:\n    path: /health-check/live\n    port: 8080\n  initialDelaySeconds: 30\n  periodSeconds: 10\n\nreadinessProbe:\n  httpGet:\n    path: /health-check/ready\n    port: 8080\n  initialDelaySeconds: 5\n  periodSeconds: 5\n</code></pre>"},{"location":"fr/development/architecture/#vue-densemble-du-systeme","title":"Vue d'Ensemble du Systeme","text":"<pre><code>graph TB\n    subgraph \"Frontend\"\n        A[TanStack Start] --&gt; B[React 19]\n        A --&gt; E[TanStack Router]\n        B --&gt; C[TanStack Query]\n        B --&gt; D[TanStack Form]\n    end\n\n    subgraph \"Backend\"\n        F[NestJS 11] --&gt; G[TypeORM]\n        G --&gt; H[(PostgreSQL 16)]\n    end\n\n    subgraph \"Auth\"\n        I[Better Auth]\n    end\n\n    A --&gt;|REST API| F\n    A --&gt; I\n    F --&gt; I</code></pre>"},{"location":"fr/development/architecture/#stack-technique","title":"Stack Technique","text":"Couche Technologie Frontend TanStack Start, React 19, TanStack Router, TanStack Query/Form, Tailwind CSS 4, Radix UI Backend NestJS 11, TypeORM, PostgreSQL 16 Auth Better Auth Docs API Swagger UI Outillage pnpm workspaces, Nix flakes, TypeScript, Docker Compose i18n i18next (en, de, fr)"},{"location":"fr/development/architecture/#structure-des-repos","title":"Structure des Repos","text":"<pre><code>librestock/\n\u251c\u2500\u2500 backend/                # Backend NestJS\n\u2502   \u251c\u2500\u2500 src/\n\u2502   \u2502   \u251c\u2500\u2500 routes/         # Modules fonctionnels\n\u2502   \u2502   \u2514\u2500\u2500 common/         # Utilitaires partag\u00e9s\n\u2502   \u2514\u2500\u2500 flake.nix           # Environnement dev Nix\n\u251c\u2500\u2500 frontend/               # Frontend TanStack Start\n\u2502   \u251c\u2500\u2500 src/\n\u2502   \u2502   \u251c\u2500\u2500 routes/         # Routes bas\u00e9es sur les fichiers\n\u2502   \u2502   \u251c\u2500\u2500 components/     # Composants React\n\u2502   \u2502   \u2514\u2500\u2500 lib/            # Utilitaires et hooks de donn\u00e9es\n\u2502   \u2514\u2500\u2500 flake.nix           # Environnement dev Nix\n\u251c\u2500\u2500 packages/\n\u2502   \u251c\u2500\u2500 tsconfig/           # Configs TS partag\u00e9es\n\u2502   \u251c\u2500\u2500 eslint-config/      # Config ESLint partag\u00e9e\n\u2502   \u2514\u2500\u2500 types/              # Interfaces/enums DTO partag\u00e9s\n\u251c\u2500\u2500 documentation/          # Documentation MkDocs\n\u2514\u2500\u2500 meta/                   # Scripts d'orchestration, Docker Compose\n</code></pre>"},{"location":"fr/development/architecture/#flux-de-donnees","title":"Flux de Donnees","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           Frontend TanStack Start       \u2502\n\u2502  React Query + clients \u00e9crits \u00e0 la main \u2502\n\u2502  DTO partag\u00e9s via @librestock/types     \u2502\n\u2502  Better Auth                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u25bc HTTP/REST\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            Backend NestJS               \u2502\n\u2502  Controller \u2192 Service \u2192 Repository      \u2502\n\u2502  AuthGuard \u00b7 PermissionGuard \u00b7 TypeORM  \u2502\n\u2502  HateoasInterceptor \u00b7 Swagger UI        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                    \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502             PostgreSQL                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"fr/development/architecture/#flux-dauthentification","title":"Flux d'Authentification","text":"<pre><code>Utilisateur \u2192 Better Auth \u2192 Token JWT\n                              \u2193\nFrontend: Authorization: Bearer {token}\n                              \u2193\nBackend: AuthGuard \u2192 v\u00e9rifier \u2192 req.auth.userId\n</code></pre>"},{"location":"fr/development/architecture/#modules-de-routes-backend","title":"Modules de Routes Backend","text":"<p>Le backend poss\u00e8de les modules de routes suivants dans <code>backend/src/routes/</code> :</p> Module Objectif areas Zones au sein des emplacements (\u00e9tag\u00e8res, bacs, etc.) audit-logs Piste d'audit pour toutes les modifications d'entit\u00e9s auth Endpoints d'authentification (Better Auth) branding Param\u00e8tres de personnalisation/marque categories Cat\u00e9gorisation hi\u00e9rarchique des produits clients Gestion des clients health Endpoints de v\u00e9rification de sant\u00e9 (liveness, readiness) inventory Quantit\u00e9s de stock par emplacement/zone locations Emplacements physiques (entrep\u00f4ts, etc.) orders Gestion des commandes photos Gestion des photos/images pour les produits products Catalogue de produits (SKU, nom, cat\u00e9gorie) roles Gestion des r\u00f4les et permissions stock-movements Suivi des mouvements de stock (transferts, ajustements) suppliers Gestion des fournisseurs users Gestion des utilisateurs"},{"location":"fr/development/architecture/#repertoires-common-du-backend","title":"R\u00e9pertoires Common du Backend","text":"<p>Utilitaires partag\u00e9s dans <code>backend/src/common/</code> :</p> R\u00e9pertoire Objectif auth Utilitaires d'authentification decorators <code>@Auditable</code>, <code>@RequirePermission</code>, <code>@StandardThrottle</code>, <code>@Transactional</code> dto DTOs de base/partag\u00e9s entities <code>BaseEntity</code>, <code>BaseAuditEntity</code> enums \u00c9num\u00e9rations partag\u00e9es filters Filtres d'exception guards <code>PermissionGuard</code> hateoas Syst\u00e8me de liens HATEOAS, <code>HateoasInterceptor</code> interceptors Intercepteurs de r\u00e9ponse middleware Middleware HTTP utils Utilitaires g\u00e9n\u00e9raux"},{"location":"fr/development/architecture/#workflow-des-types-partages","title":"Workflow des Types Partag\u00e9s","text":"<p>Les interfaces/enums DTO partag\u00e9s sont le contrat entre frontend et backend :</p> <pre><code># 1. G\u00e9n\u00e9rer les exports barrel\npnpm --filter @librestock/types barrels\n\n# 2. Build des types partag\u00e9s\npnpm --filter @librestock/types build\n</code></pre> <p>Garder les types align\u00e9s</p> <p>Assurez-vous que les DTO backend et les hooks frontend correspondent \u00e0 <code>packages/types</code>.</p>"},{"location":"fr/development/architecture/#modele-de-domaine","title":"Mod\u00e8le de Domaine","text":"<pre><code>classDiagram\n    class Product {\n        +uuid id\n        +string sku\n        +string name\n        +uuid category_id\n        +int reorder_point\n    }\n\n    class Location {\n        +uuid id\n        +string name\n        +LocationType type\n    }\n\n    class Area {\n        +uuid id\n        +uuid location_id\n        +uuid parent_id\n        +string name\n        +string code\n    }\n\n    class Inventory {\n        +uuid id\n        +uuid product_id\n        +uuid location_id\n        +uuid area_id\n        +int quantity\n    }\n\n    class Category {\n        +uuid id\n        +string name\n        +uuid parent_id\n    }\n\n    class Client {\n        +uuid id\n        +string name\n    }\n\n    class Supplier {\n        +uuid id\n        +string name\n    }\n\n    class Order {\n        +uuid id\n        +uuid client_id\n        +OrderStatus status\n    }\n\n    class StockMovement {\n        +uuid id\n        +uuid product_id\n        +uuid from_location_id\n        +uuid to_location_id\n        +int quantity\n    }\n\n    class Role {\n        +uuid id\n        +string name\n        +Permission[] permissions\n    }\n\n    class User {\n        +uuid id\n        +string email\n        +uuid role_id\n    }\n\n    Product --&gt; Category : appartient \u00e0\n    Product --&gt; Inventory : suivi dans\n    Location --&gt; Inventory : stocke\n    Location --&gt; Area : contient\n    Area --&gt; Area : parent/enfants\n    Area --&gt; Inventory : pr\u00e9cise l'emplacement\n    Order --&gt; Client : pass\u00e9e par\n    Supplier --&gt; Product : fournit\n    StockMovement --&gt; Product : d\u00e9place\n    StockMovement --&gt; Location : de/vers\n    User --&gt; Role : poss\u00e8de</code></pre>"},{"location":"fr/development/architecture/#entites-principales","title":"Entit\u00e9s Principales","text":"Entit\u00e9 Objectif Product Article du catalogue (quoi) - SKU, nom, cat\u00e9gorie, seuil de r\u00e9approvisionnement Category Organisation hi\u00e9rarchique des produits Location Lieu physique (o\u00f9) - entrep\u00f4t, fournisseur, client, en transit Area Zone au sein d'un emplacement (o\u00f9 exactement) - \u00e9tag\u00e8re, bac, chambre froide Inventory Quantit\u00e9 de stock (combien) d'un produit \u00e0 un emplacement/zone Client Client qui passe des commandes Supplier Fournisseur externe approvisionnant en produits Order Commande client pour des produits StockMovement Enregistrement des transferts, ajustements et mouvements de stock Role Ensemble nomm\u00e9 de permissions pour l'autorisation User Utilisateur du syst\u00e8me avec un r\u00f4le assign\u00e9 Photo Image associ\u00e9e \u00e0 un produit AuditLog Enregistrement des modifications d'entit\u00e9s pour la piste d'audit"},{"location":"fr/development/architecture/#decisions-de-conception","title":"D\u00e9cisions de Conception","text":"<ol> <li>S\u00e9paration Product vs Inventory - Les produits d\u00e9finissent ce qu'est un article. L'inventaire suit les quantit\u00e9s par emplacement.</li> <li>Types d'emplacement - <code>WAREHOUSE</code>, <code>SUPPLIER</code>, <code>IN_TRANSIT</code>, <code>CLIENT</code> d\u00e9crivent la cat\u00e9gorie de lieu.</li> <li>Les zones sont optionnelles - L'inventaire peut r\u00e9f\u00e9rencer uniquement un emplacement, ou optionnellement une zone pour un suivi pr\u00e9cis.</li> <li>Hi\u00e9rarchie des zones - Les zones supportent les relations parent-enfant (Zone A -&gt; \u00c9tag\u00e8re A1 -&gt; Bac A1-1).</li> <li>Contrainte d'unicit\u00e9 - Un seul enregistrement d'inventaire par combinaison (produit, emplacement, zone).</li> <li>Auth bas\u00e9e sur les permissions - Les r\u00f4les contiennent des permissions granulaires ; <code>@RequirePermission</code> applique le contr\u00f4le d'acc\u00e8s par endpoint.</li> </ol>"},{"location":"fr/development/architecture/#patterns-cles","title":"Patterns Cl\u00e9s","text":"Pattern Emplacement Objectif Repository <code>backend/src/routes/*/</code> Couche d'acc\u00e8s aux donn\u00e9es Service <code>backend/src/routes/*/</code> Logique m\u00e9tier BaseAuditEntity <code>backend/src/common/entities/</code> Suppression douce + champs d'audit AuthGuard <code>backend/src/common/auth/</code> V\u00e9rification JWT (Better Auth) PermissionGuard <code>backend/src/common/guards/</code> Autorisation bas\u00e9e sur les permissions @RequirePermission <code>backend/src/common/decorators/</code> D\u00e9clarer la permission requise sur un endpoint @Auditable <code>backend/src/common/decorators/</code> D\u00e9corateur de journalisation d'audit @Transactional <code>backend/src/common/decorators/</code> Wrapper de transaction de base de donn\u00e9es HATEOAS <code>backend/src/common/hateoas/</code> Liens hyperm\u00e9dia REST DTO partag\u00e9s <code>packages/types/src/</code> Contrats backend/frontend"},{"location":"fr/development/ci-cd/","title":"CI/CD","text":"<p>Ce guide couvre les workflows GitHub Actions et les processus de d\u00e9ploiement pour LibreStock Inventory.</p>"},{"location":"fr/development/ci-cd/#workflows","title":"Workflows","text":"<p>Les workflows CI sont par repo, pas au niveau racine du workspace.</p>"},{"location":"fr/development/ci-cd/#pipeline-ci-backend","title":"Pipeline CI Backend","text":"<p>Fichier : <code>backend/.github/workflows/ci.yml</code></p> <p>S'ex\u00e9cute \u00e0 chaque pull request et push sur main :</p> <ul> <li>Lint</li> <li>V\u00e9rification des types</li> <li>Ex\u00e9cution des tests unitaires</li> <li>Ex\u00e9cution des tests E2E</li> <li>Build</li> </ul>"},{"location":"fr/development/ci-cd/#pipeline-ci-frontend","title":"Pipeline CI Frontend","text":"<p>Fichier : <code>frontend/.github/workflows/ci.yml</code></p> <p>S'ex\u00e9cute \u00e0 chaque pull request et push sur main :</p> <ul> <li>Lint</li> <li>V\u00e9rification des types</li> <li>Build</li> </ul>"},{"location":"fr/development/ci-cd/#publication-docker","title":"Publication Docker","text":"<p>Chaque repo poss\u00e8de son propre workflow de publication Docker :</p> <ul> <li>Backend : <code>backend/.github/workflows/docker-publish.yml</code></li> <li>Frontend : <code>frontend/.github/workflows/docker-publish.yml</code></li> </ul>"},{"location":"fr/development/ci-cd/#deploiement-de-la-documentation","title":"D\u00e9ploiement de la documentation","text":"<p>Fichier : <code>documentation/.github/workflows/deploy-docs.yml</code></p> <p>D\u00e9ploie la documentation via GitHub Pages lors d'un push sur main.</p>"},{"location":"fr/development/ci-cd/#secrets-github-actions","title":"Secrets GitHub Actions","text":""},{"location":"fr/development/ci-cd/#secrets-requis","title":"Secrets requis","text":"Secret Description <code>BETTER_AUTH_SECRET</code> Secret Better Auth (CI backend uniquement) <p>Secrets d'authentification</p> <p><code>BETTER_AUTH_SECRET</code> n'est n\u00e9cessaire que dans le CI du backend. Le frontend ne n\u00e9cessite aucun secret d'authentification.</p>"},{"location":"fr/development/ci-cd/#workflow-pull-request","title":"Workflow Pull Request","text":"<ol> <li>Cr\u00e9er une branche depuis <code>main</code></li> <li>Faire des modifications et committer</li> <li>Ouvrir une PR - CI s'ex\u00e9cute automatiquement (par repo)</li> <li>Review - Attendre l'approbation</li> <li>Merger - Squash and merge vers main</li> </ol>"},{"location":"fr/development/ci-cd/#template-de-pr","title":"Template de PR","text":"<p>Les PRs doivent inclure :</p> <ul> <li>R\u00e9sum\u00e9 des changements</li> <li>Plan de test</li> <li>\u00c9l\u00e9ments de checklist</li> </ul>"},{"location":"fr/development/ci-cd/#verifications-ci-locales","title":"V\u00e9rifications CI locales","text":"<p>Ex\u00e9cuter les m\u00eames v\u00e9rifications localement avant de pusher :</p> <pre><code># Backend\ncd backend\npnpm install\npnpm lint\npnpm build\npnpm test\n\n# Frontend\ncd frontend\npnpm install\npnpm lint\npnpm build\n</code></pre>"},{"location":"fr/development/ci-cd/#deploiement","title":"D\u00e9ploiement","text":""},{"location":"fr/development/ci-cd/#documentation","title":"Documentation","text":"<p>La documentation est automatiquement d\u00e9ploy\u00e9e via GitHub Pages quand des changements sont push\u00e9s sur main.</p> <p>Chemins d\u00e9clencheurs :</p> <ul> <li><code>docs/**</code></li> <li><code>mkdocs.yml</code></li> <li><code>.github/workflows/deploy-docs.yml</code></li> </ul>"},{"location":"fr/development/ci-cd/#application","title":"Application","text":"<p>Les images Docker sont publi\u00e9es via les workflows <code>docker-publish.yml</code> dans chaque repo.</p>"},{"location":"fr/development/ci-cd/#depannage","title":"D\u00e9pannage","text":""},{"location":"fr/development/ci-cd/#echecs-ci","title":"\u00c9checs CI","text":"<p>Erreurs de lint :</p> <pre><code>pnpm lint --fix\n</code></pre> <p>Erreurs de type :</p> <pre><code># Backend\ncd backend &amp;&amp; pnpm build\n\n# Frontend\ncd frontend &amp;&amp; pnpm build\n</code></pre> <p>\u00c9checs de tests :</p> <pre><code>cd backend &amp;&amp; pnpm test -- --verbose\n</code></pre>"},{"location":"fr/development/ci-cd/#problemes-de-cache","title":"Probl\u00e8mes de cache","text":"<p>Vider le cache GitHub Actions :</p> <ol> <li>Aller dans l'onglet Actions</li> <li>Cliquer sur \"Caches\" dans la barre lat\u00e9rale</li> <li>Supprimer les caches concern\u00e9s</li> </ol>"},{"location":"fr/development/ci-cd/#bonnes-pratiques","title":"Bonnes pratiques","text":"<ol> <li>Garder les PRs petites - Plus faciles \u00e0 review</li> <li>Ex\u00e9cuter les v\u00e9rifications localement - Avant de pusher</li> <li>Corriger la CI imm\u00e9diatement - Ne pas laisser les \u00e9checs s'accumuler</li> <li>Mettre \u00e0 jour les tests - Quand on modifie les fonctionnalit\u00e9s</li> </ol>"},{"location":"fr/development/code-style/","title":"Style de code","text":"<p>Ce guide couvre les standards et conventions de codage utilis\u00e9s dans LibreStock Inventory.</p>"},{"location":"fr/development/code-style/#outils","title":"Outils","text":"Outil Objectif ESLint Linting Prettier Formatage TypeScript V\u00e9rification des types"},{"location":"fr/development/code-style/#executer-les-verifications","title":"Ex\u00e9cuter les v\u00e9rifications","text":"<pre><code># Linter tous les packages\npnpm lint\n\n# Corriger les probl\u00e8mes auto-corrigeables\npnpm --filter @librestock/api lint --fix\npnpm --filter @librestock/web lint:fix\n\n# V\u00e9rification des types\npnpm --filter @librestock/api build  # Inclut la v\u00e9rification des types\n</code></pre>"},{"location":"fr/development/code-style/#configuration-eslint","title":"Configuration ESLint","text":"<p>Les deux repos utilisent ESLint. La configuration est partag\u00e9e via <code>packages/eslint-config/</code>.</p>"},{"location":"fr/development/code-style/#regles-cles","title":"R\u00e8gles cl\u00e9s","text":"<p>Ordre des imports (appliqu\u00e9) :</p> <pre><code>// 1. D\u00e9pendances externes\nimport { Injectable } from '@nestjs/common';\nimport { InjectRepository } from '@nestjs/typeorm';\n\n// 2. Modules internes\nimport { Product } from './entities/product.entity';\nimport { CreateProductDto } from './dto';\n</code></pre> <p>Imports de types :</p> <pre><code>// Utiliser les imports de type inline\nimport { type ProductResponseDto } from '~/lib/data/products';\n</code></pre> <p>Variables inutilis\u00e9es :</p> <pre><code>// Pr\u00e9fixer avec underscore pour ignorer\nconst { data, error: _error } = useQuery();\n</code></pre>"},{"location":"fr/development/code-style/#configuration-prettier","title":"Configuration Prettier","text":""},{"location":"fr/development/code-style/#backend","title":"Backend","text":"<p>Le backend utilise un <code>.prettierrc</code> avec les param\u00e8tres suivants :</p> <pre><code>{\n  \"singleQuote\": true,\n  \"trailingComma\": \"all\"\n}\n</code></pre> <p>Toutes les autres valeurs utilisent les d\u00e9fauts de Prettier (printWidth: 80, semi: true, tabWidth: 2).</p>"},{"location":"fr/development/code-style/#frontend","title":"Frontend","text":"<p>Le frontend utilise <code>prettier-plugin-tailwindcss</code> pour le tri automatique des classes Tailwind mais n'a pas de <code>.prettierrc</code> personnalis\u00e9 -- il utilise les d\u00e9fauts de Prettier (guillemets doubles, printWidth: 80, semi: true, trailingComma: \"all\").</p>"},{"location":"fr/development/code-style/#mode-strict","title":"Mode strict","text":"<p>Tous les modules utilisent TypeScript strict :</p> <pre><code>{\n  \"compilerOptions\": {\n    \"strict\": true,\n    \"noImplicitAny\": true,\n    \"strictNullChecks\": true\n  }\n}\n</code></pre>"},{"location":"fr/development/code-style/#alias-de-chemins","title":"Alias de chemins","text":"Module Alias Correspond \u00e0 Frontend <code>~/*</code> <code>./src/*</code> Backend <code>src/*</code> <code>./src/*</code>"},{"location":"fr/development/code-style/#conventions-de-nommage","title":"Conventions de nommage","text":""},{"location":"fr/development/code-style/#fichiers","title":"Fichiers","text":"Type Convention Exemple Module Backend kebab-case <code>products.module.ts</code> Entit\u00e9 Backend singulier <code>product.entity.ts</code> DTO Backend kebab-case <code>create-product.dto.ts</code> Composant Frontend PascalCase <code>ProductForm.tsx</code> UI Frontend kebab-case <code>button.tsx</code>"},{"location":"fr/development/code-style/#code","title":"Code","text":"Type Convention Exemple Classe PascalCase <code>ProductsService</code> Interface PascalCase (sans pr\u00e9fixe I) <code>ProductResponse</code> Fonction camelCase <code>findAllProducts</code> Constante UPPER_SNAKE <code>MAX_PAGE_SIZE</code> Membre Enum UPPER_SNAKE <code>AuditAction.CREATE</code>"},{"location":"fr/development/code-style/#structure-dun-module-backend","title":"Structure d'un module Backend","text":"<pre><code>routes/&lt;feature&gt;/\n\u251c\u2500\u2500 &lt;feature&gt;.module.ts      # ProductsModule\n\u251c\u2500\u2500 &lt;feature&gt;.controller.ts  # ProductsController\n\u251c\u2500\u2500 &lt;feature&gt;.service.ts     # ProductsService\n\u251c\u2500\u2500 &lt;entity&gt;.repository.ts   # ProductRepository (singulier)\n\u251c\u2500\u2500 entities/\n\u2502   \u2514\u2500\u2500 &lt;entity&gt;.entity.ts   # Product (singulier)\n\u2514\u2500\u2500 dto/\n    \u251c\u2500\u2500 create-&lt;entity&gt;.dto.ts\n    \u251c\u2500\u2500 update-&lt;entity&gt;.dto.ts\n    \u251c\u2500\u2500 &lt;entity&gt;-response.dto.ts\n    \u2514\u2500\u2500 index.ts             # Export barrel\n</code></pre>"},{"location":"fr/development/code-style/#structure-des-composants-frontend","title":"Structure des composants Frontend","text":"<pre><code>components/\n\u251c\u2500\u2500 ui/                     # Composants de base (kebab-case)\n\u2502   \u251c\u2500\u2500 button.tsx\n\u2502   \u2514\u2500\u2500 input.tsx\n\u251c\u2500\u2500 products/               # Composants par feature (PascalCase)\n\u2502   \u251c\u2500\u2500 ProductForm.tsx\n\u2502   \u2514\u2500\u2500 ProductList.tsx\n\u2514\u2500\u2500 common/                 # Composants partag\u00e9s\n    \u2514\u2500\u2500 Header.tsx\n</code></pre>"},{"location":"fr/development/code-style/#bonnes-pratiques","title":"Bonnes pratiques","text":""},{"location":"fr/development/code-style/#general","title":"G\u00e9n\u00e9ral","text":"<ul> <li>Utiliser <code>const</code> par d\u00e9faut, <code>let</code> uniquement si r\u00e9assignation n\u00e9cessaire</li> <li>Pr\u00e9f\u00e9rer les exports nomm\u00e9s aux exports par d\u00e9faut (utiliser les exports par d\u00e9faut uniquement quand un outil l'exige)</li> <li>Toujours utiliser des accolades pour les structures de contr\u00f4le</li> <li>Utiliser les retours anticip\u00e9s pour r\u00e9duire l'imbrication</li> </ul>"},{"location":"fr/development/code-style/#typescript_1","title":"TypeScript","text":"<pre><code>// Pr\u00e9f\u00e9rer les interfaces pour les formes d'objets\ninterface ProductFormProps {\n  product?: Product;\n  onSubmit: (data: CreateProductDto) =&gt; void;\n}\n\n// Utiliser type pour les unions/intersections\ntype ButtonVariant = 'primary' | 'secondary' | 'danger';\n</code></pre>"},{"location":"fr/development/code-style/#react","title":"React","text":"<pre><code>// Composants fonction nomm\u00e9s\nexport function ProductCard({ product }: ProductCardProps) {\n  return &lt;div&gt;...&lt;/div&gt;;\n}\n\n// D\u00e9structurer les props\nfunction Button({ variant = 'primary', children, ...props }: ButtonProps) {\n  return &lt;button {...props}&gt;{children}&lt;/button&gt;;\n}\n</code></pre>"},{"location":"fr/development/code-style/#nestjs","title":"NestJS","text":"<pre><code>// Utiliser l'injection de d\u00e9pendances\n@Injectable()\nexport class ProductsService {\n  constructor(\n    private readonly productRepository: ProductRepository,\n    private readonly categoryRepository: CategoryRepository,\n  ) {}\n}\n\n// Utiliser les d\u00e9corateurs pour la validation\n@Post()\nasync create(@Body() createDto: CreateProductDto) {\n  return this.productsService.create(createDto);\n}\n</code></pre>"},{"location":"fr/development/code-style/#commentaires","title":"Commentaires","text":"<ul> <li>\u00c9viter les commentaires \u00e9vidents</li> <li>Documenter la logique m\u00e9tier complexe</li> <li>Utiliser JSDoc pour les APIs publiques</li> </ul> <pre><code>/**\n * Construit un arbre hi\u00e9rarchique \u00e0 partir d'une liste plate de cat\u00e9gories.\n * Les cat\u00e9gories sans parent deviennent des n\u0153uds racines.\n */\nprivate buildTree(categories: Category[]): CategoryTreeNode[] {\n  // Impl\u00e9mentation\n}\n</code></pre>"},{"location":"fr/development/frontend-development/","title":"D\u00e9veloppement Frontend","text":"<p>Ce guide couvre les patterns de d\u00e9veloppement TanStack Start pour le frontend LibreStock Inventory.</p>"},{"location":"fr/development/frontend-development/#stack-technique","title":"Stack technique","text":"<ul> <li>TanStack Start (TanStack Router + Vite)</li> <li>React 19</li> <li>TanStack Query (\u00e9tat serveur)</li> <li>TanStack Form (gestion des formulaires)</li> <li>Tailwind CSS 4</li> <li>Radix UI / composants shadcn</li> <li>Better Auth</li> <li>i18next (en, de, fr)</li> </ul>"},{"location":"fr/development/frontend-development/#structure-du-projet","title":"Structure du projet","text":"<pre><code>frontend/src/\n\u251c\u2500\u2500 routes/                      # Routes bas\u00e9es sur les fichiers (TanStack Router)\n\u2502   \u251c\u2500\u2500 __root.tsx               # Layout racine + providers\n\u2502   \u251c\u2500\u2500 index.tsx                # Accueil (/)\n\u2502   \u251c\u2500\u2500 products.tsx             # Produits (/products)\n\u2502   \u251c\u2500\u2500 products.$id.tsx         # D\u00e9tail produit (/products/:id)\n\u2502   \u251c\u2500\u2500 locations.tsx            # Emplacements (/locations)\n\u2502   \u251c\u2500\u2500 locations.$id.tsx        # D\u00e9tail emplacement (/locations/:id)\n\u2502   \u251c\u2500\u2500 inventory.tsx            # Inventaire (/inventory)\n\u2502   \u251c\u2500\u2500 stock.tsx                # Stock (/stock)\n\u2502   \u251c\u2500\u2500 stock-movements.tsx      # Mouvements de stock (/stock-movements)\n\u2502   \u251c\u2500\u2500 orders.tsx               # Commandes (/orders)\n\u2502   \u251c\u2500\u2500 clients.tsx              # Clients (/clients)\n\u2502   \u251c\u2500\u2500 suppliers.tsx            # Fournisseurs (/suppliers)\n\u2502   \u251c\u2500\u2500 audit-logs.tsx           # Journal d'audit (/audit-logs)\n\u2502   \u251c\u2500\u2500 users.tsx                # Utilisateurs (/users)\n\u2502   \u251c\u2500\u2500 roles.tsx                # R\u00f4les (/roles)\n\u2502   \u251c\u2500\u2500 settings.tsx             # Param\u00e8tres (/settings)\n\u2502   \u251c\u2500\u2500 login.tsx                # Connexion\n\u2502   \u2514\u2500\u2500 signup.tsx               # Inscription\n\u251c\u2500\u2500 components/\n\u2502   \u251c\u2500\u2500 ui/                      # Composants de base (Radix/shadcn)\n\u2502   \u251c\u2500\u2500 areas/                   # Fonctionnalit\u00e9s zones\n\u2502   \u251c\u2500\u2500 audit-logs/              # Fonctionnalit\u00e9s journal d'audit\n\u2502   \u251c\u2500\u2500 category/                # Fonctionnalit\u00e9s cat\u00e9gories\n\u2502   \u251c\u2500\u2500 clients/                 # Fonctionnalit\u00e9s clients\n\u2502   \u251c\u2500\u2500 common/                  # Header, dialogs, etc.\n\u2502   \u251c\u2500\u2500 inventory/               # Fonctionnalit\u00e9s inventaire\n\u2502   \u251c\u2500\u2500 items/                   # Fonctionnalit\u00e9s articles\n\u2502   \u251c\u2500\u2500 locations/               # Fonctionnalit\u00e9s emplacements\n\u2502   \u251c\u2500\u2500 orders/                  # Fonctionnalit\u00e9s commandes\n\u2502   \u251c\u2500\u2500 products/                # Fonctionnalit\u00e9s produits\n\u2502   \u251c\u2500\u2500 roles/                   # Fonctionnalit\u00e9s r\u00f4les\n\u2502   \u251c\u2500\u2500 settings/                # Fonctionnalit\u00e9s param\u00e8tres\n\u2502   \u251c\u2500\u2500 stock-movements/         # Fonctionnalit\u00e9s mouvements de stock\n\u2502   \u251c\u2500\u2500 suppliers/               # Fonctionnalit\u00e9s fournisseurs\n\u2502   \u251c\u2500\u2500 users/                   # Fonctionnalit\u00e9s utilisateurs\n\u2502   \u251c\u2500\u2500 DefaultCatchBoundary.tsx # Limite d'erreur\n\u2502   \u2514\u2500\u2500 NotFound.tsx             # Composant 404\n\u251c\u2500\u2500 hooks/providers/             # Contextes React\n\u251c\u2500\u2500 lib/\n\u2502   \u251c\u2500\u2500 data/\n\u2502   \u2502   \u251c\u2500\u2500 areas.ts             # Hooks API zones\n\u2502   \u2502   \u251c\u2500\u2500 audit-logs.ts        # Hooks API journal d'audit\n\u2502   \u2502   \u251c\u2500\u2500 auth.ts              # Hooks API auth\n\u2502   \u2502   \u251c\u2500\u2500 axios-client.ts      # Client API\n\u2502   \u2502   \u251c\u2500\u2500 branding.ts          # Hooks API branding\n\u2502   \u2502   \u251c\u2500\u2500 categories.ts        # Hooks API cat\u00e9gories\n\u2502   \u2502   \u251c\u2500\u2500 clients.ts           # Hooks API clients\n\u2502   \u2502   \u251c\u2500\u2500 inventory.ts         # Hooks API inventaire\n\u2502   \u2502   \u251c\u2500\u2500 locations.ts         # Hooks API emplacements\n\u2502   \u2502   \u251c\u2500\u2500 make-crud-hooks.ts   # Factory de hooks CRUD\n\u2502   \u2502   \u251c\u2500\u2500 orders.ts            # Hooks API commandes\n\u2502   \u2502   \u251c\u2500\u2500 photos.ts            # Hooks API photos\n\u2502   \u2502   \u251c\u2500\u2500 products.ts          # Hooks API produits\n\u2502   \u2502   \u251c\u2500\u2500 query-cache.ts       # Utilitaires cache de requ\u00eates\n\u2502   \u2502   \u251c\u2500\u2500 roles.ts             # Hooks API r\u00f4les\n\u2502   \u2502   \u251c\u2500\u2500 stock-movements.ts   # Hooks API mouvements de stock\n\u2502   \u2502   \u251c\u2500\u2500 suppliers.ts         # Hooks API fournisseurs\n\u2502   \u2502   \u2514\u2500\u2500 users.ts             # Hooks API utilisateurs\n\u2502   \u2514\u2500\u2500 utils.ts                 # Utilitaires\n\u251c\u2500\u2500 locales/                     # i18n (en, de, fr)\n\u251c\u2500\u2500 router.tsx                   # Configuration du router\n\u2514\u2500\u2500 routeTree.gen.ts             # Routes g\u00e9n\u00e9r\u00e9es\n</code></pre>"},{"location":"fr/development/frontend-development/#integration-api","title":"Int\u00e9gration API","text":""},{"location":"fr/development/frontend-development/#client-ecrit-a-la-main-types-partages","title":"Client \u00e9crit \u00e0 la main + Types partag\u00e9s","text":"<p>Les hooks API sont dans <code>src/lib/data/*.ts</code> et utilisent les interfaces/enums de <code>@librestock/types</code>. La factory <code>make-crud-hooks.ts</code> g\u00e9n\u00e8re des hooks CRUD standards pour les ressources.</p>"},{"location":"fr/development/frontend-development/#utilisation-des-requetes","title":"Utilisation des requ\u00eates","text":"<pre><code>import { useListProducts } from '~/lib/data/products';\n\nfunction ProductList() {\n  const { data, isLoading, error } = useListProducts({\n    category_id: selectedCategory,\n    page: 1,\n    limit: 20,\n  });\n\n  if (isLoading) return &lt;Spinner /&gt;;\n  if (error) return &lt;ErrorState error={error} /&gt;;\n  if (!data?.data?.length) return &lt;EmptyState /&gt;;\n\n  return (\n    &lt;div&gt;\n      {data.data.map(product =&gt; (\n        &lt;ProductCard key={product.id} product={product} /&gt;\n      ))}\n    &lt;/div&gt;\n  );\n}\n</code></pre>"},{"location":"fr/development/frontend-development/#utilisation-des-mutations","title":"Utilisation des mutations","text":"<pre><code>import { useCreateProduct, getListProductsQueryKey } from '~/lib/data/products';\nimport { useQueryClient } from '@tanstack/react-query';\nimport { toast } from 'sonner';\n\nfunction CreateProductForm() {\n  const queryClient = useQueryClient();\n\n  const mutation = useCreateProduct({\n    onSuccess: () =&gt; {\n      queryClient.invalidateQueries({ queryKey: getListProductsQueryKey() });\n      toast.success('Produit cr\u00e9\u00e9');\n    },\n    onError: () =&gt; {\n      toast.error('\u00c9chec de la cr\u00e9ation du produit');\n    },\n  });\n\n  const handleSubmit = async (data: CreateProductDto) =&gt; {\n    await mutation.mutateAsync(data);\n  };\n}\n</code></pre>"},{"location":"fr/development/frontend-development/#formulaires","title":"Formulaires","text":""},{"location":"fr/development/frontend-development/#tanstack-form-zod","title":"TanStack Form + Zod","text":"<pre><code>import { useForm } from '@tanstack/react-form';\nimport { z } from 'zod';\n\nconst schema = z.object({\n  name: z.string().min(1, 'Requis').max(100),\n  sku: z.string().min(1, 'Requis').max(50),\n  category_id: z.string().uuid().optional(),\n});\n\nfunction ProductForm() {\n  const form = useForm({\n    defaultValues: { name: '', sku: '', category_id: '' },\n    validators: { onSubmit: schema },\n    onSubmit: async ({ value }) =&gt; {\n      await mutation.mutateAsync(value);\n    },\n  });\n\n  return (\n    &lt;form onSubmit={(e) =&gt; { e.preventDefault(); form.handleSubmit(); }}&gt;\n      &lt;form.Field name=\"name\"&gt;\n        {(field) =&gt; (\n          &lt;Field&gt;\n            &lt;FieldLabel&gt;Nom&lt;/FieldLabel&gt;\n            &lt;Input\n              value={field.state.value}\n              onChange={(e) =&gt; field.handleChange(e.target.value)}\n            /&gt;\n            &lt;FieldError errors={field.state.meta.errors} /&gt;\n          &lt;/Field&gt;\n        )}\n      &lt;/form.Field&gt;\n\n      &lt;Button type=\"submit\" disabled={form.state.isSubmitting}&gt;\n        Enregistrer\n      &lt;/Button&gt;\n    &lt;/form&gt;\n  );\n}\n</code></pre>"},{"location":"fr/development/frontend-development/#routage","title":"Routage","text":"<p>Les routes sont d\u00e9finies avec <code>createFileRoute</code> dans <code>src/routes/</code> :</p> <pre><code>import { createFileRoute } from '@tanstack/react-router';\nimport { ProductFilters } from '~/components/products/ProductFilters';\nimport { ProductGrid } from '~/components/products/ProductGrid';\n\nexport const Route = createFileRoute('/products')({\n  component: ProductsPage,\n});\n\nfunction ProductsPage() {\n  return (\n    &lt;div className=\"page-container\"&gt;\n      &lt;h1&gt;Produits&lt;/h1&gt;\n      &lt;ProductFilters /&gt;\n      &lt;ProductGrid /&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>"},{"location":"fr/development/frontend-development/#liste-des-routes","title":"Liste des routes","text":"Fichier Route <code>__root.tsx</code> Layout racine <code>index.tsx</code> <code>/</code> (Accueil) <code>products.tsx</code> <code>/products</code> <code>products.$id.tsx</code> <code>/products/:id</code> <code>locations.tsx</code> <code>/locations</code> <code>locations.$id.tsx</code> <code>/locations/:id</code> <code>inventory.tsx</code> <code>/inventory</code> <code>stock.tsx</code> <code>/stock</code> <code>stock-movements.tsx</code> <code>/stock-movements</code> <code>orders.tsx</code> <code>/orders</code> <code>clients.tsx</code> <code>/clients</code> <code>suppliers.tsx</code> <code>/suppliers</code> <code>audit-logs.tsx</code> <code>/audit-logs</code> <code>users.tsx</code> <code>/users</code> <code>roles.tsx</code> <code>/roles</code> <code>settings.tsx</code> <code>/settings</code> <code>login.tsx</code> <code>/login</code> <code>signup.tsx</code> <code>/signup</code>"},{"location":"fr/development/frontend-development/#securite-ssr","title":"S\u00e9curit\u00e9 SSR","text":"<p>TanStack Start rend c\u00f4t\u00e9 serveur au premier chargement. \u00c9viter les APIs navigateur au niveau module ; utiliser <code>useEffect</code> ou <code>typeof window !== 'undefined'</code> si n\u00e9cessaire.</p>"},{"location":"fr/development/frontend-development/#composants","title":"Composants","text":""},{"location":"fr/development/frontend-development/#template-de-composant","title":"Template de composant","text":"<pre><code>import { useTranslation } from 'react-i18next';\nimport { cn } from '~/lib/utils';\nimport { type ProductResponseDto } from '~/lib/data/products';\n\ninterface ProductCardProps {\n  product: ProductResponseDto;\n  className?: string;\n}\n\nexport function ProductCard({ product, className }: ProductCardProps) {\n  const { t } = useTranslation();\n\n  return (\n    &lt;div className={cn('p-4 border rounded', className)}&gt;\n      &lt;h3&gt;{product.name}&lt;/h3&gt;\n      &lt;p&gt;{product.sku}&lt;/p&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>"},{"location":"fr/development/frontend-development/#styles","title":"Styles","text":""},{"location":"fr/development/frontend-development/#tailwind-css","title":"Tailwind CSS","text":"<p>Utiliser l'utilitaire <code>cn()</code> pour les classes conditionnelles :</p> <pre><code>import { cn } from '~/lib/utils';\n\n&lt;div className={cn('p-4', isActive &amp;&amp; 'bg-primary', className)} /&gt;\n</code></pre>"},{"location":"fr/development/frontend-development/#variables-css","title":"Variables CSS","text":"<p>Les couleurs du th\u00e8me sont d\u00e9finies dans <code>globals.css</code> :</p> <pre><code>:root {\n  --primary: 220 90% 56%;\n  --background: 0 0% 100%;\n}\n\n.dark {\n  --primary: 220 90% 60%;\n  --background: 0 0% 10%;\n}\n</code></pre>"},{"location":"fr/development/frontend-development/#internationalisation","title":"Internationalisation","text":""},{"location":"fr/development/frontend-development/#ajouter-des-traductions","title":"Ajouter des traductions","text":"<pre><code>// locales/fr/common.json\n{\n  \"navigation\": {\n    \"products\": \"Produits\",\n    \"categories\": \"Cat\u00e9gories\"\n  }\n}\n</code></pre>"},{"location":"fr/development/frontend-development/#utiliser-les-traductions","title":"Utiliser les traductions","text":"<pre><code>import { useTranslation } from 'react-i18next';\n\nfunction Header() {\n  const { t, i18n } = useTranslation();\n\n  return (\n    &lt;nav&gt;\n      &lt;a href=\"/products\"&gt;{t('navigation.products')}&lt;/a&gt;\n      &lt;button onClick={() =&gt; i18n.changeLanguage('fr')}&gt;FR&lt;/button&gt;\n    &lt;/nav&gt;\n  );\n}\n</code></pre>"},{"location":"fr/development/frontend-development/#alias-de-chemin","title":"Alias de chemin","text":"<p>Le frontend utilise <code>~/*</code> comme alias de chemin correspondant \u00e0 <code>src/*</code> :</p> <pre><code>// Au lieu de chemins relatifs :\nimport { Button } from '../../../components/ui/button';\n\n// Utiliser l'alias :\nimport { Button } from '~/components/ui/button';\n</code></pre>"},{"location":"fr/development/frontend-development/#patterns-courants","title":"Patterns courants","text":""},{"location":"fr/development/frontend-development/#etats-de-chargement","title":"\u00c9tats de chargement","text":"<pre><code>if (isLoading) return &lt;Spinner /&gt;;\nif (error) return &lt;ErrorState error={error} /&gt;;\nif (!data?.length) return &lt;EmptyState /&gt;;\n</code></pre>"},{"location":"fr/development/frontend-development/#invalidation-de-requetes","title":"Invalidation de requ\u00eates","text":"<pre><code>queryClient.invalidateQueries({ queryKey: getListProductsQueryKey() });\n</code></pre>"},{"location":"fr/development/frontend-development/#recuperation-conditionnelle","title":"R\u00e9cup\u00e9ration conditionnelle","text":"<pre><code>const query = useListProducts(params, { enabled: !!categoryId });\n</code></pre>"},{"location":"fr/development/frontend-development/#bonnes-pratiques","title":"Bonnes pratiques","text":"<ol> <li>Colocaliser la r\u00e9cup\u00e9ration de donn\u00e9es - R\u00e9cup\u00e9rer o\u00f9 les donn\u00e9es sont utilis\u00e9es</li> <li>Utiliser l'UI pending des routes - D\u00e9finir <code>pendingComponent</code> ou des limites de suspense</li> <li>Lazy load les composants lourds - Utiliser <code>React.lazy</code> ou le code splitting des routes</li> <li>Garder les bundles petits - Ne pas importer de biblioth\u00e8ques lourdes inutilement</li> </ol>"},{"location":"fr/development/frontend-development/#erreurs-courantes-a-eviter","title":"Erreurs courantes \u00e0 \u00e9viter","text":"<ul> <li>Utiliser des APIs navigateur au niveau module pendant le SSR</li> <li>Invalider trop largement les requ\u00eates au lieu de cl\u00e9s cibl\u00e9es</li> <li>Mettre tout l'\u00e9tat au niveau de la page et faire du prop-drilling</li> <li>R\u00e9cup\u00e9rer sans cl\u00e9s de requ\u00eate stables ou param\u00e8tres m\u00e9moris\u00e9s</li> </ul>"},{"location":"fr/development/setup/","title":"Configuration de l'environnement","text":"<p>Ce guide vous accompagne dans la configuration de votre environnement de d\u00e9veloppement local.</p>"},{"location":"fr/development/setup/#prerequis","title":"Pr\u00e9requis","text":"<ul> <li>Node.js &gt;= 20 (g\u00e9r\u00e9 par Nix)</li> <li>pnpm &gt;= 10 (g\u00e9r\u00e9 par Nix)</li> <li>PostgreSQL 16 (via Docker Compose)</li> <li>Nix avec flakes activ\u00e9s</li> <li>1Password CLI (pour la configuration des variables d'environnement)</li> <li>just command runner (pour la configuration des variables d'environnement)</li> </ul>"},{"location":"fr/development/setup/#configuration-rapide-avec-nix-flakes","title":"Configuration rapide avec Nix Flakes","text":"<p>Chaque repo poss\u00e8de son propre Nix flake pour un environnement de d\u00e9veloppement reproductible.</p>"},{"location":"fr/development/setup/#1-installer-nix","title":"1. Installer Nix","text":"<pre><code># macOS/Linux\ncurl --proto '=https' --tlsv1.2 -sSf -L https://install.determinate.systems/nix | sh -s -- install\n</code></pre>"},{"location":"fr/development/setup/#2-cloner-et-configurer","title":"2. Cloner et configurer","text":"<pre><code>git clone https://github.com/librestock/meta.git\ncd meta &amp;&amp; ./scripts/bootstrap &amp;&amp; cd ..\n</code></pre>"},{"location":"fr/development/setup/#3-demarrer-les-services","title":"3. D\u00e9marrer les services","text":"<pre><code># D\u00e9marrer PostgreSQL et autres services via Docker Compose\ncd meta &amp;&amp; docker compose up -d\n</code></pre>"},{"location":"fr/development/setup/#4-entrer-dans-le-shell-de-developpement","title":"4. Entrer dans le shell de d\u00e9veloppement","text":"<pre><code># Shell de d\u00e9veloppement backend\ncd backend &amp;&amp; nix develop\n\n# Shell de d\u00e9veloppement frontend\ncd frontend &amp;&amp; nix develop\n</code></pre> <p>Cela fournit :</p> <ul> <li>PostgreSQL sur le port 5432</li> <li>API NestJS sur le port 8080</li> <li>Frontend TanStack Start sur le port 3000</li> </ul>"},{"location":"fr/development/setup/#configuration-manuelle","title":"Configuration manuelle","text":"<p>Si vous pr\u00e9f\u00e9rez ne pas utiliser Nix :</p>"},{"location":"fr/development/setup/#1-installer-les-dependances","title":"1. Installer les d\u00e9pendances","text":"<pre><code># Installer pnpm\nnpm install -g pnpm\n\n# Installer les d\u00e9pendances du projet\npnpm install\n</code></pre>"},{"location":"fr/development/setup/#2-configurer-postgresql","title":"2. Configurer PostgreSQL","text":"<pre><code># Cr\u00e9er la base de donn\u00e9es\ncreatedb librestock_inventory\n</code></pre>"},{"location":"fr/development/setup/#3-configurer-les-variables-denvironnement","title":"3. Configurer les variables d'environnement","text":"<p>Cr\u00e9ez les fichiers <code>.env</code> dans chaque repo :</p> <p>Backend (<code>backend/.env</code>) :</p> <pre><code>DATABASE_URL=postgresql://localhost:5432/librestock_inventory\nBETTER_AUTH_SECRET=votre-secret-ici\nPORT=8080\n</code></pre> <p>Frontend (<code>frontend/.env.local</code>) :</p> <pre><code>VITE_API_BASE_URL=http://localhost:8080/api/v1\n</code></pre> <p>Secret Better Auth</p> <p><code>BETTER_AUTH_SECRET</code> ne doit se trouver que dans le <code>.env</code> du backend -- jamais dans le frontend.</p>"},{"location":"fr/development/setup/#4-demarrer-les-services","title":"4. D\u00e9marrer les services","text":"<pre><code># Terminal 1 - Backend\ncd backend\npnpm start:dev\n\n# Terminal 2 - Frontend\ncd frontend\npnpm dev\n</code></pre>"},{"location":"fr/development/setup/#verification","title":"V\u00e9rification","text":"<p>Une fois lanc\u00e9, v\u00e9rifiez :</p> Service URL Description API http://localhost:8080/api/docs Documentation Swagger Web http://localhost:3000 Application frontend DB localhost:5432 Base PostgreSQL"},{"location":"fr/development/setup/#problemes-courants","title":"Probl\u00e8mes courants","text":""},{"location":"fr/development/setup/#port-deja-utilise","title":"Port d\u00e9j\u00e0 utilis\u00e9","text":"<pre><code># Trouver le processus utilisant le port\nlsof -i :8080\n\n# Tuer le processus\nkill -9 &lt;PID&gt;\n</code></pre>"},{"location":"fr/development/setup/#erreurs-de-connexion-postgresql","title":"Erreurs de connexion PostgreSQL","text":"<p>V\u00e9rifiez que PostgreSQL est en cours d'ex\u00e9cution :</p> <pre><code>pg_isready -h localhost -p 5432\n</code></pre>"},{"location":"fr/development/setup/#erreurs-de-dependances","title":"Erreurs de d\u00e9pendances","text":"<p>Nettoyez et r\u00e9installez :</p> <pre><code>rm -rf node_modules\nrm -rf backend/node_modules\nrm -rf frontend/node_modules\npnpm install\n</code></pre>"},{"location":"fr/development/testing/","title":"Tests","text":"<p>Le syst\u00e8me LibreStock Inventory utilise Jest pour les tests backend. Ce guide couvre les patterns de test et les bonnes pratiques.</p>"},{"location":"fr/development/testing/#vue-densemble","title":"Vue d'ensemble","text":"Module Framework Statut Backend Jest 30 + ts-jest Actif Frontend - Planifi\u00e9"},{"location":"fr/development/testing/#executer-les-tests","title":"Ex\u00e9cuter les tests","text":""},{"location":"fr/development/testing/#tests-backend","title":"Tests Backend","text":"<pre><code># Ex\u00e9cuter tous les tests unitaires\npnpm --filter @librestock/api test\n\n# Ex\u00e9cuter les tests en mode watch\npnpm --filter @librestock/api test:watch\n\n# Ex\u00e9cuter les tests avec couverture\npnpm --filter @librestock/api test:cov\n\n# Ex\u00e9cuter les tests end-to-end\npnpm --filter @librestock/api test:e2e\n\n# Ex\u00e9cuter un fichier de test sp\u00e9cifique (Jest 30 utilise --testPathPatterns, au pluriel)\npnpm --filter @librestock/api test -- --testPathPatterns products\n</code></pre> <p>Flag Jest 30</p> <p>Jest 30 utilise <code>--testPathPatterns</code> (au pluriel), pas <code>--testPathPattern</code>. L'utilisation de la forme au singulier \u00e9chouera silencieusement.</p>"},{"location":"fr/development/testing/#structure-des-tests","title":"Structure des tests","text":""},{"location":"fr/development/testing/#tests-unitaires","title":"Tests unitaires","text":"<p>Situ\u00e9s \u00e0 c\u00f4t\u00e9 des fichiers sources en <code>*.spec.ts</code> :</p> <pre><code>backend/src/routes/products/\n\u251c\u2500\u2500 products.service.ts\n\u251c\u2500\u2500 products.service.spec.ts    # Tests unitaires\n\u251c\u2500\u2500 products.controller.ts\n\u2514\u2500\u2500 ...\n</code></pre>"},{"location":"fr/development/testing/#tests-e2e","title":"Tests E2E","text":"<p>Situ\u00e9s dans <code>backend/test/</code> :</p> <pre><code>backend/test/\n\u251c\u2500\u2500 products.e2e-spec.ts\n\u251c\u2500\u2500 categories.e2e-spec.ts\n\u2514\u2500\u2500 jest-e2e.json\n</code></pre>"},{"location":"fr/development/testing/#ecrire-des-tests-unitaires","title":"\u00c9crire des tests unitaires","text":""},{"location":"fr/development/testing/#pattern-de-test-de-service","title":"Pattern de test de service","text":"<pre><code>import { Test, TestingModule } from '@nestjs/testing';\nimport { ProductsService } from './products.service';\nimport { ProductRepository } from './product.repository';\n\ndescribe('ProductsService', () =&gt; {\n  let service: ProductsService;\n  let productRepository: jest.Mocked&lt;ProductRepository&gt;;\n\n  // Donn\u00e9es de test\n  const mockProduct = {\n    id: '660e8400-e29b-41d4-a716-446655440000',\n    sku: 'PROD-001',\n    name: 'Produit Test',\n  };\n\n  beforeEach(async () =&gt; {\n    const module: TestingModule = await Test.createTestingModule({\n      providers: [\n        ProductsService,\n        {\n          provide: ProductRepository,\n          useValue: {\n            findAllPaginated: jest.fn(),\n            findById: jest.fn(),\n            create: jest.fn(),\n          },\n        },\n      ],\n    }).compile();\n\n    service = module.get&lt;ProductsService&gt;(ProductsService);\n    productRepository = module.get(ProductRepository);\n  });\n\n  describe('findOne', () =&gt; {\n    it('devrait retourner un produit', async () =&gt; {\n      productRepository.findById.mockResolvedValue(mockProduct);\n\n      const result = await service.findOne('some-id');\n\n      expect(result).toEqual(mockProduct);\n      expect(productRepository.findById).toHaveBeenCalledWith('some-id');\n    });\n\n    it('devrait lever NotFoundException si produit non trouv\u00e9', async () =&gt; {\n      productRepository.findById.mockResolvedValue(null);\n\n      await expect(service.findOne('invalid-id'))\n        .rejects.toThrow(NotFoundException);\n    });\n  });\n});\n</code></pre>"},{"location":"fr/development/testing/#pattern-de-test-de-controleur","title":"Pattern de test de contr\u00f4leur","text":"<p>Pour tester les contr\u00f4leurs, remplacer <code>PermissionGuard</code> (pas le guard d'authentification) car <code>PermissionGuard</code> d\u00e9pend de <code>DataSource</code> :</p> <pre><code>import { Test, TestingModule } from '@nestjs/testing';\nimport { PermissionGuard } from 'src/common/guards/permission.guard';\n\ndescribe('ProductsController', () =&gt; {\n  let controller: ProductsController;\n\n  beforeEach(async () =&gt; {\n    const module: TestingModule = await Test.createTestingModule({\n      controllers: [ProductsController],\n      providers: [/* ... */],\n    })\n      .overrideGuard(PermissionGuard)\n      .useValue({ canActivate: () =&gt; true })\n      .compile();\n\n    controller = module.get&lt;ProductsController&gt;(ProductsController);\n  });\n\n  // ... tests\n});\n</code></pre>"},{"location":"fr/development/testing/#ecrire-des-tests-e2e","title":"\u00c9crire des tests E2E","text":""},{"location":"fr/development/testing/#pattern-de-configuration","title":"Pattern de configuration","text":"<p>Les tests E2E remplacent le <code>AuthGuard</code> pour simuler l'authentification :</p> <pre><code>import { Test, TestingModule } from '@nestjs/testing';\nimport { INestApplication } from '@nestjs/common';\nimport * as request from 'supertest';\nimport { AppModule } from '../src/app.module';\nimport { AuthGuard } from '../src/common/auth/auth.guard';\n\ndescribe('ProductsController (e2e)', () =&gt; {\n  let app: INestApplication;\n\n  // Mock du guard d'authentification\n  const mockAuthGuard = {\n    canActivate: jest.fn().mockImplementation((context) =&gt; {\n      const req = context.switchToHttp().getRequest();\n      req.auth = { userId: 'test-user-id', sessionId: 'test-session-id' };\n      return true;\n    }),\n  };\n\n  beforeAll(async () =&gt; {\n    const moduleFixture: TestingModule = await Test.createTestingModule({\n      imports: [AppModule],\n    })\n      .overrideGuard(AuthGuard)\n      .useValue(mockAuthGuard)\n      .compile();\n\n    app = moduleFixture.createNestApplication();\n    await app.init();\n  });\n\n  afterAll(async () =&gt; {\n    await app.close();\n  });\n\n  describe('GET /api/v1/products', () =&gt; {\n    it('devrait retourner les produits pagin\u00e9s', async () =&gt; {\n      const response = await request(app.getHttpServer())\n        .get('/api/v1/products')\n        .set('Authorization', 'Bearer token')\n        .expect(200);\n\n      expect(response.body.data).toBeDefined();\n      expect(response.body.meta.total).toBeDefined();\n    });\n  });\n});\n</code></pre>"},{"location":"fr/development/testing/#utilitaires-de-test","title":"Utilitaires de test","text":""},{"location":"fr/development/testing/#tester-les-operations-asynchrones-fire-and-forget","title":"Tester les op\u00e9rations asynchrones fire-and-forget","text":"<p>Utiliser le pattern <code>flushPromises</code> pour tester les op\u00e9rations asynchrones fire-and-forget (ex: journalisation d'audit) :</p> <pre><code>const flushPromises = () =&gt;\n  new Promise((resolve) =&gt; setImmediate(resolve));\n\nit('devrait cr\u00e9er un log d\\'audit', async () =&gt; {\n  interceptor.intercept(mockContext, mockHandler).subscribe();\n\n  await flushPromises();\n\n  expect(auditLogService.log).toHaveBeenCalled();\n});\n</code></pre>"},{"location":"fr/development/testing/#couverture","title":"Couverture","text":"<p>G\u00e9n\u00e9rer le rapport de couverture :</p> <pre><code>pnpm --filter @librestock/api test:cov\n</code></pre> <p>Les rapports sont g\u00e9n\u00e9r\u00e9s dans <code>backend/coverage/</code>.</p>"},{"location":"fr/development/testing/#bonnes-pratiques","title":"Bonnes pratiques","text":"<ol> <li>Isoler les tests - Chaque test doit \u00eatre ind\u00e9pendant</li> <li>Mocker les d\u00e9pendances externes - Base de donn\u00e9es, APIs, etc.</li> <li>Nettoyer apr\u00e8s les tests - Utiliser <code>beforeEach</code>/<code>afterEach</code></li> <li>Tester les cas limites - Conditions d'erreur, donn\u00e9es vides, etc.</li> <li>Utiliser des noms descriptifs - <code>devrait lever NotFoundException quand...</code></li> <li>Remplacer PermissionGuard dans les tests de contr\u00f4leur - Il d\u00e9pend de DataSource, donc il faut le mocker</li> <li>Utiliser <code>flushPromises</code> - Pour tester les op\u00e9rations asynchrones fire-and-forget</li> </ol>"},{"location":"fr/getting-started/","title":"D\u00e9marrage","text":"<p>Cette section vous aidera \u00e0 installer et configurer LibreStock Inventory.</p>"},{"location":"fr/getting-started/#prerequis","title":"Pr\u00e9requis","text":"<p>Avant de commencer, assurez-vous d'avoir :</p> <ul> <li>Node.js &gt;= 20</li> <li>pnpm &gt;= 10</li> <li>Nix avec flakes activ\u00e9 (chaque d\u00e9p\u00f4t poss\u00e8de son propre <code>flake.nix</code>)</li> <li>Docker &amp; Docker Compose (pour PostgreSQL et les autres services)</li> </ul>"},{"location":"fr/getting-started/#prochaines-etapes","title":"Prochaines \u00c9tapes","text":"<ol> <li>Installation - Configurer l'environnement de d\u00e9veloppement</li> <li>D\u00e9marrage rapide - Cr\u00e9er vos premiers produits</li> <li>Configuration - Configurer les variables d'environnement</li> </ol>"},{"location":"fr/getting-started/configuration/","title":"Configuration","text":"<p>Ce guide couvre toutes les options de configuration pour LibreStock Inventory.</p>"},{"location":"fr/getting-started/configuration/#variables-denvironnement","title":"Variables d'Environnement","text":""},{"location":"fr/getting-started/configuration/#backend-api","title":"Backend API","text":"<p>Situ\u00e9 dans <code>backend/.env</code> :</p> Variable Requis Description <code>DATABASE_URL</code> Oui Cha\u00eene de connexion PostgreSQL <code>NODE_ENV</code> Non Mode d'environnement (d\u00e9faut : <code>development</code>) <code>PORT</code> Non Port API (d\u00e9faut : <code>8080</code>) <code>CORS_ORIGIN</code> Non Origine CORS autoris\u00e9e (d\u00e9faut : <code>http://localhost:3000</code>) <code>BETTER_AUTH_SECRET</code> Oui Cha\u00eene al\u00e9atoire de 32+ octets pour la signature de session Better Auth <code>BETTER_AUTH_URL</code> Oui URL du serveur Better Auth (ex : <code>http://localhost:8080</code>) <code>FRONTEND_URL</code> Non URL du frontend pour les redirections (d\u00e9faut : <code>http://localhost:3000</code>) <p>Les variables de base de donn\u00e9es individuelles sont \u00e9galement support\u00e9es : <code>PGHOST</code>, <code>PGPORT</code>, <code>PGUSER</code>, <code>PGPASSWORD</code>, <code>PGDATABASE</code>.</p> <p>Exemple :</p> <pre><code>DATABASE_URL=postgresql://postgres:postgres@localhost:5432/librestock_inventory\nNODE_ENV=development\nPORT=8080\nCORS_ORIGIN=http://localhost:3000\nBETTER_AUTH_SECRET=&lt;cha\u00eene al\u00e9atoire de 32+ octets&gt;\nBETTER_AUTH_URL=http://localhost:8080\nFRONTEND_URL=http://localhost:3000\n</code></pre>"},{"location":"fr/getting-started/configuration/#frontend-web","title":"Frontend Web","text":"<p>Situ\u00e9 dans <code>frontend/.env</code> :</p> Variable Requis Description <code>VITE_API_BASE_URL</code> Oui URL de l'API backend <code>VITE_SENTRY_DSN</code> Non DSN Sentry pour le suivi des erreurs <code>SENTRY_AUTH_TOKEN</code> Non Token d'authentification Sentry pour les source maps <p>Exemple :</p> <pre><code>VITE_API_BASE_URL=http://localhost:8080/api/v1\nVITE_SENTRY_DSN=&lt;dsn sentry&gt;\nSENTRY_AUTH_TOKEN=&lt;token auth sentry&gt;\n</code></pre>"},{"location":"fr/getting-started/configuration/#authentification-better-auth","title":"Authentification Better Auth","text":"<p>Better Auth est configur\u00e9 uniquement dans le backend. Le <code>BETTER_AUTH_SECRET</code> doit \u00eatre une cha\u00eene al\u00e9atoire d'au moins 32 octets. Vous pouvez en g\u00e9n\u00e9rer un avec :</p> <pre><code>openssl rand -base64 32\n</code></pre> <p><code>BETTER_AUTH_URL</code> doit pointer vers l'URL du serveur backend o\u00f9 les endpoints Better Auth sont servis.</p> <p>Note</p> <p><code>BETTER_AUTH_SECRET</code> ne se trouve que dans le <code>.env</code> du backend -- il n'est jamais d\u00e9fini dans le frontend.</p>"},{"location":"fr/getting-started/configuration/#configuration-de-la-base-de-donnees","title":"Configuration de la Base de Donn\u00e9es","text":""},{"location":"fr/getting-started/configuration/#utilisation-de-docker-compose-recommande","title":"Utilisation de Docker Compose (Recommand\u00e9)","text":"<p>PostgreSQL est fourni par Docker Compose :</p> <pre><code>docker compose -f meta/docker-compose.yml up -d\n</code></pre> <p>Configuration par d\u00e9faut :</p> <ul> <li>Nom de la base : <code>librestock_inventory</code></li> <li>H\u00f4te : <code>localhost</code></li> <li>Port : <code>5432</code></li> <li>Utilisateur : <code>postgres</code></li> <li>Mot de passe : <code>postgres</code></li> </ul>"},{"location":"fr/getting-started/configuration/#configuration-manuelle","title":"Configuration Manuelle","text":"<p>Cr\u00e9ez la base de donn\u00e9es :</p> <pre><code>createdb librestock_inventory\n</code></pre> <p>D\u00e9finissez la cha\u00eene de connexion :</p> <pre><code>DATABASE_URL=postgresql://username:password@localhost:5432/librestock_inventory\n</code></pre>"},{"location":"fr/getting-started/configuration/#documentation-api","title":"Documentation API","text":"<p>Swagger UI est disponible sur :</p> <ul> <li>http://localhost:8080/api/docs</li> <li>OpenAPI JSON : http://localhost:8080/api/docs-json</li> </ul>"},{"location":"fr/getting-started/configuration/#prochaines-etapes","title":"Prochaines \u00c9tapes","text":"<ul> <li>Architecture - Comprendre la conception du syst\u00e8me</li> <li>Configuration de d\u00e9veloppement - Configuration pour le d\u00e9veloppement</li> </ul>"},{"location":"fr/getting-started/installation/","title":"Installation","text":"<p>Ce guide couvre la configuration de l'environnement de d\u00e9veloppement LibreStock Inventory.</p>"},{"location":"fr/getting-started/installation/#utilisation-de-nix-flakes-docker-recommande","title":"Utilisation de Nix Flakes + Docker (Recommand\u00e9)","text":"<p>Le projet utilise des Nix flakes par d\u00e9p\u00f4t pour des environnements de d\u00e9veloppement reproductibles et Docker Compose pour les services comme PostgreSQL.</p>"},{"location":"fr/getting-started/installation/#1-installer-nix","title":"1. Installer Nix","text":"<pre><code>sh &lt;(curl -L https://nixos.org/nix/install) --daemon\n</code></pre> <p>Assurez-vous que les flakes sont activ\u00e9s dans votre configuration Nix.</p>"},{"location":"fr/getting-started/installation/#2-cloner-le-workspace","title":"2. Cloner le Workspace","text":"<pre><code>git clone https://github.com/librestock/meta.git\ncd meta &amp;&amp; ./scripts/bootstrap &amp;&amp; cd ..\n</code></pre>"},{"location":"fr/getting-started/installation/#3-initialiser-le-workspace","title":"3. Initialiser le Workspace","text":"<pre><code>./meta/scripts/bootstrap\n</code></pre> <p>Ceci synchronise tous les d\u00e9p\u00f4ts et installe les d\u00e9pendances.</p>"},{"location":"fr/getting-started/installation/#4-entrer-dans-un-shell-nix-par-depot","title":"4. Entrer dans un Shell Nix (par d\u00e9p\u00f4t)","text":"<p>Chaque d\u00e9p\u00f4t (backend, frontend, etc.) poss\u00e8de son propre <code>flake.nix</code>. Entrez dans le shell du d\u00e9p\u00f4t souhait\u00e9 :</p> <pre><code>cd backend &amp;&amp; nix develop\n# ou\ncd frontend &amp;&amp; nix develop\n</code></pre> <p>Ceci fournit :</p> <ul> <li>Node.js 20+ et pnpm 10</li> <li>Tous les outils sp\u00e9cifiques au d\u00e9p\u00f4t</li> </ul>"},{"location":"fr/getting-started/installation/#5-demarrer-les-services-de-developpement","title":"5. D\u00e9marrer les Services de D\u00e9veloppement","text":"<p>D\u00e9marrez PostgreSQL et les autres services via Docker Compose :</p> <pre><code>docker compose -f meta/docker-compose.yml up -d\n</code></pre> <p>Ou utilisez le script meta dev pour tout d\u00e9marrer (serveurs de d\u00e9veloppement backend + frontend) :</p> <pre><code>./meta/scripts/dev\n</code></pre> <p>Pour d\u00e9marrer \u00e9galement les services Docker automatiquement :</p> <pre><code>./meta/scripts/dev --with-docker\n</code></pre> <p>Ceci d\u00e9marre :</p> Service URL Description PostgreSQL localhost:5432 Base de donn\u00e9es NestJS API http://localhost:8080 Backend + Swagger TanStack Start Web http://localhost:3000 Frontend"},{"location":"fr/getting-started/installation/#6-configurer-les-variables-denvironnement","title":"6. Configurer les Variables d'Environnement","text":"<p>Backend :</p> <pre><code>cp backend/.env.template backend/.env\n</code></pre> <p>Modifiez <code>backend/.env</code> avec votre configuration :</p> <pre><code>DATABASE_URL=postgresql://postgres:postgres@localhost:5432/librestock_inventory\nNODE_ENV=development\nPORT=8080\nCORS_ORIGIN=http://localhost:3000\nBETTER_AUTH_SECRET=&lt;cha\u00eene al\u00e9atoire de 32+ octets&gt;\nBETTER_AUTH_URL=http://localhost:8080\nFRONTEND_URL=http://localhost:3000\n</code></pre> <p>Frontend :</p> <pre><code>echo \"VITE_API_BASE_URL=http://localhost:8080/api/v1\" &gt; frontend/.env\n</code></pre> <p>1Password CLI</p> <p>Le backend et le frontend disposent d'un <code>justfile</code> avec une t\u00e2che <code>decrypt</code>. Si vous utilisez 1Password CLI, vous pouvez g\u00e9n\u00e9rer les fichiers <code>.env</code> automatiquement : <pre><code>cd backend &amp;&amp; just decrypt\ncd frontend &amp;&amp; just decrypt\n</code></pre> Ceci ex\u00e9cute <code>op inject -i env.template -o .env</code> pour injecter les secrets depuis 1Password.</p>"},{"location":"fr/getting-started/installation/#configuration-manuelle-alternative","title":"Configuration Manuelle (Alternative)","text":"<p>Si vous pr\u00e9f\u00e9rez ne pas utiliser Nix :</p>"},{"location":"fr/getting-started/installation/#prerequis","title":"Pr\u00e9requis","text":"<ul> <li>Node.js &gt;= 20</li> <li>pnpm &gt;= 10</li> <li>PostgreSQL 16</li> <li>Python 3.12 (pour la documentation)</li> </ul>"},{"location":"fr/getting-started/installation/#configuration-de-la-base-de-donnees","title":"Configuration de la Base de Donn\u00e9es","text":"<pre><code>createdb librestock_inventory\n</code></pre>"},{"location":"fr/getting-started/installation/#variables-denvironnement","title":"Variables d'Environnement","text":"<p>Copiez le mod\u00e8le d'environnement :</p> <pre><code>cp backend/.env.template backend/.env\n</code></pre> <p>Modifiez <code>backend/.env</code> avec votre configuration (voir le tableau ci-dessus).</p>"},{"location":"fr/getting-started/installation/#demarrer-les-services","title":"D\u00e9marrer les Services","text":"<pre><code># Terminal 1 : API\ncd backend &amp;&amp; pnpm start:dev\n\n# Terminal 2 : Web\ncd frontend &amp;&amp; pnpm dev\n</code></pre>"},{"location":"fr/getting-started/installation/#verifier-linstallation","title":"V\u00e9rifier l'Installation","text":"<ol> <li>Ouvrez http://localhost:8080/api/docs - Vous devriez voir Swagger UI</li> <li>Ouvrez http://localhost:3000 - Vous devriez voir la page de connexion</li> </ol>"},{"location":"fr/getting-started/installation/#prochaines-etapes","title":"Prochaines \u00c9tapes","text":"<ul> <li>D\u00e9marrage rapide - Cr\u00e9er vos premiers produits</li> <li>Configuration - En savoir plus sur les options de configuration</li> </ul>"},{"location":"fr/getting-started/quick-start/","title":"D\u00e9marrage Rapide","text":"<p>Ce guide vous accompagnera dans la cr\u00e9ation de vos premiers produits dans LibreStock Inventory.</p>"},{"location":"fr/getting-started/quick-start/#1-connexion","title":"1. Connexion","text":"<p>Acc\u00e9dez \u00e0 http://localhost:3000 et connectez-vous avec votre compte Better Auth.</p>"},{"location":"fr/getting-started/quick-start/#2-donnees-dexemple-optionnel","title":"2. Donn\u00e9es d'Exemple (Optionnel)","text":"<p>Pour remplir la base de donn\u00e9es avec des donn\u00e9es d'exemple pour les tests :</p> <pre><code>pnpm --filter @librestock/api seed\n</code></pre> <p>Ceci cr\u00e9e :</p> <ul> <li>Des cat\u00e9gories</li> <li>Des fournisseurs</li> <li>Des produits</li> <li>Des emplacements</li> <li>Des clients</li> <li>Des enregistrements d'inventaire</li> <li>Des commandes</li> <li>Des mouvements de stock</li> <li>Des journaux d'audit</li> </ul>"},{"location":"fr/getting-started/quick-start/#3-creer-une-categorie","title":"3. Cr\u00e9er une Cat\u00e9gorie","text":"<ol> <li>Acc\u00e9dez \u00e0 Produits dans la barre lat\u00e9rale</li> <li>Cliquez sur G\u00e9rer les Cat\u00e9gories</li> <li>Cliquez sur Cr\u00e9er une Cat\u00e9gorie</li> <li>Entrez un nom (ex: \"Fournitures de Cuisine\")</li> <li>S\u00e9lectionnez \u00e9ventuellement une cat\u00e9gorie parente</li> <li>Cliquez sur Enregistrer</li> </ol>"},{"location":"fr/getting-started/quick-start/#4-creer-un-produit","title":"4. Cr\u00e9er un Produit","text":"<ol> <li>Acc\u00e9dez \u00e0 Produits</li> <li>Cliquez sur Cr\u00e9er un Produit</li> <li>Remplissez les champs obligatoires :</li> <li>SKU - Entrez manuellement ou scannez un code-barres</li> <li>Nom - Nom du produit</li> <li>Cat\u00e9gorie - S\u00e9lectionnez dans l'arborescence</li> <li>Point de R\u00e9approvisionnement - Niveau de stock minimum</li> <li>Cliquez sur Enregistrer</li> </ol>"},{"location":"fr/getting-started/quick-start/#5-voir-les-journaux-daudit","title":"5. Voir les Journaux d'Audit","text":"<p>Toutes les modifications sont suivies automatiquement :</p> <ol> <li>Acc\u00e9dez aux Journaux d'Audit</li> <li>Consultez l'historique de toutes les modifications</li> <li>Filtrez par type d'entit\u00e9, utilisateur ou date</li> </ol>"},{"location":"fr/getting-started/quick-start/#prochaines-etapes","title":"Prochaines \u00c9tapes","text":"<ul> <li>Produits - En savoir plus sur la gestion des produits</li> <li>Cat\u00e9gories - Organiser votre inventaire</li> <li>Configuration - Personnaliser votre installation</li> </ul>"},{"location":"fr/reference/","title":"R\u00e9f\u00e9rence","text":"<p>Documentation de r\u00e9f\u00e9rence technique pour LibreStock Inventory.</p>"},{"location":"fr/reference/#contenu","title":"Contenu","text":"<ul> <li>Variables d'environnement - Toutes les options de configuration</li> <li>Commandes CLI - Commandes disponibles en ligne de commande</li> <li>D\u00e9pannage - Probl\u00e8mes courants et solutions</li> </ul>"},{"location":"fr/reference/#liens-rapides","title":"Liens rapides","text":""},{"location":"fr/reference/#documentation-api","title":"Documentation API","text":"<p>L'API est document\u00e9e via Swagger UI :</p> <ul> <li>Local : http://localhost:8080/api/docs</li> <li>OpenAPI JSON : http://localhost:8080/api/docs-json</li> </ul>"},{"location":"fr/reference/#types-partages","title":"Types partag\u00e9s","text":"<p>Les interfaces/enums DTO partag\u00e9s vivent dans <code>packages/types</code> :</p> <pre><code>pnpm --filter @librestock/types build\n</code></pre> <p>Les types sont dans <code>packages/types/src/</code>.</p>"},{"location":"fr/reference/cli-commands/","title":"Commandes CLI","text":"<p>R\u00e9f\u00e9rence de toutes les commandes disponibles en ligne de commande pour LibreStock Inventory.</p>"},{"location":"fr/reference/cli-commands/#gestionnaire-de-paquets","title":"Gestionnaire de paquets","text":"<p>Toutes les commandes utilisent pnpm. Ex\u00e9cutez depuis la racine du repository ou utilisez le flag <code>--filter</code>.</p>"},{"location":"fr/reference/cli-commands/#commandes-backend","title":"Commandes Backend","text":"<p>Utilisez <code>pnpm --filter @librestock/api &lt;commande&gt;</code> ou <code>cd backend &amp;&amp; pnpm &lt;commande&gt;</code>.</p>"},{"location":"fr/reference/cli-commands/#developpement","title":"D\u00e9veloppement","text":"<pre><code># D\u00e9marrer le serveur de d\u00e9veloppement avec hot reload\npnpm --filter @librestock/api start:dev\n\n# D\u00e9marrer en mode debug\npnpm --filter @librestock/api start:debug\n\n# Build l'application\npnpm --filter @librestock/api build\n\n# D\u00e9marrer le serveur de production\npnpm --filter @librestock/api start:prod\n</code></pre>"},{"location":"fr/reference/cli-commands/#tests","title":"Tests","text":"<pre><code># Ex\u00e9cuter les tests unitaires (Jest 30)\npnpm --filter @librestock/api test\n\n# Ex\u00e9cuter les tests en mode watch\npnpm --filter @librestock/api test:watch\n\n# Ex\u00e9cuter les tests avec couverture\npnpm --filter @librestock/api test:cov\n\n# Ex\u00e9cuter les tests end-to-end\npnpm --filter @librestock/api test:e2e\n\n# D\u00e9boguer les tests\npnpm --filter @librestock/api test:debug\n</code></pre>"},{"location":"fr/reference/cli-commands/#qualite-du-code","title":"Qualit\u00e9 du code","text":"<pre><code># Lint le code\npnpm --filter @librestock/api lint\n\n# Formater le code avec Prettier\npnpm --filter @librestock/api format\n\n# V\u00e9rification de types TypeScript\npnpm --filter @librestock/api type-check\n</code></pre>"},{"location":"fr/reference/cli-commands/#base-de-donnees","title":"Base de donn\u00e9es","text":"<pre><code># Alimenter la base de donn\u00e9es\npnpm --filter @librestock/api seed\n\n# Importer depuis Sortly\npnpm --filter @librestock/api import:sortly\n\n# G\u00e9n\u00e9rer une migration TypeORM\npnpm --filter @librestock/api migration:generate\n\n# Ex\u00e9cuter les migrations en attente\npnpm --filter @librestock/api migration:run\n\n# Annuler la derni\u00e8re migration\npnpm --filter @librestock/api migration:revert\n</code></pre>"},{"location":"fr/reference/cli-commands/#commandes-frontend","title":"Commandes Frontend","text":"<p>Utilisez <code>pnpm --filter @librestock/web &lt;commande&gt;</code> ou <code>cd frontend &amp;&amp; pnpm &lt;commande&gt;</code>.</p>"},{"location":"fr/reference/cli-commands/#developpement_1","title":"D\u00e9veloppement","text":"<pre><code># D\u00e9marrer le serveur de d\u00e9veloppement (port 3000)\npnpm --filter @librestock/web dev\n\n# Build pour la production\npnpm --filter @librestock/web build\n\n# D\u00e9marrer le serveur de production\npnpm --filter @librestock/web start\n</code></pre>"},{"location":"fr/reference/cli-commands/#qualite-du-code_1","title":"Qualit\u00e9 du code","text":"<pre><code># Lint le code\npnpm --filter @librestock/web lint\n\n# Lint et corriger\npnpm --filter @librestock/web lint:fix\n\n# V\u00e9rification de types TypeScript\npnpm --filter @librestock/web type-check\n\n# Ex\u00e9cuter toutes les validations (type-check + lint + format check)\npnpm --filter @librestock/web validate\n\n# Prettier write + ESLint fix\npnpm --filter @librestock/web check\n</code></pre>"},{"location":"fr/reference/cli-commands/#tests_1","title":"Tests","text":"<pre><code># Ex\u00e9cuter les tests E2E Playwright\npnpm --filter @librestock/web test:e2e\n\n# Mode UI Playwright\npnpm --filter @librestock/web test:e2e:ui\n\n# Tests en navigateur visible\npnpm --filter @librestock/web test:e2e:headed\n</code></pre>"},{"location":"fr/reference/cli-commands/#types-partages","title":"Types partag\u00e9s","text":"<pre><code># G\u00e9n\u00e9rer les fichiers barrel\npnpm --filter @librestock/types barrels\n\n# Build des types partag\u00e9s\npnpm --filter @librestock/types build\n</code></pre>"},{"location":"fr/reference/cli-commands/#commandes-du-workspace-meta","title":"Commandes du Workspace Meta","text":"<p>Ex\u00e9cutez depuis le r\u00e9pertoire <code>meta/</code> :</p> <pre><code># Synchroniser les d\u00e9p\u00f4ts + installer les d\u00e9pendances\n./scripts/bootstrap\n\n# D\u00e9marrer les serveurs de d\u00e9veloppement backend + frontend\n./scripts/dev\n\n# D\u00e9marrer \u00e9galement les services Docker (PostgreSQL, etc.)\n./scripts/dev --with-docker\n\n# Synchroniser les d\u00e9p\u00f4ts depuis repos.yaml\n./scripts/clone-or-update\n\n# Alternative : utiliser workspace.mjs directement\nnode scripts/workspace.mjs sync\nnode scripts/workspace.mjs bootstrap\nnode scripts/workspace.mjs dev [--include-desktop] [--include-docs] [--with-docker]\n</code></pre>"},{"location":"fr/reference/cli-commands/#docker-compose","title":"Docker Compose","text":"<p>D\u00e9marrer les services de d\u00e9veloppement (PostgreSQL) :</p> <pre><code>docker compose -f meta/docker-compose.yml up -d\n</code></pre>"},{"location":"fr/reference/cli-commands/#commandes-just","title":"Commandes Just","text":"<p>Le backend et le frontend disposent d'un <code>justfile</code>. N\u00e9cessite le lanceur de commandes <code>just</code>.</p> <pre><code># Installer les d\u00e9pendances\njust bootstrap\n\n# D\u00e9chiffrer les variables d'environnement avec 1Password CLI\njust decrypt\n\n# D\u00e9marrer le serveur de d\u00e9veloppement\njust dev\n\n# Build pour la production\njust build\n\n# Ex\u00e9cuter les tests\njust test\n</code></pre> <p>1Password CLI</p> <p>La commande <code>just decrypt</code> ex\u00e9cute <code>op inject -i env.template -o .env</code> pour g\u00e9n\u00e9rer les fichiers <code>.env</code> \u00e0 partir des templates en utilisant 1Password CLI.</p>"},{"location":"fr/reference/cli-commands/#commandes-base-de-donnees","title":"Commandes Base de donn\u00e9es","text":"<p>Avec PostgreSQL en cours d'ex\u00e9cution :</p> <pre><code># Se connecter \u00e0 la base de donn\u00e9es\npsql -h localhost -p 5432 -U postgres -d librestock_inventory\n\n# V\u00e9rifier le statut de la base\npg_isready -h localhost -p 5432\n</code></pre>"},{"location":"fr/reference/cli-commands/#combinaisons-utiles","title":"Combinaisons utiles","text":"<pre><code># Rebuild complet\npnpm install &amp;&amp; pnpm build\n\n# V\u00e9rification pr\u00e9-commit\npnpm lint &amp;&amp; pnpm test &amp;&amp; pnpm build\n\n# Mettre \u00e0 jour les types partag\u00e9s apr\u00e8s des changements backend\npnpm --filter @librestock/types barrels &amp;&amp; pnpm --filter @librestock/types build\n</code></pre>"},{"location":"fr/reference/environment-variables/","title":"Variables d'environnement","text":"<p>R\u00e9f\u00e9rence compl\u00e8te de toutes les variables d'environnement utilis\u00e9es dans LibreStock Inventory.</p>"},{"location":"fr/reference/environment-variables/#backend-api","title":"Backend API","text":"<p>Emplacement : <code>backend/.env</code></p>"},{"location":"fr/reference/environment-variables/#base-de-donnees","title":"Base de donn\u00e9es","text":"Variable Requis Description Exemple <code>DATABASE_URL</code> Oui* Cha\u00eene de connexion PostgreSQL compl\u00e8te <code>postgresql://postgres:postgres@localhost:5432/librestock_inventory</code> <code>PGHOST</code> Oui* H\u00f4te PostgreSQL <code>localhost</code> <code>PGPORT</code> Oui* Port PostgreSQL <code>5432</code> <code>PGUSER</code> Oui* Utilisateur PostgreSQL <code>postgres</code> <code>PGPASSWORD</code> Oui* Mot de passe PostgreSQL <code>postgres</code> <code>PGDATABASE</code> Oui* Nom de la base PostgreSQL <code>librestock_inventory</code> <p>*Soit <code>DATABASE_URL</code> soit les variables <code>PG*</code> individuelles sont requises.</p>"},{"location":"fr/reference/environment-variables/#authentification","title":"Authentification","text":"Variable Requis Description Exemple <code>BETTER_AUTH_SECRET</code> Oui Cha\u00eene al\u00e9atoire de 32+ octets pour la signature de session <code>&lt;sortie de openssl rand -base64 32&gt;</code> <code>BETTER_AUTH_URL</code> Oui URL du serveur backend pour Better Auth <code>http://localhost:8080</code>"},{"location":"fr/reference/environment-variables/#serveur","title":"Serveur","text":"Variable Requis D\u00e9faut Description <code>PORT</code> Non <code>8080</code> Port du serveur API <code>NODE_ENV</code> Non <code>development</code> Mode d'environnement <code>CORS_ORIGIN</code> Non <code>http://localhost:3000</code> Origine CORS autoris\u00e9e <code>FRONTEND_URL</code> Non <code>http://localhost:3000</code> URL du frontend pour les redirections"},{"location":"fr/reference/environment-variables/#exemple-env","title":"Exemple <code>.env</code>","text":"<pre><code># Base de donn\u00e9es\nDATABASE_URL=postgresql://postgres:postgres@localhost:5432/librestock_inventory\n\n# Authentification\nBETTER_AUTH_SECRET=&lt;cha\u00eene al\u00e9atoire de 32+ octets&gt;\nBETTER_AUTH_URL=http://localhost:8080\n\n# Serveur\nPORT=8080\nNODE_ENV=development\nCORS_ORIGIN=http://localhost:3000\nFRONTEND_URL=http://localhost:3000\n</code></pre>"},{"location":"fr/reference/environment-variables/#frontend-web","title":"Frontend Web","text":"<p>Emplacement : <code>frontend/.env</code></p>"},{"location":"fr/reference/environment-variables/#api","title":"API","text":"Variable Requis Description Exemple <code>VITE_API_BASE_URL</code> Oui URL de l'API backend <code>http://localhost:8080/api/v1</code>"},{"location":"fr/reference/environment-variables/#monitoring","title":"Monitoring","text":"Variable Requis Description Exemple <code>VITE_SENTRY_DSN</code> Non DSN Sentry pour le suivi des erreurs <code>https://xxx@sentry.io/xxx</code> <code>SENTRY_AUTH_TOKEN</code> Non Token d'authentification Sentry pour les source maps <code>sntrys_xxx...</code>"},{"location":"fr/reference/environment-variables/#exemple-env_1","title":"Exemple <code>.env</code>","text":"<pre><code># API\nVITE_API_BASE_URL=http://localhost:8080/api/v1\n\n# Monitoring (optionnel)\nVITE_SENTRY_DSN=&lt;dsn sentry&gt;\nSENTRY_AUTH_TOKEN=&lt;token auth sentry&gt;\n</code></pre>"},{"location":"fr/reference/environment-variables/#configuration-des-fichiers-denvironnement","title":"Configuration des fichiers d'environnement","text":"<p>Backend :</p> <pre><code>cp backend/.env.template backend/.env\n</code></pre> <p>Frontend :</p> <pre><code>echo \"VITE_API_BASE_URL=http://localhost:8080/api/v1\" &gt; frontend/.env\n</code></pre> <p>1Password CLI</p> <p>Les deux d\u00e9p\u00f4ts disposent d'un <code>justfile</code> avec une t\u00e2che <code>decrypt</code> utilisant 1Password CLI : <pre><code>cd backend &amp;&amp; just decrypt\ncd frontend &amp;&amp; just decrypt\n</code></pre> Ceci ex\u00e9cute <code>op inject -i env.template -o .env</code> pour injecter les secrets depuis 1Password.</p>"},{"location":"fr/reference/environment-variables/#secrets-cicd","title":"Secrets CI/CD","text":"<p>Secrets GitHub Actions requis pour la CI/CD :</p> Secret Description <code>BETTER_AUTH_SECRET</code> Secret Better Auth pour les tests CI"},{"location":"fr/reference/environment-variables/#deploiement-de-la-documentation","title":"D\u00e9ploiement de la documentation","text":"<p>La documentation est d\u00e9ploy\u00e9e via GitHub Pages :</p> <ul> <li>URL du site : https://librestock.github.io/documentation/</li> <li>D\u00e9p\u00f4t : https://github.com/librestock/documentation</li> </ul>"},{"location":"fr/reference/environment-variables/#considerations-de-production","title":"Consid\u00e9rations de production","text":""},{"location":"fr/reference/environment-variables/#securite","title":"S\u00e9curit\u00e9","text":"<ul> <li>Ne jamais committer les fichiers <code>.env</code></li> <li>Utiliser la gestion de secrets en production</li> <li>Faire une rotation des cl\u00e9s r\u00e9guli\u00e8rement</li> </ul>"},{"location":"fr/reference/environment-variables/#better-auth","title":"Better Auth","text":"<ul> <li>Utiliser un <code>BETTER_AUTH_SECRET</code> fort et unique en production (32+ octets al\u00e9atoires)</li> <li>D\u00e9finir <code>BETTER_AUTH_URL</code> vers l'URL de votre backend de production</li> </ul>"},{"location":"fr/reference/environment-variables/#base-de-donnees_1","title":"Base de donn\u00e9es","text":"<ul> <li>Utiliser le connection pooling en production</li> <li>Activer SSL pour les connexions \u00e0 la base de donn\u00e9es</li> </ul>"},{"location":"fr/reference/troubleshooting/","title":"D\u00e9pannage","text":"<p>Solutions aux probl\u00e8mes courants lors du travail avec LibreStock Inventory.</p>"},{"location":"fr/reference/troubleshooting/#environnement-de-developpement","title":"Environnement de d\u00e9veloppement","text":""},{"location":"fr/reference/troubleshooting/#le-shell-nix-ne-demarre-pas","title":"Le shell Nix ne d\u00e9marre pas","text":"<p>Sympt\u00f4me : <code>nix develop</code> \u00e9choue ou se bloque</p> <p>Solutions :</p> <ol> <li> <p>V\u00e9rifier l'installation de Nix :    <pre><code>nix --version\n</code></pre></p> </li> <li> <p>S'assurer que les flakes sont activ\u00e9s dans votre configuration Nix (<code>~/.config/nix/nix.conf</code>) :    <pre><code>experimental-features = nix-command flakes\n</code></pre></p> </li> <li> <p>Essayer d'entrer dans le shell depuis le r\u00e9pertoire du d\u00e9p\u00f4t sp\u00e9cifique :    <pre><code>cd backend &amp;&amp; nix develop\n</code></pre></p> </li> </ol>"},{"location":"fr/reference/troubleshooting/#les-services-docker-ne-demarrent-pas","title":"Les services Docker ne d\u00e9marrent pas","text":"<p>Sympt\u00f4me : <code>docker compose -f meta/docker-compose.yml up -d</code> \u00e9choue</p> <p>Solutions :</p> <ol> <li> <p>V\u00e9rifier que Docker est en cours d'ex\u00e9cution :    <pre><code>docker info\n</code></pre></p> </li> <li> <p>V\u00e9rifier les conflits de ports :    <pre><code>lsof -i :5432\n</code></pre></p> </li> <li> <p>R\u00e9initialiser les conteneurs Docker :    <pre><code>docker compose -f meta/docker-compose.yml down -v\ndocker compose -f meta/docker-compose.yml up -d\n</code></pre></p> </li> </ol>"},{"location":"fr/reference/troubleshooting/#port-deja-utilise","title":"Port d\u00e9j\u00e0 utilis\u00e9","text":"<p>Sympt\u00f4me : Erreur \"Address already in use\"</p> <p>Solutions :</p> <pre><code># Trouver le processus utilisant le port\nlsof -i :8080  # ou :3000, :5432\n\n# Tuer le processus\nkill -9 &lt;PID&gt;\n</code></pre>"},{"location":"fr/reference/troubleshooting/#les-dependances-ne-sinstallent-pas","title":"Les d\u00e9pendances ne s'installent pas","text":"<p>Sympt\u00f4me : <code>pnpm install</code> \u00e9choue</p> <p>Solutions :</p> <ol> <li> <p>Vider le cache pnpm :    <pre><code>pnpm store prune\nrm -rf node_modules\npnpm install\n</code></pre></p> </li> <li> <p>V\u00e9rifier la version de Node.js :    <pre><code>node --version  # Doit \u00eatre 20+\n</code></pre></p> </li> </ol>"},{"location":"fr/reference/troubleshooting/#problemes-de-base-de-donnees","title":"Probl\u00e8mes de base de donn\u00e9es","text":""},{"location":"fr/reference/troubleshooting/#impossible-de-se-connecter-a-postgresql","title":"Impossible de se connecter \u00e0 PostgreSQL","text":"<p>Sympt\u00f4me : Erreurs de connexion refus\u00e9e</p> <p>Solutions :</p> <ol> <li> <p>V\u00e9rifier si PostgreSQL est en cours d'ex\u00e9cution :    <pre><code>pg_isready -h localhost -p 5432\n</code></pre></p> </li> <li> <p>D\u00e9marrer PostgreSQL via Docker Compose :    <pre><code>docker compose -f meta/docker-compose.yml up -d\n</code></pre></p> </li> <li> <p>V\u00e9rifier les variables d'environnement dans <code>backend/.env</code></p> </li> </ol>"},{"location":"fr/reference/troubleshooting/#erreurs-de-migration","title":"Erreurs de migration","text":"<p>Sympt\u00f4me : Erreurs TypeORM concernant le sch\u00e9ma</p> <p>Solutions :</p> <ol> <li> <p>Synchroniser le sch\u00e9ma (d\u00e9veloppement uniquement) :    <pre><code># TypeORM synchronize est activ\u00e9 en dev\n# Red\u00e9marrer le serveur API\n</code></pre></p> </li> <li> <p>V\u00e9rifier que la base de donn\u00e9es existe :    <pre><code>psql -h localhost -U postgres -c '\\l'\n</code></pre></p> </li> <li> <p>Ex\u00e9cuter les migrations en attente :    <pre><code>pnpm --filter @librestock/api migration:run\n</code></pre></p> </li> </ol>"},{"location":"fr/reference/troubleshooting/#problemes-api","title":"Probl\u00e8mes API","text":""},{"location":"fr/reference/troubleshooting/#erreurs-dauthentification-better-auth","title":"Erreurs d'authentification Better Auth","text":"<p>Sympt\u00f4me : Erreurs 401 Unauthorized</p> <p>Solutions :</p> <ol> <li>V\u00e9rifier que <code>BETTER_AUTH_SECRET</code> est d\u00e9fini dans <code>backend/.env</code> (doit \u00eatre 32+ octets al\u00e9atoires)</li> <li>V\u00e9rifier que <code>BETTER_AUTH_URL</code> est correctement d\u00e9fini (ex : <code>http://localhost:8080</code>)</li> <li>V\u00e9rifier que le token est envoy\u00e9 :    <pre><code># La requ\u00eate doit inclure :\n# Authorization: Bearer &lt;token&gt;\n</code></pre></li> <li>Essayer de r\u00e9g\u00e9n\u00e9rer le secret :    <pre><code>openssl rand -base64 32\n</code></pre>    Mettre \u00e0 jour <code>BETTER_AUTH_SECRET</code> dans <code>backend/.env</code> et red\u00e9marrer le serveur.</li> </ol>"},{"location":"fr/reference/troubleshooting/#echec-du-build-des-types-partages","title":"\u00c9chec du build des types partag\u00e9s","text":"<p>Sympt\u00f4me : Le build de <code>@librestock/types</code> \u00e9choue</p> <p>Solutions :</p> <ol> <li> <p>Build l'API d'abord :    <pre><code>pnpm --filter @librestock/api build\n</code></pre></p> </li> <li> <p>V\u00e9rifier les erreurs TypeScript :    <pre><code>pnpm --filter @librestock/api type-check\n</code></pre></p> </li> </ol>"},{"location":"fr/reference/troubleshooting/#problemes-frontend","title":"Probl\u00e8mes Frontend","text":""},{"location":"fr/reference/troubleshooting/#erreurs-de-types-du-client-api","title":"Erreurs de types du client API","text":"<p>Sympt\u00f4me : Erreurs TypeScript dans les hooks \u00e9crits \u00e0 la main ou les types partag\u00e9s</p> <p>Solutions :</p> <ol> <li>Rebuild des types partag\u00e9s apr\u00e8s les changements API :    <pre><code>pnpm --filter @librestock/types barrels\npnpm --filter @librestock/types build\n</code></pre></li> </ol>"},{"location":"fr/reference/troubleshooting/#erreurs-dhydratation","title":"Erreurs d'hydratation","text":"<p>Sympt\u00f4me : Avertissements de mismatch d'hydratation React</p> <p>Solutions :</p> <ol> <li>S'assurer que le rendu client/serveur correspond</li> <li>\u00c9viter le code navigateur au niveau module c\u00f4t\u00e9 SSR</li> <li>Reporter les APIs navigateur dans des effets ou guards</li> </ol>"},{"location":"fr/reference/troubleshooting/#les-traductions-ne-fonctionnent-pas","title":"Les traductions ne fonctionnent pas","text":"<p>Sympt\u00f4me : Cl\u00e9s de traduction affich\u00e9es au lieu du texte</p> <p>Solutions :</p> <ol> <li>V\u00e9rifier que les fichiers de locale existent dans <code>frontend/src/locales/</code></li> <li>V\u00e9rifier la configuration i18n</li> <li>V\u00e9rifier le pr\u00e9fixe de langue dans l'URL</li> </ol>"},{"location":"fr/reference/troubleshooting/#problemes-de-build","title":"Probl\u00e8mes de build","text":""},{"location":"fr/reference/troubleshooting/#erreurs-typescript","title":"Erreurs TypeScript","text":"<p>Sympt\u00f4me : Le build \u00e9choue avec des erreurs de type</p> <p>Solutions :</p> <pre><code># V\u00e9rifier un module sp\u00e9cifique\npnpm --filter @librestock/api type-check\npnpm --filter @librestock/web type-check\n</code></pre>"},{"location":"fr/reference/troubleshooting/#erreurs-eslint","title":"Erreurs ESLint","text":"<p>Sympt\u00f4me : La commande lint \u00e9choue</p> <p>Solutions :</p> <pre><code># Auto-corriger ce qui est possible\npnpm --filter @librestock/api lint --fix\npnpm --filter @librestock/web lint:fix\n</code></pre>"},{"location":"fr/reference/troubleshooting/#problemes-cicd","title":"Probl\u00e8mes CI/CD","text":""},{"location":"fr/reference/troubleshooting/#github-actions-echoue","title":"GitHub Actions \u00e9choue","text":"<p>Sympt\u00f4me : Les v\u00e9rifications CI \u00e9chouent</p> <p>Solutions :</p> <ol> <li> <p>Ex\u00e9cuter les v\u00e9rifications localement d'abord :    <pre><code>pnpm lint &amp;&amp; pnpm test &amp;&amp; pnpm build\n</code></pre></p> </li> <li> <p>V\u00e9rifier que les secrets sont configur\u00e9s dans GitHub</p> </li> <li> <p>Vider le cache GitHub Actions si n\u00e9cessaire</p> </li> </ol>"},{"location":"fr/reference/troubleshooting/#obtenir-plus-daide","title":"Obtenir plus d'aide","text":"<p>Si vous \u00eates toujours bloqu\u00e9 :</p> <ol> <li>Consultez les issues existantes</li> <li>Recherchez les messages d'erreur en ligne</li> <li>Ouvrez une nouvelle issue avec :<ul> <li>Message d'erreur</li> <li>\u00c9tapes pour reproduire</li> <li>D\u00e9tails de l'environnement</li> </ul> </li> </ol>"},{"location":"fr/user-guide/","title":"Guide Utilisateur","text":"<p>Ce guide couvre l'utilisation de toutes les fonctionnalit\u00e9s du syst\u00e8me LibreStock Inventory.</p>"},{"location":"fr/user-guide/#apercu","title":"Aper\u00e7u","text":"<p>LibreStock Inventory est un syst\u00e8me de gestion d'inventaire pour l'approvisionnement des yachts, con\u00e7u pour g\u00e9rer les articles de luxe, le linge, les cosm\u00e9tiques et les commodit\u00e9s aupr\u00e8s de multiples fournisseurs.</p>"},{"location":"fr/user-guide/#fonctionnalites-principales","title":"Fonctionnalit\u00e9s Principales","text":""},{"location":"fr/user-guide/#produits","title":"Produits","text":"<p>G\u00e9rez vos articles d'inventaire avec des informations d\u00e9taill\u00e9es incluant SKUs, prix, sp\u00e9cifications physiques et liens fournisseurs.</p> <p>:octicons-arrow-right-24: Produits</p>"},{"location":"fr/user-guide/#categories","title":"Cat\u00e9gories","text":"<p>Organisez les produits dans une structure de cat\u00e9gories hi\u00e9rarchique avec imbrication illimit\u00e9e.</p> <p>:octicons-arrow-right-24: Cat\u00e9gories</p>"},{"location":"fr/user-guide/#fournisseurs","title":"Fournisseurs","text":"<p>G\u00e9rez les fiches fournisseurs, les coordonn\u00e9es et associez les fournisseurs aux produits.</p>"},{"location":"fr/user-guide/#clients","title":"Clients","text":"<p>Suivez les informations clients pour les commandes d'approvisionnement des yachts.</p>"},{"location":"fr/user-guide/#emplacements","title":"Emplacements","text":"<p>G\u00e9rez les entrep\u00f4ts, les locaux fournisseurs, les yachts clients et les articles en transit.</p> <p>:octicons-arrow-right-24: Emplacements</p>"},{"location":"fr/user-guide/#zones","title":"Zones","text":"<p>D\u00e9finissez des zones, \u00e9tag\u00e8res et emplacements au sein des localisations pour un suivi pr\u00e9cis de l'inventaire.</p> <p>:octicons-arrow-right-24: Zones</p>"},{"location":"fr/user-guide/#inventaire","title":"Inventaire","text":"<p>Suivez les quantit\u00e9s en stock \u00e0 travers les emplacements avec num\u00e9ros de lot et dates d'expiration.</p> <p>:octicons-arrow-right-24: Inventaire</p>"},{"location":"fr/user-guide/#mouvements-de-stock","title":"Mouvements de Stock","text":"<p>Suivez les mouvements de stock entre emplacements pour une tra\u00e7abilit\u00e9 compl\u00e8te de l'inventaire.</p>"},{"location":"fr/user-guide/#commandes","title":"Commandes","text":"<p>Suivez les commandes d'approvisionnement des yachts tout au long de leur cycle de vie complet, du brouillon \u00e0 la livraison.</p> <p>:octicons-arrow-right-24: Commandes</p>"},{"location":"fr/user-guide/#roles-utilisateurs","title":"R\u00f4les &amp; Utilisateurs","text":"<p>G\u00e9rez les comptes utilisateurs et le contr\u00f4le d'acc\u00e8s bas\u00e9 sur les r\u00f4les.</p>"},{"location":"fr/user-guide/#journaux-daudit","title":"Journaux d'Audit","text":"<p>Consultez l'historique complet des modifications avec les diff\u00e9rences avant/apr\u00e8s et le suivi des utilisateurs.</p> <p>:octicons-arrow-right-24: Journaux d'Audit</p>"},{"location":"fr/user-guide/#astuces-rapides","title":"Astuces Rapides","text":"<p>Raccourcis Clavier</p> <ul> <li><code>Ctrl/Cmd + K</code> - Ouvrir la recherche</li> <li><code>Ctrl/Cmd + B</code> - Basculer la barre lat\u00e9rale</li> </ul> <p>Scan QR</p> <p>Utilisez le bouton de code QR \u00e0 c\u00f4t\u00e9 des champs SKU pour scanner les codes-barres avec votre cam\u00e9ra.</p>"},{"location":"fr/user-guide/areas/","title":"Gestion des Zones","text":"<p>Les zones repr\u00e9sentent des espaces sp\u00e9cifiques, des \u00e9tag\u00e8res ou des bacs au sein d'un Emplacement. Elles fournissent un suivi granulaire du placement pour les articles d'inventaire.</p>"},{"location":"fr/user-guide/areas/#comprendre-les-zones","title":"Comprendre les Zones","text":"<p>Les zones sont hi\u00e9rarchiques et appartiennent toujours \u00e0 un Emplacement :</p> <pre><code>Emplacement : Entrep\u00f4t Miami\n\u251c\u2500\u2500 Zone : Zone A\n\u2502   \u251c\u2500\u2500 Zone : \u00c9tag\u00e8re A1\n\u2502   \u251c\u2500\u2500 Zone : \u00c9tag\u00e8re A2\n\u2502   \u2514\u2500\u2500 Zone : \u00c9tag\u00e8re A3\n\u251c\u2500\u2500 Zone : Zone B\n\u2502   \u2514\u2500\u2500 Zone : \u00c9tag\u00e8re B1\n\u2514\u2500\u2500 Zone : Stockage Froid\n    \u251c\u2500\u2500 Zone : R\u00e9frig\u00e9rateur 1\n    \u2514\u2500\u2500 Zone : Cong\u00e9lateur\n</code></pre> <p>Les Zones sont Optionnelles</p> <p>L'inventaire peut \u00eatre suivi uniquement au niveau de l'Emplacement. Les zones ajoutent de la pr\u00e9cision lorsque vous avez besoin de savoir exactement o\u00f9 les articles sont plac\u00e9s.</p>"},{"location":"fr/user-guide/areas/#affichage-des-zones","title":"Affichage des Zones","text":"<p>Acc\u00e9dez \u00e0 Emplacements \u2192 s\u00e9lectionnez un emplacement \u2192 Voir les Zones pour voir toutes les zones au sein de cet emplacement.</p> <p>La liste des zones affiche :</p> <ul> <li>Nom - Identifiant de la zone</li> <li>Code - Code court pour r\u00e9f\u00e9rence rapide</li> <li>Parent - Zone parente (si imbriqu\u00e9e)</li> <li>Statut - Actif ou inactif</li> </ul> <p>Vue Hi\u00e9rarchique</p> <p>Basculez entre la liste plate et la vue arborescente pour voir la hi\u00e9rarchie des zones.</p>"},{"location":"fr/user-guide/areas/#creation-dune-zone","title":"Cr\u00e9ation d'une Zone","text":"<ol> <li>S\u00e9lectionnez un emplacement</li> <li>Cliquez sur le bouton Cr\u00e9er une Zone</li> <li>Remplissez les champs obligatoires :</li> <li>Nom - Nom de la zone (ex. : \"\u00c9tag\u00e8re A1\")</li> <li>Code - Identifiant court (ex. : \"A1\")</li> <li>Parent - Zone parente pour l'imbrication (optionnel)</li> </ol>"},{"location":"fr/user-guide/areas/#champs-de-la-zone","title":"Champs de la Zone","text":"Champ Requis Description Nom Oui Nom d'affichage de la zone Emplacement Oui Emplacement parent (rempli automatiquement) Zone Parente Non Zone parente pour la hi\u00e9rarchie Code Non Code identifiant court Description Non D\u00e9tails suppl\u00e9mentaires Est Actif Non Disponibilit\u00e9 de la zone (par d\u00e9faut vrai)"},{"location":"fr/user-guide/areas/#creation-de-zones-imbriquees","title":"Cr\u00e9ation de Zones Imbriqu\u00e9es","text":"<p>Pour cr\u00e9er une hi\u00e9rarchie :</p> <ol> <li>Cr\u00e9ez d'abord la zone parente (ex. : \"Zone A\")</li> <li>Cr\u00e9ez les zones enfants avec le parent s\u00e9lectionn\u00e9 (ex. : \"\u00c9tag\u00e8re A1\" \u2192 Parent : \"Zone A\")</li> <li>Continuez l'imbrication aussi profond\u00e9ment que n\u00e9cessaire</li> </ol> <pre><code>graph TD\n    L[Entrep\u00f4t Miami] --&gt; A[Zone A]\n    L --&gt; B[Zone B]\n    L --&gt; C[Stockage Froid]\n    A --&gt; A1[\u00c9tag\u00e8re A1]\n    A --&gt; A2[\u00c9tag\u00e8re A2]\n    C --&gt; R1[R\u00e9frig\u00e9rateur 1]\n    C --&gt; F[Cong\u00e9lateur]</code></pre>"},{"location":"fr/user-guide/areas/#modification-des-zones","title":"Modification des Zones","text":"<ol> <li>Cliquez sur une zone pour ouvrir le formulaire de modification</li> <li>Modifiez les champs selon vos besoins</li> <li>Cliquez sur Enregistrer pour appliquer les modifications</li> </ol> <p>D\u00e9placement des Zones</p> <p>Changer le parent d'une zone d\u00e9placera \u00e9galement tous ses enfants. La zone doit rester au sein du m\u00eame emplacement.</p>"},{"location":"fr/user-guide/areas/#suppression-des-zones","title":"Suppression des Zones","text":"<p>Lorsque vous supprimez une zone :</p> <ul> <li>Les zones enfants sont \u00e9galement supprim\u00e9es (suppression en cascade)</li> <li>Les enregistrements d'inventaire perdent leur r\u00e9f\u00e9rence de zone (mise \u00e0 null)</li> <li>L'inventaire reste au niveau de l'emplacement</li> </ul> <p>Suppression en Cascade</p> <p>Supprimer \"Zone A\" supprimera \u00e9galement \"\u00c9tag\u00e8re A1\", \"\u00c9tag\u00e8re A2\" et toutes les autres zones imbriqu\u00e9es.</p>"},{"location":"fr/user-guide/areas/#bonnes-pratiques","title":"Bonnes Pratiques","text":"<ol> <li>Utilisez un nommage coh\u00e9rent - \"\u00c9tag\u00e8re A1\" et non \"etagere-a1\" ou \"ETAGERE A1\"</li> <li>Utilisez des codes pour une recherche rapide - Des codes courts comme \"A1\", \"B2\", \"SF\" aident lors des inventaires</li> <li>N'imbriquez pas trop - 2-3 niveaux suffisent g\u00e9n\u00e9ralement (Zone \u2192 \u00c9tag\u00e8re \u2192 Bac)</li> <li>Refl\u00e9tez l'agencement physique - La structure des zones doit correspondre \u00e0 l'agencement r\u00e9el du stockage</li> </ol>"},{"location":"fr/user-guide/audit-logs/","title":"Journaux d'Audit","text":"<p>Le journal d'audit suit toutes les modifications apport\u00e9es au syst\u00e8me, fournissant un historique complet pour la responsabilit\u00e9 et le d\u00e9pannage.</p> <p>Permission Administrateur Requise</p> <p>La consultation des journaux d'audit n\u00e9cessite la permission administrateur. Seuls les utilisateurs ayant le r\u00f4le administrateur peuvent acc\u00e9der \u00e0 la section des journaux d'audit.</p>"},{"location":"fr/user-guide/audit-logs/#consultation-des-journaux-daudit","title":"Consultation des Journaux d'Audit","text":"<p>Acc\u00e9dez aux Journaux d'Audit pour voir l'historique complet des modifications.</p> <p>Chaque entr\u00e9e de journal inclut :</p> <ul> <li>Horodatage - Quand la modification a eu lieu</li> <li>Utilisateur - Qui a effectu\u00e9 la modification</li> <li>Action - Type d'action (Cr\u00e9er, Modifier, Supprimer, Restaurer)</li> <li>Type d'Entit\u00e9 - Ce qui a \u00e9t\u00e9 modifi\u00e9 (Produit, Cat\u00e9gorie, etc.)</li> <li>ID de l'Entit\u00e9 - L'\u00e9l\u00e9ment sp\u00e9cifique modifi\u00e9</li> <li>Modifications - Valeurs avant/apr\u00e8s</li> </ul>"},{"location":"fr/user-guide/audit-logs/#filtrage-des-journaux","title":"Filtrage des Journaux","text":"<p>Filtrez les journaux d'audit par :</p> <ul> <li>Type d'Entit\u00e9 - Produits, Cat\u00e9gories, Commandes, etc.</li> <li>Action - Cr\u00e9er, Modifier, Supprimer, Restaurer</li> <li>Utilisateur - Utilisateur sp\u00e9cifique</li> <li>P\u00e9riode - Plage de dates</li> <li>ID de l'Entit\u00e9 - \u00c9l\u00e9ment sp\u00e9cifique</li> </ul>"},{"location":"fr/user-guide/audit-logs/#comprendre-les-modifications","title":"Comprendre les Modifications","text":"<p>Pour les actions de modification, le journal affiche :</p> <pre><code>{\n  \"before\": {\n    \"name\": \"Ancien Nom du Produit\",\n    \"price\": 100\n  },\n  \"after\": {\n    \"name\": \"Nouveau Nom du Produit\",\n    \"price\": 150\n  }\n}\n</code></pre>"},{"location":"fr/user-guide/audit-logs/#types-dactions","title":"Types d'Actions","text":"Action Description CREATE Nouvel \u00e9l\u00e9ment cr\u00e9\u00e9 UPDATE \u00c9l\u00e9ment existant modifi\u00e9 DELETE \u00c9l\u00e9ment supprim\u00e9 temporairement RESTORE \u00c9l\u00e9ment supprim\u00e9 restaur\u00e9 ADJUST_QUANTITY Quantit\u00e9 d'inventaire modifi\u00e9e ADD_PHOTO Photo ajout\u00e9e \u00e0 l'\u00e9l\u00e9ment STATUS_CHANGE Champ de statut modifi\u00e9"},{"location":"fr/user-guide/audit-logs/#types-dentites","title":"Types d'Entit\u00e9s","text":"Entit\u00e9 Description PRODUCT Produits d'inventaire CATEGORY Cat\u00e9gories de produits SUPPLIER Fiches fournisseurs ORDER Commandes clients ORDER_ITEM Articles de commande INVENTORY Quantit\u00e9s en stock LOCATION Emplacements de stockage STOCK_MOVEMENT Mouvements de stock entre emplacements PHOTO Images de produits AREA Zones au sein des emplacements CLIENT Fiches clients ROLE R\u00f4les utilisateurs"},{"location":"fr/user-guide/audit-logs/#informations-de-contexte","title":"Informations de Contexte","text":"<p>Chaque journal d'audit inclut le contexte :</p> <ul> <li>Adresse IP - Origine de la requ\u00eate</li> <li>User Agent - Informations navigateur/client</li> <li>ID Utilisateur - Utilisateur authentifi\u00e9</li> </ul>"},{"location":"fr/user-guide/audit-logs/#cas-dutilisation","title":"Cas d'Utilisation","text":""},{"location":"fr/user-guide/audit-logs/#depannage","title":"D\u00e9pannage","text":"<ol> <li>Trouver quand un produit a \u00e9t\u00e9 modifi\u00e9 pour la derni\u00e8re fois</li> <li>Voir qui a chang\u00e9 un prix</li> <li>Suivre les ajustements d'inventaire</li> </ol>"},{"location":"fr/user-guide/audit-logs/#conformite","title":"Conformit\u00e9","text":"<ol> <li>D\u00e9montrer le suivi des modifications</li> <li>Fournir une piste d'audit pour les auditeurs</li> <li>R\u00e9pondre aux exigences r\u00e9glementaires</li> </ol>"},{"location":"fr/user-guide/audit-logs/#recuperation","title":"R\u00e9cup\u00e9ration","text":"<ol> <li>Identifier les modifications accidentelles</li> <li>Comprendre ce qui a \u00e9t\u00e9 chang\u00e9</li> <li>Restaurer manuellement les valeurs pr\u00e9c\u00e9dentes si n\u00e9cessaire</li> </ol>"},{"location":"fr/user-guide/categories/","title":"Gestion des Cat\u00e9gories","text":"<p>Les cat\u00e9gories aident \u00e0 organiser vos produits dans une structure hi\u00e9rarchique pour une navigation et un filtrage faciles.</p>"},{"location":"fr/user-guide/categories/#hierarchie-des-categories","title":"Hi\u00e9rarchie des Cat\u00e9gories","text":"<p>Les cat\u00e9gories peuvent \u00eatre imbriqu\u00e9es pour cr\u00e9er une structure arborescente :</p> <pre><code>Fournitures de Cuisine\n\u251c\u2500\u2500 Alimentation &amp; Boissons\n\u2502   \u251c\u2500\u2500 Produits Frais\n\u2502   \u2514\u2500\u2500 Produits Secs\n\u251c\u2500\u2500 Ustensiles de Cuisine\n\u2514\u2500\u2500 Couverts\n\nSalle des Machines\n\u251c\u2500\u2500 Pi\u00e8ces D\u00e9tach\u00e9es\n\u251c\u2500\u2500 Lubrifiants\n\u2514\u2500\u2500 Outils\n</code></pre>"},{"location":"fr/user-guide/categories/#affichage-des-categories","title":"Affichage des Cat\u00e9gories","text":"<p>L'arborescence des cat\u00e9gories est affich\u00e9e dans la barre lat\u00e9rale lors de la consultation des produits. Cliquez sur une cat\u00e9gorie pour :</p> <ul> <li>Voir les produits de cette cat\u00e9gorie</li> <li>Voir les produits de toutes les sous-cat\u00e9gories</li> <li>D\u00e9velopper/r\u00e9duire les cat\u00e9gories enfants</li> </ul>"},{"location":"fr/user-guide/categories/#creation-dune-categorie","title":"Cr\u00e9ation d'une Cat\u00e9gorie","text":"<ol> <li>Acc\u00e9dez aux Cat\u00e9gories ou cliquez sur G\u00e9rer les Cat\u00e9gories</li> <li>Cliquez sur Cr\u00e9er une Cat\u00e9gorie</li> <li>Remplissez les champs :</li> <li>Nom - Nom de la cat\u00e9gorie (requis)</li> <li>Description - Description optionnelle</li> <li>Cat\u00e9gorie Parente - S\u00e9lectionnez pour cr\u00e9er une sous-cat\u00e9gorie</li> <li>Cliquez sur Enregistrer</li> </ol> <p>Noms des Cat\u00e9gories</p> <p>Utilisez des noms clairs et descriptifs. Les noms de cat\u00e9gories doivent \u00eatre uniques au sein du m\u00eame niveau parent.</p>"},{"location":"fr/user-guide/categories/#modification-des-categories","title":"Modification des Cat\u00e9gories","text":"<ol> <li>Cliquez sur le bouton de modification d'une cat\u00e9gorie</li> <li>Modifiez le nom, la description ou le parent</li> <li>Cliquez sur Enregistrer</li> </ol> <p>Changement de Parents</p> <p>D\u00e9placer une cat\u00e9gorie vers un nouveau parent d\u00e9placera \u00e9galement toutes ses sous-cat\u00e9gories. Le syst\u00e8me emp\u00eache les r\u00e9f\u00e9rences circulaires (une cat\u00e9gorie ne peut pas \u00eatre son propre anc\u00eatre).</p>"},{"location":"fr/user-guide/categories/#suppression-des-categories","title":"Suppression des Cat\u00e9gories","text":"<p>La suppression d'une cat\u00e9gorie est soumise aux contraintes suivantes :</p> <ul> <li>Si des produits existent dans la cat\u00e9gorie, la suppression \u00e9chouera. Vous devez r\u00e9assigner ou supprimer tous les produits de la cat\u00e9gorie avant de la supprimer.</li> <li>Les sous-cat\u00e9gories verront leur r\u00e9f\u00e9rence parente mise \u00e0 null (elles deviennent des cat\u00e9gories de premier niveau).</li> </ul> <p>Suppression de Cat\u00e9gorie</p> <p>Vous ne pouvez pas supprimer une cat\u00e9gorie qui contient encore des produits. L'API renverra une erreur. D\u00e9placez ou supprimez d'abord tous les produits de la cat\u00e9gorie, puis supprimez la cat\u00e9gorie.</p>"},{"location":"fr/user-guide/categories/#bonnes-pratiques","title":"Bonnes Pratiques","text":""},{"location":"fr/user-guide/categories/#organisation-des-categories","title":"Organisation des Cat\u00e9gories","text":"<ol> <li>Gardez-le peu profond - Visez 2-3 niveaux d'imbrication</li> <li>Soyez coh\u00e9rent - Utilisez des mod\u00e8les de nommage similaires</li> <li>Planifiez \u00e0 l'avance - Consid\u00e9rez la croissance future</li> </ol>"},{"location":"fr/user-guide/categories/#exemple-de-structure","title":"Exemple de Structure","text":"<p>Pour un inventaire d'approvisionnement de yacht :</p> <ul> <li>Cuisine - Fournitures de cuisine et de table</li> <li>Entretien - Linge, produits de nettoyage</li> <li>S\u00e9curit\u00e9 - \u00c9quipements de s\u00e9curit\u00e9, premiers secours</li> <li>Salle des Machines - Fournitures techniques</li> <li>Commodit\u00e9s Invit\u00e9s - Articles de toilette, articles de luxe</li> <li>Pont - \u00c9quipements ext\u00e9rieurs</li> </ul>"},{"location":"fr/user-guide/inventory/","title":"Gestion de l'Inventaire","text":"<p>L'inventaire suit la quantit\u00e9 de produits \u00e0 des emplacements et zones sp\u00e9cifiques. Il r\u00e9pond \u00e0 la question : \"Combien de ce produit se trouvent \u00e0 cet endroit ?\"</p>"},{"location":"fr/user-guide/inventory/#comprendre-le-modele-dinventaire","title":"Comprendre le Mod\u00e8le d'Inventaire","text":"<pre><code>graph LR\n    P[Produit] --&gt; I[Inventaire]\n    L[Emplacement] --&gt; I\n    A[Zone] -.-&gt; I\n    I --&gt; Q[Quantit\u00e9]</code></pre> <ul> <li>Produit - Ce qu'est l'article (depuis le catalogue)</li> <li>Emplacement - O\u00f9 les articles sont stock\u00e9s (entrep\u00f4t, fournisseur, etc.)</li> <li>Zone - Placement sp\u00e9cifique optionnel (\u00e9tag\u00e8re, bac)</li> <li>Quantit\u00e9 - Combien se trouvent \u00e0 cet emplacement/zone</li> </ul> <p>Un Enregistrement Par Combinaison</p> <p>Chaque combinaison unique de Produit + Emplacement + Zone poss\u00e8de un seul enregistrement d'inventaire. Utilisez le endpoint d'ajustement pour modifier les quantit\u00e9s.</p>"},{"location":"fr/user-guide/inventory/#affichage-de-linventaire","title":"Affichage de l'Inventaire","text":"<p>Acc\u00e9dez \u00e0 la section Inventaire depuis la barre lat\u00e9rale.</p> <p>La liste d'inventaire affiche :</p> <ul> <li>Produit - SKU et nom</li> <li>Emplacement - O\u00f9 se trouve l'inventaire</li> <li>Zone - Placement sp\u00e9cifique (si d\u00e9fini)</li> <li>Quantit\u00e9 - Niveau de stock actuel</li> <li>Expiration - Date d'expiration (pour les p\u00e9rissables)</li> </ul>"},{"location":"fr/user-guide/inventory/#filtrage-de-linventaire","title":"Filtrage de l'Inventaire","text":"<p>Filtrez l'inventaire par :</p> <ul> <li>Produit - Recherche par SKU ou nom</li> <li>Emplacement - Filtrer par emplacement</li> <li>Zone - Filtrer par zone</li> <li>Stock Bas - Afficher les articles sous le point de r\u00e9approvisionnement</li> <li>Expiration Proche - Afficher les articles expirant dans les 30 jours</li> </ul>"},{"location":"fr/user-guide/inventory/#ajout-dinventaire","title":"Ajout d'Inventaire","text":"<ol> <li>Cliquez sur le bouton Ajouter de l'Inventaire</li> <li>S\u00e9lectionnez un produit</li> <li>S\u00e9lectionnez un emplacement</li> <li>S\u00e9lectionnez optionnellement une zone au sein de cet emplacement</li> <li>Saisissez la quantit\u00e9 et les d\u00e9tails optionnels</li> </ol>"},{"location":"fr/user-guide/inventory/#champs-de-linventaire","title":"Champs de l'Inventaire","text":"Champ Requis Description Produit Oui Produit du catalogue Emplacement Oui Emplacement de stockage Zone Non Zone sp\u00e9cifique au sein de l'emplacement Quantit\u00e9 Oui Nombre d'articles Num\u00e9ro de Lot Non Num\u00e9ro de lot ou de s\u00e9rie Date d'Expiration Non Date d'expiration Co\u00fbt Unitaire Non Co\u00fbt d'achat Date de R\u00e9ception Non Date de r\u00e9ception de l'inventaire <p>Pr\u00e9vention des Doublons</p> <p>Vous ne pouvez pas cr\u00e9er deux enregistrements d'inventaire pour le m\u00eame produit au m\u00eame emplacement/zone. Mettez \u00e0 jour l'enregistrement existant \u00e0 la place.</p>"},{"location":"fr/user-guide/inventory/#ajustement-des-quantites","title":"Ajustement des Quantit\u00e9s","text":"<p>Utilisez la fonctionnalit\u00e9 Ajuster pour ajouter ou retirer de l'inventaire :</p> <ol> <li>Cliquez sur le bouton d'ajustement sur une ligne d'inventaire</li> <li>Saisissez le montant de l'ajustement :</li> <li>Nombre positif pour ajouter (ex. : <code>+50</code>)</li> <li>Nombre n\u00e9gatif pour retirer (ex. : <code>-10</code>)</li> <li>Cliquez sur Ajuster pour appliquer</li> </ol> <p>Ajustement vs Mise \u00e0 Jour</p> <p>Utilisez Ajuster pour les modifications incr\u00e9mentales (r\u00e9ception d'exp\u00e9dition, articles vendus). Utilisez Mettre \u00e0 Jour pour d\u00e9finir une quantit\u00e9 absolue (corrections d'inventaire physique).</p>"},{"location":"fr/user-guide/inventory/#deplacement-dinventaire-mouvements-de-stock","title":"D\u00e9placement d'Inventaire (Mouvements de Stock)","text":"<p>Le module Mouvements de Stock vous permet de suivre et d'enregistrer les transferts d'inventaire entre emplacements :</p> <ol> <li>Acc\u00e9dez \u00e0 Mouvements de Stock</li> <li>Cliquez sur Cr\u00e9er un Mouvement</li> <li>S\u00e9lectionnez l'emplacement source et l'emplacement de destination</li> <li>S\u00e9lectionnez le produit et la quantit\u00e9 \u00e0 transf\u00e9rer</li> <li>Confirmez le mouvement</li> </ol> <p>Les mouvements de stock fournissent une piste d'audit compl\u00e8te des transferts d'inventaire, facilitant le suivi de l'endroit o\u00f9 le stock a \u00e9t\u00e9 d\u00e9plac\u00e9 et par qui.</p>"},{"location":"fr/user-guide/inventory/#alertes-de-stock-bas","title":"Alertes de Stock Bas","text":"<p>Les produits ont un point de r\u00e9approvisionnement qui d\u00e9clenche des alertes de stock bas :</p> <ul> <li>D\u00e9fini sur le produit (ex. : point de r\u00e9approvisionnement = 10)</li> <li>Lorsque la quantit\u00e9 en inventaire est inf\u00e9rieure ou \u00e9gale au point de r\u00e9approvisionnement, l'article appara\u00eet dans le filtre de stock bas</li> <li>Utilisez ceci pour savoir quand r\u00e9approvisionner aupr\u00e8s des fournisseurs</li> </ul>"},{"location":"fr/user-guide/inventory/#suivi-des-dates-dexpiration","title":"Suivi des Dates d'Expiration","text":"<p>Pour les articles p\u00e9rissables :</p> <ol> <li>D\u00e9finissez Est P\u00e9rissable sur le produit</li> <li>Saisissez la Date d'Expiration lors de l'ajout d'inventaire</li> <li>Utilisez le filtre \"Expiration Proche\" pour voir les articles expirant dans les 30 jours</li> </ol>"},{"location":"fr/user-guide/inventory/#inventaire-sur-plusieurs-emplacements","title":"Inventaire sur Plusieurs Emplacements","text":"<p>Le m\u00eame produit peut exister \u00e0 plusieurs emplacements :</p> Produit Emplacement Zone Quantit\u00e9 PROD-001 Entrep\u00f4t Miami \u00c9tag\u00e8re A1 50 PROD-001 Entrep\u00f4t Miami \u00c9tag\u00e8re B2 25 PROD-001 Fournisseur Monaco - 100 PROD-001 Yacht Bella - 5 <p>Cela vous permet de suivre : - Le stock en entrep\u00f4t par \u00e9tag\u00e8re - L'inventaire fournisseur - Les articles d\u00e9j\u00e0 livr\u00e9s aux clients</p>"},{"location":"fr/user-guide/inventory/#bonnes-pratiques","title":"Bonnes Pratiques","text":"<ol> <li>Utilisez les zones pour les grandes quantit\u00e9s - Plus facile de trouver les articles lors de la pr\u00e9paration</li> <li>Suivez les num\u00e9ros de lot - Aide en cas de rappels ou de probl\u00e8mes de qualit\u00e9</li> <li>D\u00e9finissez des points de r\u00e9approvisionnement - \u00c9vitez les ruptures de stock</li> <li>Inventaires physiques r\u00e9guliers - Ajustez les quantit\u00e9s pour correspondre aux comptages physiques</li> <li>Suivez les dates d'expiration - Particuli\u00e8rement pour les cosm\u00e9tiques et les consommables</li> </ol>"},{"location":"fr/user-guide/locations/","title":"Gestion des Emplacements","text":"<p>Les emplacements repr\u00e9sentent les lieux physiques o\u00f9 l'inventaire est stock\u00e9. Cela inclut les entrep\u00f4ts, les locaux fournisseurs, les yachts clients et les articles en transit.</p>"},{"location":"fr/user-guide/locations/#comprendre-les-emplacements","title":"Comprendre les Emplacements","text":"<p>Les emplacements sont cat\u00e9goris\u00e9s par type :</p> Type Description Cas d'utilisation WAREHOUSE Vos installations de stockage Stockage principal de l'inventaire SUPPLIER Locaux de stockage des fournisseurs Suivi du stock fournisseur CLIENT Yacht ou locaux du client Articles livr\u00e9s aux clients IN_TRANSIT Articles en cours de transport Suivi des exp\u00e9ditions"},{"location":"fr/user-guide/locations/#affichage-des-emplacements","title":"Affichage des Emplacements","text":"<p>Acc\u00e9dez \u00e0 la section Emplacements depuis la barre lat\u00e9rale pour voir tous les emplacements.</p> <p>La liste des emplacements affiche :</p> <ul> <li>Nom - Identifiant de l'emplacement</li> <li>Type - Cat\u00e9gorie de l'emplacement</li> <li>Adresse - Adresse physique</li> <li>Contact - Personne de contact principale</li> <li>Statut - Actif ou inactif</li> </ul> <p>Filtrage des Emplacements</p> <p>Utilisez le filtre par type pour afficher uniquement les entrep\u00f4ts, fournisseurs ou autres types d'emplacements.</p>"},{"location":"fr/user-guide/locations/#creation-dun-emplacement","title":"Cr\u00e9ation d'un Emplacement","text":"<ol> <li>Cliquez sur le bouton Cr\u00e9er un Emplacement</li> <li>Remplissez les champs obligatoires :</li> <li>Nom - Nom de l'emplacement (ex. : \"Entrep\u00f4t Miami\")</li> <li>Type - S\u00e9lectionnez le type d'emplacement</li> <li>Adresse - Adresse physique (optionnel)</li> </ol>"},{"location":"fr/user-guide/locations/#champs-de-lemplacement","title":"Champs de l'Emplacement","text":"Champ Requis Description Nom Oui Nom d'affichage de l'emplacement Type Oui WAREHOUSE, SUPPLIER, CLIENT ou IN_TRANSIT Adresse Non Adresse physique Personne de Contact Non Nom du contact principal T\u00e9l\u00e9phone Non Num\u00e9ro de t\u00e9l\u00e9phone du contact Est Actif Non Disponibilit\u00e9 de l'emplacement (par d\u00e9faut vrai)"},{"location":"fr/user-guide/locations/#modification-des-emplacements","title":"Modification des Emplacements","text":"<ol> <li>Cliquez sur une ligne d'emplacement pour ouvrir le formulaire de modification</li> <li>Modifiez les champs selon vos besoins</li> <li>Cliquez sur Enregistrer pour appliquer les modifications</li> </ol> <p>Suppression des Emplacements</p> <p>La suppression d'un emplacement \u00e9chouera si d'autres entit\u00e9s le r\u00e9f\u00e9rencent (enregistrements d'inventaire, zones, etc.). Vous devez supprimer ou r\u00e9assigner tous les enregistrements d'inventaire et zones associ\u00e9s avant de supprimer un emplacement.</p>"},{"location":"fr/user-guide/locations/#hierarchie-des-emplacements","title":"Hi\u00e9rarchie des Emplacements","text":"<p>Les emplacements peuvent contenir des Zones pour un suivi plus granulaire du placement :</p> <pre><code>Entrep\u00f4t Miami (Emplacement)\n\u251c\u2500\u2500 Zone A (Zone)\n\u2502   \u251c\u2500\u2500 \u00c9tag\u00e8re A1 (Zone)\n\u2502   \u2514\u2500\u2500 \u00c9tag\u00e8re A2 (Zone)\n\u251c\u2500\u2500 Zone B (Zone)\n\u2514\u2500\u2500 Stockage Froid (Zone)\n</code></pre> <p>Voir Gestion des Zones pour les d\u00e9tails sur la cr\u00e9ation de zones au sein des emplacements.</p>"},{"location":"fr/user-guide/locations/#bonnes-pratiques","title":"Bonnes Pratiques","text":"<ol> <li>Utilisez des noms descriptifs - Incluez la ville ou l'objectif (ex. : \"Fournisseur Monaco - Linge\")</li> <li>Gardez les coordonn\u00e9es \u00e0 jour - Facilite les r\u00e9approvisionnements rapides</li> <li>Cr\u00e9ez des zones pour les grands emplacements - Suivez le placement exact au sein des entrep\u00f4ts</li> <li>Utilisez IN_TRANSIT pour les exp\u00e9ditions - Suivez les articles en d\u00e9placement entre emplacements</li> </ol>"},{"location":"fr/user-guide/orders/","title":"Traitement des Commandes","text":"<p>Suivez les commandes d'approvisionnement des yachts tout au long de leur cycle de vie complet.</p>"},{"location":"fr/user-guide/orders/#flux-de-travail-des-commandes","title":"Flux de Travail des Commandes","text":"<p>Les commandes suivent ce cycle de vie :</p> <pre><code>graph LR\n    A[Brouillon] --&gt; B[Confirm\u00e9e]\n    B --&gt; C[Approvisionnement]\n    C --&gt; D[Pr\u00e9paration]\n    D --&gt; E[Emball\u00e9e]\n    E --&gt; F[Exp\u00e9di\u00e9e]\n    F --&gt; G[Livr\u00e9e]\n    A --&gt; H[Annul\u00e9e]\n    B --&gt; H\n    C --&gt; H\n    D --&gt; H\n    E --&gt; H\n    B --&gt; I[En Attente]\n    C --&gt; I\n    D --&gt; I\n    E --&gt; I\n    I --&gt; H\n    I --&gt; B\n    I --&gt; C\n    I --&gt; D\n    I --&gt; E</code></pre>"},{"location":"fr/user-guide/orders/#statuts-des-commandes","title":"Statuts des Commandes","text":"Statut Description Brouillon La commande est en cours de pr\u00e9paration Confirm\u00e9e La commande est confirm\u00e9e et le traitement commence Approvisionnement Les articles sont en cours d'approvisionnement Pr\u00e9paration Les articles sont en cours de pr\u00e9paration Emball\u00e9e Les articles sont emball\u00e9s et pr\u00eats \u00e0 l'exp\u00e9dition Exp\u00e9di\u00e9e La commande est en transit Livr\u00e9e La commande a \u00e9t\u00e9 livr\u00e9e Annul\u00e9e La commande a \u00e9t\u00e9 annul\u00e9e (accessible depuis Brouillon, Confirm\u00e9e, Approvisionnement, Pr\u00e9paration, Emball\u00e9e, En Attente) En Attente La commande est temporairement suspendue (accessible depuis Confirm\u00e9e, Approvisionnement, Pr\u00e9paration, Emball\u00e9e ; peut revenir \u00e0 ces statuts ou \u00eatre Annul\u00e9e)"},{"location":"fr/user-guide/orders/#champs-de-la-commande","title":"Champs de la Commande","text":"Champ Description Num\u00e9ro de Commande Identifiant unique de la commande Client Fiche client associ\u00e9e Statut Statut actuel de la commande Date Limite de Livraison Date de livraison requise Adresse de Livraison Destination d'exp\u00e9dition Nom du Yacht Yacht cible pour l'approvisionnement Instructions Sp\u00e9ciales Notes de livraison suppl\u00e9mentaires Montant Total Total calcul\u00e9 de la commande Assign\u00e9e \u00c0 Utilisateur responsable de la commande Cr\u00e9\u00e9e Par Utilisateur ayant cr\u00e9\u00e9 la commande Confirm\u00e9e Le Horodatage de la confirmation Exp\u00e9di\u00e9e Le Horodatage de l'exp\u00e9dition Livr\u00e9e Le Horodatage de la livraison ID T\u00e2che Kanban Lien vers la t\u00e2che du tableau kanban"},{"location":"fr/user-guide/orders/#creation-dune-commande","title":"Cr\u00e9ation d'une Commande","text":"<ol> <li>Acc\u00e9dez aux Commandes</li> <li>Cliquez sur Cr\u00e9er une Commande</li> <li>Remplissez les d\u00e9tails de la commande :</li> <li>Client - S\u00e9lectionnez un client dans la liste des clients</li> <li>Adresse de Livraison - Destination d'exp\u00e9dition</li> <li>Nom du Yacht - Yacht cible</li> <li>Date Limite de Livraison - Date de livraison requise</li> <li>Instructions Sp\u00e9ciales - Notes suppl\u00e9mentaires \u00e9ventuelles</li> <li>Ajoutez les articles</li> <li>Enregistrez comme brouillon ou confirmez</li> </ol>"},{"location":"fr/user-guide/orders/#gestion-des-articles-de-commande","title":"Gestion des Articles de Commande","text":"<p>Chaque commande contient des articles avec :</p> <ul> <li>R\u00e9f\u00e9rence produit</li> <li>Quantit\u00e9 command\u00e9e</li> <li>Prix unitaire</li> <li>Quantit\u00e9 pr\u00e9par\u00e9e</li> <li>Quantit\u00e9 emball\u00e9e</li> </ul>"},{"location":"fr/user-guide/orders/#historique-des-commandes","title":"Historique des Commandes","text":"<p>Toutes les modifications de commande sont suivies dans le journal d'audit :</p> <ul> <li>Changements de statut</li> <li>Ajouts/suppressions d'articles</li> <li>Modifications de quantit\u00e9</li> <li>Changements d'affectation</li> </ul>"},{"location":"fr/user-guide/products/","title":"Gestion des Produits","text":"<p>Les produits sont au c\u0153ur du syst\u00e8me LibreStock Inventory. Chaque produit repr\u00e9sente un article dans votre inventaire d'approvisionnement de yacht.</p>"},{"location":"fr/user-guide/products/#affichage-des-produits","title":"Affichage des Produits","text":"<p>Acc\u00e9dez \u00e0 la section Produits depuis la barre lat\u00e9rale pour voir tous les produits.</p> <p>La liste des produits affiche :</p> <ul> <li>SKU - Identifiant unique du produit</li> <li>Nom - Nom du produit</li> <li>Cat\u00e9gorie - Cat\u00e9gorie du produit</li> <li>Prix - Prix de vente standard</li> <li>Statut - Actif ou inactif</li> </ul> <p>Filtrage des Produits</p> <p>Utilisez la barre lat\u00e9rale des cat\u00e9gories pour filtrer les produits par cat\u00e9gorie. Cliquez sur une cat\u00e9gorie pour afficher uniquement les produits de cette cat\u00e9gorie et de ses sous-cat\u00e9gories.</p>"},{"location":"fr/user-guide/products/#creation-dun-produit","title":"Cr\u00e9ation d'un Produit","text":"<ol> <li>Cliquez sur le bouton Cr\u00e9er un Produit</li> <li>Remplissez les champs obligatoires :</li> <li>SKU - Identifiant unique (peut \u00eatre scann\u00e9 via code QR)</li> <li>Nom - Nom du produit</li> <li>Cat\u00e9gorie - S\u00e9lectionnez dans l'arborescence des cat\u00e9gories</li> </ol>"},{"location":"fr/user-guide/products/#champs-du-produit","title":"Champs du Produit","text":"Champ Requis Description SKU Oui Unit\u00e9 de gestion de stock unique (max 50 car.) Nom Oui Nom d'affichage du produit (max 200 car.) Cat\u00e9gorie Oui Cat\u00e9gorie du produit Description Non Description d\u00e9taill\u00e9e Volume (ml) Non Volume en millilitres Poids (kg) Non Poids en kilogrammes Dimensions (cm) Non Dimensions, ex. : \"10x10x5\" Co\u00fbt Standard Non Co\u00fbt d'achat Prix Standard Non Prix de vente Pourcentage de Marge Non Pourcentage de majoration Point de R\u00e9approvisionnement Non Seuil de stock bas (par d\u00e9faut 0) Fournisseur Principal Non Lien vers une fiche fournisseur SKU Fournisseur Non SKU utilis\u00e9 par le fournisseur Code-barres Non Valeur du code-barres, ex. : \"0641628607549\" Unit\u00e9 Non Unit\u00e9 de mesure, ex. : \"unit\u00e9s\" Est Actif Non Disponibilit\u00e9 du produit (par d\u00e9faut vrai) Est P\u00e9rissable Non Suivi de l'expiration (par d\u00e9faut faux) Notes Non Notes suppl\u00e9mentaires"},{"location":"fr/user-guide/products/#utilisation-du-scanner-qr","title":"Utilisation du Scanner QR","text":"<p>Cliquez sur l'ic\u00f4ne de code QR \u00e0 c\u00f4t\u00e9 du champ SKU pour scanner un code-barres :</p> <ol> <li>Autorisez l'acc\u00e8s \u00e0 la cam\u00e9ra lorsque demand\u00e9</li> <li>Pointez la cam\u00e9ra vers le code-barres</li> <li>Le SKU sera automatiquement rempli</li> </ol>"},{"location":"fr/user-guide/products/#modification-des-produits","title":"Modification des Produits","text":"<ol> <li>Cliquez sur une ligne de produit pour ouvrir le formulaire de modification</li> <li>Modifiez les champs selon vos besoins</li> <li>Cliquez sur Enregistrer pour appliquer les modifications</li> </ol> <p>Modifications de SKU</p> <p>La modification du SKU d'un produit peut affecter les commandes et les enregistrements d'inventaire existants. Soyez prudent lors de la modification des SKUs.</p>"},{"location":"fr/user-guide/products/#operations-en-masse","title":"Op\u00e9rations en Masse","text":"<p>S\u00e9lectionnez plusieurs produits \u00e0 l'aide des cases \u00e0 cocher pour effectuer des actions en masse :</p> <ul> <li>Mise \u00e0 Jour du Statut en Masse - Activer ou d\u00e9sactiver plusieurs produits</li> <li>Suppression en Masse - Supprimer temporairement plusieurs produits</li> <li>Restauration en Masse - Restaurer des produits supprim\u00e9s</li> </ul>"},{"location":"fr/user-guide/products/#execution-des-actions-en-masse","title":"Ex\u00e9cution des Actions en Masse","text":"<ol> <li>S\u00e9lectionnez les produits \u00e0 l'aide des cases \u00e0 cocher</li> <li>Cliquez sur le bouton d'action dans la barre d'outils</li> <li>Confirmez l'action</li> <li>Consultez le r\u00e9sum\u00e9 des r\u00e9sultats</li> </ol>"},{"location":"fr/user-guide/products/#import-csv-en-masse","title":"Import CSV en Masse","text":"<p>Vous pouvez importer plusieurs produits \u00e0 la fois en utilisant un fichier CSV :</p> <ol> <li>Cliquez sur le bouton Importer dans la barre d'outils</li> <li>T\u00e9l\u00e9chargez le mod\u00e8le CSV pour voir le format attendu</li> <li>Remplissez les donn\u00e9es produit dans le fichier CSV</li> <li>T\u00e9l\u00e9versez le fichier CSV compl\u00e9t\u00e9</li> <li>V\u00e9rifiez l'aper\u00e7u de l'import et confirmez</li> </ol> <p>Conseils pour l'Import CSV</p> <ul> <li>Assurez-vous que les SKUs sont uniques et n'existent pas d\u00e9j\u00e0 dans le syst\u00e8me</li> <li>Les noms de cat\u00e9gories doivent correspondre exactement aux cat\u00e9gories existantes</li> <li>Laissez les champs optionnels vides si non applicables</li> </ul>"},{"location":"fr/user-guide/products/#suppression-et-restauration","title":"Suppression et Restauration","text":"<p>Les produits sont supprim\u00e9s temporairement par d\u00e9faut, ce qui signifie qu'ils peuvent \u00eatre restaur\u00e9s :</p> <ol> <li>Supprimez un produit en utilisant le bouton de suppression</li> <li>Affichez les produits supprim\u00e9s en basculant le filtre</li> <li>Cliquez sur Restaurer pour r\u00e9cup\u00e9rer un produit supprim\u00e9</li> </ol> <p>Suppression D\u00e9finitive</p> <p>La suppression d\u00e9finitive d'un produit le retire enti\u00e8rement de la base de donn\u00e9es. Cette action est irr\u00e9versible.</p>"},{"location":"fr/user-guide/products/#images-des-produits","title":"Images des Produits","text":"<p>T\u00e9l\u00e9chargez des images pour aider \u00e0 identifier les produits :</p> <ol> <li>Cliquez sur la zone de t\u00e9l\u00e9chargement d'image</li> <li>S\u00e9lectionnez un fichier image</li> <li>L'image sera t\u00e9l\u00e9charg\u00e9e et affich\u00e9e</li> </ol> <p>Formats support\u00e9s : PNG, JPG, WebP</p>"}]}